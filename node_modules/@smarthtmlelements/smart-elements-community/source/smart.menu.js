
/* Smart HTML Elements v4.6.0 (2019-Oct) 
Copyright (c) 2011-2019 jQWidgets. 
License: https://htmlelements.com/license/ */

Smart("smart-menu-item",class extends Smart.BaseElement{static get properties(){return{checked:{value:!1,type:"boolean"},label:{value:"",type:"any"},level:{value:null,type:"number?"},separator:{value:!1,type:"boolean"},shortcut:{value:"",type:"string"},value:{value:null,type:"any"}}}get enableShadowDOM(){return!1}template(){return""}ready(){super.ready(),this.$.addClass("smart-unselectable")}propertyChangedHandler(e,t,n){const o=this;if("disabled"===e&&!1!==n&&o.checked){const i=o.menu;if(i){super.propertyChangedHandler(e,t,n),o.checked=!1;const a=o.parentItem,r=a?a.checkMode:i.checkMode;"radioButton"===r&&i._validateRadioButtonSelection(a,o.level,[])}}}}),Smart("smart-menu-items-group",class extends Smart.BaseElement{static get properties(){return{checkable:{value:!1,type:"boolean"},checked:{value:!1,type:"boolean"},checkMode:{value:"checkbox",allowedValues:["checkbox","radioButton"],type:"string"},dropDownHeight:{value:null,type:"number?"},expanded:{value:!1,type:"boolean"},label:{value:"",type:"any"},level:{value:null,type:"number?"},separator:{value:!1,type:"boolean"},value:{value:null,type:"any"}}}get enableShadowDOM(){return!1}template(){return""}ready(){super.ready(),this.$.addClass("smart-unselectable")}propertyChangedHandler(e,t,n){if(-1!==["checkable","checkMode","disabled"].indexOf(e)){const o=this,i=o.menu;if(i)switch(super.propertyChangedHandler(e,t,n),e){case"checkable":n?o.itemContainer.setAttribute("checkable",""):o.itemContainer.removeAttribute("checkable"),i._isContainerOpened(o.container.level,o.container)&&"tree"!==i.mode&&!i._minimized&&i._closeSubContainers(o.level+2);break;case"checkMode":o.itemContainer.setAttribute("check-mode",n),i._changeToRadioButtonMode(n,o.itemContainer,o);break;case"disabled":{if(!(Smart.ListMenu&&i instanceof Smart.ListMenu))i._isContainerOpened(o.container.level,o.container)&&i._closeSubContainers(o.level+1,o.container);else if(i._view)for(;o.contains(i._view);)i._backButtonClickHandler();if(!o.checked)return;o.checked=!1;const e=o.parentItem,t=e?e.checkMode:i.checkMode;"radioButton"===t&&i._validateRadioButtonSelection(e,o.level,[]);break}}}}}),Smart("smart-menu",class extends Smart.BaseElement{static get properties(){return{autoCloseDelay:{value:100,type:"number"},autoFocusOnMouseenter:{value:!1,type:"boolean"},checkable:{value:!1,type:"boolean"},checkboxes:{value:!1,type:"boolean"},checkMode:{value:"checkbox",allowedValues:["checkbox","radioButton"],type:"string"},closeAction:{value:"up",allowedValues:["up","down","none"],type:"string"},dataSource:{value:null,type:"array?",reflectToAttribute:!1},displayMember:{value:"label",type:"string"},dropDownAppendTo:{value:null,type:"any?"},dropDownOverlay:{value:!1,type:"boolean"},dropDownPosition:{value:"auto",allowedValues:["top-left","top-right","bottom-left","bottom-right","overlay-left","overlay-right","auto"],type:"string"},enableMouseWheelAction:{value:!1,type:"boolean"},itemsMember:{value:"items",type:"string"},minimizeIconTemplate:{value:null,type:"string?"},minimizeWidth:{value:null,type:"number?"},mode:{value:"horizontal",allowedValues:["horizontal","vertical","dropDown","tree"],type:"string"},opened:{value:!1,type:"boolean"},overflow:{value:"auto",allowedValues:["auto","hidden","scroll"],type:"string"},selectionMode:{value:"click",allowedValues:["click","mouseenter"],type:"string"},valueMember:{value:"value",type:"string"}}}static get listeners(){return{"container.click":"_selectionHandler",keydown:"_keydownHandler",mouseenter:"_mouseenterHandler",mouseleave:"_mouseleaveHandler","container.mouseout":"_mouseoutMouseoverHandler","container.mouseover":"_mouseoutMouseoverHandler",resize:"_resizeHandler",transitionend:"_transitionendHandler","hamburgerIcon.click":"_hamburgerIconClickHandler","mainContainer.click":"_mainContainerHandler","mainContainer.mouseleave":"_mainContainerHandler","mainContainer.mouseout":"_mainContainerHandler","mainContainer.mouseover":"_mainContainerHandler","document.down":"_documentDownHandler","document.up":"_documentUpHandler"}}static get requires(){return{"Smart.RepeatButton":"smart.button.js"}}static get styleUrls(){return["smart.button.css","smart.menu.css"]}get items(){return this._menuItems}template(){return`<div id="container">
                    <div id="minimizedHeader" class ="smart-header smart-minimized-header smart-hidden">
                        <div id="hamburgerIcon" class ="smart-hamburger-icon smart-hidden">
                            <div id="hamburgerIconLineTop" class ="smart-hamburger-icon-line smart-hamburger-icon-line-top"></div>
                            <div id="hamburgerIconLineCenter" class ="smart-hamburger-icon-line smart-hamburger-icon-line-center"></div>
                            <div id="hamburgerIconLineBottom" class ="smart-hamburger-icon-line smart-hamburger-icon-line-bottom"></div>
                            <div id="customIconContainer" class ="smart-hamburger-icon-custom-container smart-hidden"></div>
                        </div>
                    </div>
                    <smart-repeat-button id="scrollButtonNear" class="smart-menu-scroll-button smart-spin-button smart-scroll-button-near smart-hidden" animation="[[animation]]" unfocusable>
                        <div id="arrowNear" class="smart-arrow"></div>
                    </smart-repeat-button>
                    <div id="mainContainer" class="smart-menu-main-container">
                        <content></content>
                    </div>
                    <smart-repeat-button id="scrollButtonFar" class="smart-menu-scroll-button smart-spin-button smart-scroll-button-far smart-hidden" animation="[[animation]]" unfocusable>
                        <div id="arrowFar" class="smart-arrow"></div>
                    </smart-repeat-button>
                </div>`}attached(){const e=this;if((super.attached(),!("tree"===e._element||Smart.ListMenu&&e instanceof Smart.ListMenu))&&e.isCompleted&&e.isRendered&&null!==e.dropDownAppendTo){if(e._minimized)e._dropDownParent.appendChild(e.$.mainContainer);else for(let t=0;t<e._containersInBody.length;t++)e._dropDownParent.appendChild(e._containersInBody[t]);"dropDown"===e.mode&&(e._dropDownParent===e.parentElement?e._dynamicallyReparented?delete e._dynamicallyReparented:e._positionRelativeTo=null:(e._positionRelativeTo=e.parentElement,e._dynamicallyReparented=!0,setTimeout(function(){e._dropDownParent.appendChild(e)},0)))}}detached(){const e=this;super.detached();"tree"===e._element||Smart.ListMenu&&e instanceof Smart.ListMenu||(e._close(),null!==e.dropDownAppendTo&&(e._minimized?e._dropDownParent.removeChild(e.$.mainContainer):e._removeContainersInBody()))}ready(){super.ready()}render(){const e=this;e._element="menu",e._edgeMacFF=Smart.Utilities.Core.Browser.Edge||Smart.Utilities.Core.Browser.Firefox&&-1!==navigator.platform.toLowerCase().indexOf("mac"),e._containers=[],e._containersInBody=[],e._openedContainers=[],e._containersFixedHeight=[],e._menuItemsGroupsToExpand=[],e._additionalScrollButtons=[],e._createElement(),super.render()}addItem(e,t){const n=this;if(!(e instanceof Smart.MenuItem||e instanceof Smart.MenuItemsGroup))return;let o,i;if(void 0===t)t=n.$.mainContainer,o=1,i=t;else{if(t=n.getItem(t),!1==t instanceof Smart.MenuItemsGroup)return;o=t.level+1,i=t.itemContainer}if(n._createItemHTMLStructure(e,o,t,i.childElementCount,0),e instanceof Smart.MenuItemsGroup&&(n._processHTML(e,o+1),n._checkContainersLength()),i.appendChild(e),n._checkOverflowAddRemove(e.level,i),e instanceof Smart.MenuItemsGroup&&("tree"===n.mode||n._minimized)){const t=e.getElementsByClassName("smart-menu-items-group-arrow");for(let e=0;e<t.length;e++)t[e].className="smart-menu-items-group-arrow down smart-arrow-down";n._expandItemsByDefault()}}checkItem(e){const t=this;e=t.getItem(e);void 0===e||e.checked||e.disabled||e.templateApplied||t._toggleItem(e)}clear(){const e=this;e.$.mainContainer.innerHTML="",e._removeContainersInBody(),e._menuItems={},e._containers=[],e._containersInBody=[],e._openedContainers=[],e._containersFixedHeight=[],e._menuItemsGroupsToExpand=[],e._additionalScrollButtons=[]}close(){const e=this;if(!("dropDown"!==e.mode||!1===e.opened&&e.$.hasClass("smart-visibility-hidden"))){const t=e.$.fireEvent("closing",arguments[0]||{trigger:"programmatic"});t.defaultPrevented?e.opened=!0:(e.opened=!1,e.$.addClass("smart-visibility-hidden"),e._close(),e.$.fireEvent("close"))}}collapseItem(e,t){const n=this,o=n.animation,i=!1===t&&n.hasAnimation;if(void 0===e)return i&&(n.animation="none"),n._close(),void(i&&setTimeout(function(){n.animation=o},0));if(e=n.getItem(e),!(void 0===e||e instanceof Smart.MenuItem)){const t=e.level;if(n._openedContainers[t+1]&&n._isContainerOpened(t+1,e.container)){const a=n.mode;i&&(n.animation="none"),n._closeSubContainers(t+1,e.container,void 0,!1!==arguments[2]),(1===t||"tree"===a)&&n._checkOverflow(n.$.mainContainer,"horizontal"===a,[n.$.scrollButtonNear,n.$.scrollButtonFar]),i&&(n.animation=o)}}}expandItem(e,t){const n=this;if(e=n.getItem(e),void 0===e||e instanceof Smart.MenuItemsGroup&&n._isContainerOpened(e.level+1,e.container)&&n._isBranchExpanded(e))return;const o=[e],i=n.animation,a=!1===t&&n.hasAnimation;let r=e.parentItem;for(a&&(n.animation="none"),n._discardKeyboardHover();r;)o.unshift(r),r=r.parentItem;for(let a=0;a<o.length;a++){const e=o[a];if(a==o.length-1&&e instanceof Smart.MenuItem){e.disabled||e.templateApplied||n._hoverViaKeyboard(e);break}n._isContainerOpened(e.container.level,e.container)||n._menuItemsGroupSelectionHandler(e,{target:e,type:"expand",isTrusted:!0},arguments[2])}a&&(n.animation=i)}getItem(e){const t=this;let n;if("string"==typeof e){if(!isNaN(e.charAt(0)))return t._menuItems[e];if(n=t.$.mainContainer.querySelector("#"+e),null===n)return t._menuItems[e]}else{if(!isNaN(e))return t._menuItems[e.toString()];n=e}return(n instanceof Smart.MenuItem||n instanceof Smart.MenuItemsGroup)&&(t.contains(n)||t.$.mainContainer.contains(n)||n.parentElement.parentElement.ownerElement===t)?n:void 0}maximize(){const e=this;if(!e._minimized)return;const t=e.animation;if(e.$.mainContainer.style.marginTop="",e.$.mainContainer.style.marginLeft="",e.enableShadowDOM&&!e.$.mainContainer.id&&(e.$.mainContainer.id=e.$.mainContainer.getAttribute("smart-id")),"none"!==t&&(e.animation="none"),e._positionDetection.removeOverlay(),e._closeSubContainers(2),e.$minimizedHeader.addClass("smart-hidden"),e._minimized=!1,e._minimizedDropDownOpened&&(e.$hamburgerIcon.removeClass("smart-close-button"),e._minimizedDropDownOpened=!1),null!==e.dropDownAppendTo&&e._appendMinimizedContainerToMenu(e.$.mainContainer,e.$.scrollButtonFar),"tree"!==e.mode){e.$mainContainer.addClass("smart-menu-main-container"),e.$mainContainer.removeClass("smart-menu-minimized-items-container");const t=e.$.mainContainer.getElementsByClassName("smart-menu-items-group-arrow");for(let n=0;n<t.length;n++)e._setArrowDirection(t[n],t[n].parentElement.parentElement.level+1);null!==e.dropDownAppendTo&&e._moveDropDownsToExternalContainer(),e._applyContainerFixedHeight()}e.$mainContainer.removeClass("smart-visibility-hidden"),e.$hamburgerIcon.addClass("smart-hidden"),e.removeAttribute("minimized"),e._checkOverflow(e.$.mainContainer,"horizontal"===e.mode,[e.$.scrollButtonNear,e.$.scrollButtonFar]),"none"!==t&&setTimeout(function(){e.animation=t},0)}minimize(){const e=this;if(e._minimized||"dropDown"===e.mode)return;e.$minimizedHeader.removeClass("smart-hidden");const t=null!==e.dropDownAppendTo,n=e.animation,o=e.hasAnimation;if(o&&(e.animation="none"),e._positionDetection.removeOverlay(),e._closeSubContainers(2),o&&t&&(e.animation=n),"tree"!==e.mode&&(t&&e._moveDropDownsToMenu(),e._removeContainerFixedHeight()),e._hideMainContainerScrollButtons(),e.$mainContainer.removeClass("smart-menu-main-container"),e.$mainContainer.addClass("smart-visibility-hidden"),e.enableShadowDOM&&e.$.mainContainer.removeAttribute("id"),e._edgeMacFF&&(e.$.mainContainer.style.left="",e.$.mainContainer.style.top="",e.$mainContainer.addClass("not-in-view")),e.$hamburgerIcon.removeClass("smart-hidden"),t&&e._appendMinimizedContainerToExternalElement(e.$.mainContainer),setTimeout(function(){e.$mainContainer.addClass("smart-menu-minimized-items-container"),o&&!t&&(e.animation=n)},0),e._minimized=!0,e.setAttribute("minimized",""),"tree"!==e.mode){const t=e.$.mainContainer.getElementsByClassName("smart-menu-items-group-arrow");for(let n=0;n<t.length;n++)e._setArrowDirection(t[n],t[n].parentElement.parentElement.level+1)}}open(e,t){var n=Math.max;const o=this;if("dropDown"!==o.mode)return;const i=o.$.fireEvent("opening");if(i.defaultPrevented)return void(o.opened=!1);let a;if(o.opened=!0,o._positionRelativeTo){const n=o._positionRelativeTo.getBoundingClientRect();e+=n.left,t+=n.top,o._positionedParent?(a=o._positionedParent.getBoundingClientRect(),e-=a.left,t-=a.top):(e+=window.pageXOffset,t+=window.pageYOffset)}let r=e+o.offsetWidth-document.documentElement.clientWidth,s=t+o.offsetHeight-document.documentElement.clientHeight;a?(r+=a.left,s+=a.top):(r-=window.pageXOffset,s-=window.pageYOffset),0<r?e-=r:a?e=n(e,-a.left):e=n(e,window.pageXOffset),0<s?t-=s:a?t=n(t,-a.top):t=n(t,window.pageYOffset),isNaN(e)||(o.style.left=e+"px"),isNaN(t)||(o.style.top=t+"px"),o.$.removeClass("smart-visibility-hidden"),o.$.fireEvent("open"),o.hasAnimation||o._noAutoFocus||o.focus()}removeItem(e){const t=this;if(e=t.getItem(e),void 0!==e){const n=e.parentElement;if(e instanceof Smart.MenuItemsGroup){const n=e.container;if(t._isContainerOpened(n.level,n)&&t._closeSubContainers(n.level,n),1===e.level){const e=t._containersInBody.indexOf(n);-1!==e&&(t._containersInBody.splice(e,1),null!==t.dropDownAppendTo&&"tree"!==t.mode&&!t._minimized&&t._dropDownParent.removeChild(n))}}n.removeChild(e),t._refreshContainersArrays(),t._menuItems={},t._refreshItemPaths(t.$.mainContainer,!0),t._checkOverflowAddRemove(e.level,n)}}uncheckItem(e){const t=this;e=t.getItem(e);void 0===e||!e.checked||e.disabled||e.templateApplied||t._toggleItem(e)}propertyChangedHandler(e,t,n){function o(){(null!==r.dropDownAppendTo||"tree"===r.mode)&&r._checkOverflow(r.$.mainContainer,"horizontal"===r.mode,[r.$.scrollButtonNear,r.$.scrollButtonFar])}function a(e,t,n){n?t.setAttribute(e,""):t.removeAttribute(e)}super.propertyChangedHandler(e,t,n);const r=this;switch(e){case"animation":r.$.mainContainer.setAttribute("animation",n),r._additionalScrollButtons.forEach(function(e){e[0].animation=n,e[1].animation=n}),null!==r._dropDownParent&&r._containers.forEach(function(e){e.setAttribute("animation",n)});break;case"checkable":"tree"===r.mode||r._minimized?r._minimized&&null!==r.dropDownAppendTo&&a("checkable",r.$.mainContainer,n):r._closeSubContainers(2);break;case"checkboxes":if(r._close(),null!==r.dropDownAppendTo){for(let e=0;e<r._containers.length;e++){const t=r._containers[e];a("checkboxes",t,n)}r._minimized&&a("checkboxes",r.$.mainContainer,n)}break;case"checkMode":r._changeToRadioButtonMode(n,r.$.mainContainer),r._minimized&&null!==r.dropDownAppendTo&&r.$.mainContainer.setAttribute("check-mode",n);break;case"dataSource":{let e=!1;r._minimized&&(r.maximize(),e=!0),r._removeContainersInBody(),r._containersInBody=[],r._menuItems={},r._processDataSource(),r._checkContainersLength(),e?r.minimize():o(),r._expandItemsByDefault(),r._suppressResizeHandler=!0,setTimeout(()=>delete r._suppressResizeHandler,500);break}case"dropDownAppendTo":{const e=r._dropDownParent;if(r._positionDetection.getDropDownParent(),r._dropDownParent===e||"tree"===r.mode&&!r._minimized)return;if(r._close(),r._minimized)return void(null===n?r._appendMinimizedContainerToMenu(r.$.mainContainer,r.$.scrollButtonFar):r._appendMinimizedContainerToExternalElement(r.$.mainContainer));if(null!==r._dropDownParent&&null===e)r._moveDropDownsToExternalContainer();else if(null===r._dropDownParent&&null!==e)r._moveDropDownsToMenu();else if(null!==r._dropDownParent&&null!==e)for(let e=0;e<r._containersInBody.length;e++)r._dropDownParent.appendChild(r._containersInBody[e]);null!==n||r.$mainContainer.hasClass("simple")?r._checkOverflow(r.$.mainContainer,"horizontal"===r.mode,[r.$.scrollButtonNear,r.$.scrollButtonFar]):r._hideMainContainerScrollButtons();for(let e=0;e<r._containersFixedHeight.length;e++)r._containersFixedHeight[e].itemContainer.checkOverflow=!0;"dropDown"===r.mode&&(r.close({trigger:"internal"}),r._reparentMenu(!0,e));break}case"dropDownOverlay":n||r._positionDetection.removeOverlay();break;case"disabled":n&&r._close(),r._setFocusable(),r.$.scrollButtonNear.disabled=n,r.$.scrollButtonFar.disabled=n,!n&&(null!==r.dropDownAppendTo||r.$mainContainer.hasClass("simple")||"tree"===r.mode)&&r._updateScrollButtonVisibility(r.$.mainContainer,"horizontal"===r.mode,[r.$.scrollButtonNear,r.$.scrollButtonFar]);break;case"dropDownPosition":case"mode":{if("mode"===e){if(delete r._dynamicallyReparented,"tree"===t||r._minimized?(r._closeSubContainersTreeMode(2,void 0,void 0,void 0,!0),r._openedContainers=[]):r._closeSubContainersDefaultMode(2),r._discardKeyboardHover(!0),r._minimized&&r._minimizedDropDownOpened&&(r.$mainContainer.addClass("smart-visibility-hidden"),r.$hamburgerIcon.removeClass("smart-close-button"),r._minimizedDropDownOpened=!1),("horizontal"===n||"horizontal"===t)&&r._changeScrollButtonsArrows(),r._minimized)return void("dropDown"===n&&(r.mode=t));!1===r.opened&&("dropDown"===n?r.$.addClass("smart-visibility-hidden"):"dropDown"===t&&r.$.removeClass("smart-visibility-hidden")),"tree"===t?(null!==r.dropDownAppendTo&&r._moveDropDownsToExternalContainer(),r.$mainContainer.addClass("smart-menu-main-container"),r.$mainContainer.removeClass("smart-menu-minimized-items-container"),r._applyContainerFixedHeight()):"tree"===n&&(null!==r.dropDownAppendTo&&r._moveDropDownsToMenu(),r._applyTreeMode()),"auto"===r.overflow&&r._hideMainContainerScrollButtons(),o()}if("tree"===r.mode||r._minimized)return r._minimizedDropDownOpened&&r._close(),void(r._minimized&&null!==r.dropDownAppendTo&&r.$.mainContainer.setAttribute(r.properties[e].attributeName,n));"dropDownPosition"===e&&r._close();const a=r.enableShadowDOM?r.shadowRoot.querySelectorAll("smart-menu-items-group"):r.getElementsByTagName("smart-menu-items-group");for(let e=0;e<a.length;e++){const t=a[e];r._setArrowDirection(t.children[0].children[1],t.level+1)}if(null!==r.dropDownAppendTo)for(let t=0;t<r._containers.length;t++){const o=r._containers[t];o.setAttribute(Smart.Utilities.Core.toDash(e),n),2<o.level&&r._setArrowDirection(o.menuItemsGroup.children[0].children[1],o.level)}break}case"minimizeIconTemplate":r._applyMinimizeIconTemplate(n,t);break;case"minimizeWidth":r._resizeHandler();break;case"opened":n?r.open():r.close({trigger:"internal"});break;case"overflow":r._handleOverflowChange();break;case"theme":if(null===r.dropDownAppendTo||Smart.ListMenu&&r instanceof Smart.ListMenu)return;if(r._minimized)""!==t&&r.$mainContainer.removeClass(t),""!==n&&r.$mainContainer.addClass(n);else for(let e=0;e<r._containers.length;e++){const o=r._containers[e];""!==t&&o.classList.remove(t),""!==n&&o.classList.add(n)}break;case"unfocusable":r._setFocusable();}}_addOpenedContainer(e,t){const n=this;if("tree"===n.mode||n._minimized){n._openedContainers[e]||(n._openedContainers[e]=[]);const o=t.menuItemsGroup;return o.set("expanded",!0),n._updateState&&n._updateState("expanded",o.id,!0),n._openedContainers[e].push(t)}n._openedContainers[e]=t}_appendMinimizedContainerToExternalElement(e){const t=this;e.ownerElement=t,t._dropDownParent.appendChild(e),e.setAttribute("animation",t.animation),""!==t.theme&&e.$.addClass(t.theme),e.$.addClass("smart-menu-drop-down smart-drop-down"),e.$.addClass("smart-drop-down-repositioned"),e.setAttribute("check-mode",t.checkMode),e.setAttribute("drop-down-position",t.dropDownPosition),e.setAttribute("mode",t.mode),e.setAttribute("loading-indicator-position",t.loadingIndicatorPosition),t.checkable&&e.setAttribute("checkable",""),t.checkboxes&&e.setAttribute("checkboxes",""),t.$.view&&t.detachedChildren.indexOf(t.$.view)&&t.detachedChildren.push(t.$.view)}_appendMinimizedContainerToMenu(e,t){const n=this;delete e.ownerElement,n.$.container.insertBefore(e,t),e.removeAttribute("animation"),""!==n.theme&&e.$.removeClass(n.theme),e.$.removeClass("smart-menu-drop-down smart-drop-down"),e.$.removeClass("smart-drop-down-repositioned"),e.removeAttribute("checkable"),e.removeAttribute("checkboxes"),e.removeAttribute("check-mode"),e.removeAttribute("drop-down-position"),e.removeAttribute("mode"),e.removeAttribute("loading-indicator-position"),e.removeAttribute("style")}_applyContainerFixedHeight(){const e=this;for(let t=0;t<e._containers.length;t++){const n=e._containers[t];-1===e._containersFixedHeight.indexOf(n)?n.style.height="":(n.style.height=n.menuItemsGroup.dropDownHeight+"px",n.itemContainer.checkOverflow=!0)}}_applyGrouping(e,t){const n=this;let o=e===n.$.mainContainer?Array.from(e.children):Array.from(e.container.firstElementChild.children);for(let a=0;a<o.length;a++){const e=o[a];e.originalIndex=a,e instanceof Smart.MenuItemsGroup&&t===void 0&&n._applyGrouping(e)}n._sortItems(e)}_applyMinimizeIconTemplate(e,t){const n=this;if(null===e){if(null===t)return;n.$customIconContainer.addClass("smart-hidden"),n.$.customIconContainer.innerHTML="",n.$hamburgerIconLineTop.removeClass("smart-hidden"),n.$hamburgerIconLineCenter.removeClass("smart-hidden"),n.$hamburgerIconLineBottom.removeClass("smart-hidden")}else{const o=document.getElementById(e);if(null!==o&&"template"===o.tagName.toLowerCase()){const e=document.importNode(o.content,!0);n.$hamburgerIconLineTop.addClass("smart-hidden"),n.$hamburgerIconLineCenter.addClass("smart-hidden"),n.$hamburgerIconLineBottom.addClass("smart-hidden"),n.$.customIconContainer.innerHTML="",n.$.customIconContainer.appendChild(e),n.$customIconContainer.removeClass("smart-hidden")}else n.minimizeIconTemplate=t}}_applyTreeMode(){const e=this,t=e.$.mainContainer.getElementsByClassName("smart-menu-items-group-arrow");if(e.$mainContainer.removeClass("smart-menu-main-container"),e.$mainContainer.addClass("smart-menu-minimized-items-container"),e.isCompleted&&e.isRendered)for(let e=0;e<t.length;e++)t[e].className="smart-menu-items-group-arrow down";e._removeContainerFixedHeight()}_arrowLeftHandler(e,t,n,o){const i=this;1===e?"horizontal"===t&&i._levelOneNavigate("_getLastEnabledChild",n,o):2===e?i._levelOneNavigateFromLowerLevel("_getPreviousEnabledChild",n):i._escapeHandler(n,e,o)}_arrowRightHandler(e,t,n,o){const i=this;1===e?"horizontal"===t?i._levelOneNavigate("_getFirstEnabledChild",n,o):i._levelOneOpenDropDown(n):n instanceof Smart.MenuItemsGroup?i._selectionHandler({target:n,isTrusted:!0}):i._levelOneNavigateFromLowerLevel("_getNextEnabledChild",n)}_browserBoundsDetection(e){var t=Math.min;const n=this;if(("tree"!==n.mode||n._minimized)&&(e.style.marginTop="",e.style.marginLeft="","auto"===n.dropDownPosition)){const n=1===window.devicePixelRatio?document.documentElement.clientWidth:window.innerWidth,o=1===window.devicePixelRatio?document.documentElement.clientHeight:window.innerHeight,i=e.getBoundingClientRect(),a=n-i.left-e.offsetWidth,r=o-i.top-e.offsetHeight;10>a&&(e.style.marginLeft=t(a-10,-10)+"px"),10>r&&(e.style.marginTop=t(r-10,-10)+"px")}}_changeScrollButtonsArrows(){const e=this;"horizontal"===e.mode?(e.$arrowNear.removeClass("smart-arrow-up"),e.$arrowNear.addClass("smart-arrow-left"),e.$arrowFar.removeClass("smart-arrow-down"),e.$arrowFar.addClass("smart-arrow-right")):(e.$arrowNear.removeClass("smart-arrow-left"),e.$arrowNear.addClass("smart-arrow-up"),e.$arrowFar.removeClass("smart-arrow-right"),e.$arrowFar.addClass("smart-arrow-down"))}_changeToRadioButtonMode(e,t,n){if("radioButton"===e){const e=[];for(let n=0;n<t.childElementCount;n++){const o=t.children[n];!o.checked||o.disabled||o.templateApplied||e.push(o)}this._validateRadioButtonSelection(n,n?n.level+1:1,e)}}_checkContainersLength(e){const t=this;0===t._containers.length?(t.$mainContainer.addClass("simple"),!e&&t._checkOverflow(t.$.mainContainer,"horizontal"===t.mode,[t.$.scrollButtonNear,t.$.scrollButtonFar])):!e&&(t.$mainContainer.removeClass("simple"),null===t.dropDownAppendTo&&"tree"!==t.mode&&t.$mainContainer.removeClass("scroll-buttons-shown one-button-shown"))}_checkOverflow(e,t,n){var o=Math.round;const i=this,a=e===i.$.mainContainer?i.overflow:"auto";if(i._minimized||"hidden"===a||null===i.dropDownAppendTo&&"tree"!==i.mode&&e===i.$.mainContainer&&!i.$mainContainer.hasClass("simple"))return;const r=e.scrollTop;"auto"===a&&(e.classList.remove("scroll-buttons-shown"),e.classList.remove("one-button-shown"),n[0].$.addClass("smart-hidden"),n[1].$.addClass("smart-hidden"));let s,l,d;t?(s=o(e.scrollWidth)>o(e.offsetWidth),l=0<o(e.scrollLeft),d=o(e.offsetWidth+e.scrollLeft)<o(e.scrollWidth)):(s=o(e.scrollHeight)>o(e.offsetHeight),l=0<o(e.scrollTop),d=o(e.offsetHeight+e.scrollTop)<o(e.scrollHeight)),s?"auto"===a?(e.classList.add("scroll-buttons-shown"),l&&n[0].$.removeClass("smart-hidden"),d&&n[1].$.removeClass("smart-hidden"),!1===(l&&d)&&e.classList.add("one-button-shown"),!i.disabled&&(n[0].disabled=!1,n[1].disabled=!1),e.scrollTop=r):(n[0].$.removeClass("smart-hidden"),n[1].$.removeClass("smart-hidden"),i.disabled?(n[0].disabled=!0,n[1].disabled=!0):(n[0].disabled=!l,n[1].disabled=!d)):"scroll"===a&&(n[0].disabled=!0,n[1].disabled=!0),e===i.$.mainContainer&&"tree"!==i.mode&&i._close()}_checkOverflowAddRemove(e,t){const n=this;1===e&&null!==n.dropDownAppendTo||"tree"===n.mode?n._checkOverflow(n.$.mainContainer,"horizontal"===n.mode,[n.$.scrollButtonNear,n.$.scrollButtonFar]):1<e&&t.dropDownHeightSet&&(n._isContainerOpened(e,t.container)?n._checkOverflow(t,!1,[t.container.children[0],t.container.children[2]]):t.checkOverflow=!0)}_close(){const e=this;e._positionDetection.removeOverlay(),e._closeSubContainers(2),e._discardKeyboardHover(!0),e._minimized&&e._minimizedDropDownOpened&&(e.$mainContainer.addClass("smart-visibility-hidden"),e._edgeMacFF&&(e.$.mainContainer.style.left="",e.$.mainContainer.style.top="",e.$mainContainer.addClass("not-in-view")),e.$hamburgerIcon.removeClass("smart-close-button"),e._minimizedDropDownOpened=!1)}_closeSubContainers(e,t,n,o){const i=this;"tree"===i.mode||i._minimized?i._closeSubContainersTreeMode(e,t,n,o):i._closeSubContainersDefaultMode(e,t,n)}_closeSubContainersDefaultMode(e,t,n){function o(t){const o=r[t].menuItemsGroup;n&&t===e||(o.$.removeClass("focus"),o.removeAttribute("focus"),o.$.removeClass("hover"),o.removeAttribute("hover")),o.$.removeClass("smart-menu-items-group-opened"),r[t].$.addClass("smart-visibility-hidden"),a._edgeMacFF&&2===t&&!a.hasAnimation&&(r[t].style.left="",r[t].style.top="",r[t].$.addClass("not-in-view")),a._minimized&&a._browserBoundsDetection(a.$.mainContainer),a.$.fireEvent("collapse",{item:o,label:o.label,path:o.path,value:o.value,children:o.itemContainer.children}),r[t]=void 0}const a=this,r=a._openedContainers;for(let a=r.length-1;a>=e;a--)void 0!==r[a]&&o(a,!0)}_closeSubContainersTreeMode(e,t,n,o,i){const a=this;if(o){const e=t.menuItemsGroup,n=a.$.fireEvent("collapsing",{item:e,label:e.label,path:e.path,value:e.value,children:t.itemContainer.children});if(n.defaultPrevented)return}if(void 0===t)return void a._collapseAll(!1,i);const r=t.menuItemsGroup;if(r.set("expanded",!1),"menu"!==a._element)a._updateState("expanded",r.id,!1);else if(n){const e=a.$.mainContainer.getElementsByClassName("focus")[0];e&&(e.$.removeClass("focus"),e.removeAttribute("focus")),r.$.addClass("focus"),r.setAttribute("focus",""),a._focusedViaKeyboard=r}else r.$.removeClass("focus"),r.removeAttribute("focus");if(r.$.removeClass("smart-"+a._element+"-items-group-opened"),i||!a.hasAnimation?(r.$.removeClass("smart-"+a._element+"-items-group-expanded"),t.$.addClass("smart-visibility-hidden"),a._minimized&&a._browserBoundsDetection(a.$.mainContainer)):a._collapseSection(t),o){const e={item:r,label:r.label,path:r.path,value:r.value,children:r.itemContainer.children};a.toggleCallback?(e.type="collapse",a.toggleCallback(e)):a.$.fireEvent("collapse",e)}if(a._openedContainers[e]){const n=a._openedContainers[e].indexOf(t);-1!==n&&a._openedContainers[e].splice(n,1)}}_collapseAll(e,t){const n=this;for(let o=n._openedContainers.length-1;2<=o&&!(n._openedContainers[o]===void 0);o--)for(let i=n._openedContainers[o].length-1;0<=i;i--)n._closeSubContainersTreeMode(o,n._openedContainers[o][i],void 0,e,t);n.hasAnimation||n._checkOverflow(n.$.mainContainer,!1,[n.$.scrollButtonNear,n.$.scrollButtonFar]);for(let o=n._openedContainers.length-1;2<=o;o--){const e=n._openedContainers[o];if(e===void 0||0===e.length)n._openedContainers.splice(o,1);else break}2===n._openedContainers.length&&(n._openedContainers=[])}_collapseSection(e){const t=this,n=e.scrollHeight+"px";t._treeAnimationInProgress=e,e.style.transition="none",requestAnimationFrame(function(){return"tree"===t.mode||t._minimized?void(e.style.height=n,e.style.transition="",requestAnimationFrame(function(){e.style.height="0px","smart-tree"===t.tagName.toLowerCase()&&e.$.addClass("smart-visibility-hidden"),"0px"==n&&t._transitionendHandlerCollapse(t,e)})):void(e.style.transition="")}),e.addEventListener("transitionend",t._transitionendHandlerCollapse)}_createElement(){const e=this,t=e.mode;e._positionDetection=new Smart.Utilities.PositionDetection(e),e._positionDetection.getDropDownParent(),e._reparentMenu(),e.disabled&&(e.$.scrollButtonNear.disabled=!0,e.$.scrollButtonFar.disabled=!0),null===e.dataSource&&e.$.mainContainer.firstElementChild instanceof HTMLUListElement&&e._processUList();const n=(e.shadowRoot||e).querySelectorAll("smart-menu-item, smart-menu-items-group"),o=function(){const n=e.animation;e._changeScrollButtonsArrows(),e._setFocusable(),"dropDown"===t&&!1===e.opened&&(e.hasAnimation?(e.animation="none",e.$.addClass("smart-visibility-hidden"),e.animation=n):e.$.addClass("smart-visibility-hidden")),e._menuItems={},e.$.mainContainer.setAttribute("animation",n),null===e.dataSource?e._processHTML(e.$.mainContainer,1):e._processDataSource(),e._checkContainersLength(!0),(null!==e.dropDownAppendTo||e.$mainContainer.hasClass("simple")||"tree"===e.mode)&&"scroll"===e.overflow&&(e.$mainContainer.addClass("scroll-buttons-shown"),e.$scrollButtonNear.removeClass("smart-hidden"),e.$scrollButtonFar.removeClass("smart-hidden"),e._updateScrollButtonVisibility(e.$.mainContainer,"horizontal"===t,[e.$.scrollButtonNear,e.$.scrollButtonFar])),e._applyMinimizeIconTemplate(e.minimizeIconTemplate,null),"tree"===t&&e._applyTreeMode(),null!==e.minimizeWidth&&e.offsetWidth<=e.minimizeWidth?e.minimize():e._checkOverflow(e.$.mainContainer,"horizontal"===t,[e.$.scrollButtonNear,e.$.scrollButtonFar]),e._expandItemsByDefault(),e.__onCompleted&&(e._onCompleted=e.__onCompleted,e.__onCompleted=null,e._onCompleted())};0===n.length||e.enableShadowDOM||e.isInShadowDOM?o():(e._onCompleted&&(e.__onCompleted=e._onCompleted,e._onCompleted=null),e._ensureItemsReady(n,o))}_ensureItemsReady(e,t){const n=this,o=function(){const n=function(t){for(let n=0;n<e.length;n++)e[n].context="node"===t?e[n]:document};n("node"),t(),n()};if(0===e.length)o();else{n._nodesReadyListeners=0;for(let t=0;t<e.length;t++){const i=e[t],a=function(){const e=n.context;n.context=n,n._nodesReadyListeners--,0===n._nodesReadyListeners&&(o(),delete n._nodesReadyListeners),n.context=e}.bind(n);i.isCompleted||(n._nodesReadyListeners++,i.completeHandlers=[],i._onCompleted=a)}0===n._nodesReadyListeners&&o()}}_createItemHTMLStructure(e,t,n,o){const i=this,a=document.createElement("div"),r=document.createElement("div"),s=document.createDocumentFragment();let l;e.menu=i,1<t?(e.originalIndex=o,l=n.path+"."+e.originalIndex,e.parentItem=n):(e.originalIndex=o,l=""+o),e.path=l,i._menuItems[l]=e,a.className="smart-"+i._element+"-item-label-container",r.className="smart-"+i._element+"-item-label-element","tree"===i._element&&i._setIndentation(a,t,i.rightToLeft?"paddingRight":"paddingLeft");const d=Array.from(e.childNodes);for(let a=0;a<d.length;a++){const e=d[a];if(e instanceof Smart.MenuItem||e instanceof Smart.MenuItemsGroup)break;r.appendChild(e)}if(""===r.innerHTML.trim()){const t=e.label||e.getAttribute("label");t&&""!==t?i._setLabel(t,r,e,!0):(e.set("label","Item "+o),r.innerHTML="Item "+o)}else e.set("label",r.innerHTML.trim());if(e instanceof Smart.MenuItemsGroup&&void 0===e.titleLabel&&(e.titleLabel=e.label),r.innerHTML="<span>"+r.innerHTML+"</span>",s.appendChild(r),e.set("level",t),e.set("shortcut",e.shortcut||e.getAttribute("shortcut")||""),e.shortcut&&e instanceof Smart.MenuItem){const t=document.createElement("div");t.className="smart-"+i._element+"-item-shortcut",t.innerHTML=e.shortcut,s.appendChild(t)}a.appendChild(s),e.insertBefore(a,e.children[0]),e.id||(e.id=i.id+"ItemP"+e.path.replace(/\./g,"_")+"L"+e.label.replace(/<|\/|>|"|'|=|\s/g,""))}_createMenuItemsGroupContainer(e,t){const n=this,o=document.createElement("div"),i=document.createElement("div");if(o.className="smart-"+n._element+"-drop-down smart-visibility-hidden",n._edgeMacFF&&2===t&&"tree"!==n.mode&&(o.className+=" not-in-view"),o.$=Smart.Utilities.Extend(o),o.level=t,o.setAttribute("level",t),o.menuItemsGroup=e,i.className="smart-"+n._element+"-item-container",i.$=Smart.Utilities.Extend(i),i.container=o,i.menuItemsGroup=e,e.checkable&&i.setAttribute("checkable",""),i.setAttribute("check-mode",e.checkMode),o.itemContainer=i,o.appendChild(i),null!==e.dropDownHeight){const t=document.createElement("smart-repeat-button"),a=document.createElement("smart-repeat-button");t.className="smart-menu-scroll-button smart-spin-button smart-scroll-button-near smart-hidden",t.innerHTML="<div id=\"arrowNear\" class=\"smart-arrow smart-arrow-up\"></div>",t.animation=n.animation,t.unfocusable=!0,a.className="smart-menu-scroll-button smart-spin-button smart-scroll-button-far smart-hidden",a.innerHTML="<div id=\"arrowNear\" class=\"smart-arrow smart-arrow-down\"></div>",a.animation=n.animation,a.unfocusable=!0,o.insertBefore(t,i),o.appendChild(a),o.$.addClass("drop-down-height-set"),i.dropDownHeightSet=!0,i.checkOverflow=!0,o.style.height=e.dropDownHeight+"px",n._containersFixedHeight.push(o),n._additionalScrollButtons.push([t,a])}return o}_discardKeyboardHover(e){const t=this;!t._focusedViaKeyboard||!e&&t._focusedViaKeyboard instanceof Smart.MenuItemsGroup&&t._isContainerOpened(t._focusedViaKeyboard.level+1,t._focusedViaKeyboard.container)||(t._focusedViaKeyboard.$.removeClass("focus"),t._focusedViaKeyboard.removeAttribute("focus"),t._focusedViaKeyboard.$.removeClass("hover"),t._focusedViaKeyboard.removeAttribute("hover"),t._focusedViaKeyboard=void 0)}_documentDownHandler(e){const t=this;"down"===t.closeAction&&t._closeOnDocumentInteraction(e.originalEvent)}_documentUpHandler(e){const t=this,n=e.originalEvent.target;if(t.disabled||t.displayLoadingIndicator||!n.closest)return;const o="up"===t.closeAction&&t._closeOnDocumentInteraction(e.originalEvent);if(o)return;let i,a;if(Smart.EnableShadowDOM?(i=t.isInShadowDOM?t.getRootNode().activeElement:t.shadowRoot?t.shadowRoot.activeElement||document.activeElement:document.activeElement,a=t.$.container.contains(e.originalEvent.composedPath()[0])):(i=document.activeElement,a=t.contains(n)),!o&&t!==i&&null===i.closest("[template-applied]")){if(a||n.closest(".smart-list-menu-view")===t.$.view)return void t.focus();const e=n.closest(".smart-drop-down-repositioned");e&&e.ownerElement===t&&t.focus()}}_closeOnDocumentInteraction(e){const t=this,n=e.target;let o,i;if(Smart.EnableShadowDOM?(o=e.composedPath()[0],i=t.$.container.contains(o)):i=t.contains(n),"dropDown"===t.mode&&t.opened){const e=n.closest(".smart-drop-down-repositioned");if(!i&&(!e||e.ownerElement!==t))return t.close({trigger:"interaction",target:Smart.EnableShadowDOM?o:n}),!0}return!i&&null===n.closest(".smart-menu-drop-down")||o&&o===t.$.mainContainer||n===t.$.mainContainer?"tree"===t.mode||(t._close(),!0):void 0}_endSwiping(e,t,n){var o=Math.abs;const i=this;if(!i._dragStartDetails)return;const a=i.$.mainContainer,r=o(i._dragStartDetails.startTime-t),s=300/r,l=(i._dragStartDetails.startY-e.pageY)*s;let d=o(l);const m=function(){return!(0<l&&a.scrollTop===a.scrollHeight-a.offsetHeight||0>l&&0===a.scrollTop)};let c=.03*o(l)*s;const u=function(){if(5<c){const e=(d-c)/o(l);.1>e?c/=1.25:.15>e?c/=1.2:.2>e?c/=1.15:.25>e?c/=1.1:.3>e&&(c/=1.05)}const e=a.scrollTop;a.scrollTop=0<l?Math.min(e+c,a.scrollHeight-a.offsetHeight):Math.max(e-c,0),d-=c,i._updateScrollButtonVisibility(i.$.mainContainer,"horizontal"===i.mode,[i.$.scrollButtonNear,i.$.scrollButtonFar]);const t=m();if(0<d&&t)i._scrollingAnimationFrame=window.requestAnimationFrame(u);else if(i._wheelInProgress=!1,!t&&(i._fireScrollBottomReachedEvent&&i._fireScrollBottomReachedEvent(e),!0!==n)){const e=i.$.mainContainer.scrollTop;0===e?i._bounceTop():i._bounceBottom(e)}};i._scrollingAnimationFrame&&cancelAnimationFrame(i._scrollingAnimationFrame),1e3>r&&m()?i._scrollingAnimationFrame=window.requestAnimationFrame(u):i._wheelInProgress=!1,delete i._dragStartDetails}_ensureVisible(e){function t(t,n,o){let i=e.firstElementChild[o]+t-a[o];0>i&&(i=t),a["scroll"+n]=i}function n(n,i){let s=e["offset"+n],l=a[i];"Top"!==n||a===o.$.mainContainer||r[0].$.hasClass("smart-hidden")||(s-=r[0][i]),t(s,n,i),o._updateScrollButtonVisibility(a,"Left"===n,r),l!==a[i]&&t(s,n,i)}const o=this;if(o._minimized)return;const i=o.mode;let a,r;if("tree"!==i&&e.parentElement!==o.$.mainContainer){if(null===e.dropDownHeight)return;a=e.parentElement,r=[a.container.children[0],a.container.children[2]]}else a=o.$.mainContainer,r=[o.$.scrollButtonNear,o.$.scrollButtonFar];if(a!==o.$.mainContainer||(null!==o.dropDownAppendTo||"tree"===o.mode||o.$mainContainer.hasClass("simple"))&&(a.$.hasClass("scroll-buttons-shown")||"hidden"===o.overflow)){const t=a.getBoundingClientRect(),r=e.getBoundingClientRect();return"tree"===i?void o._ensureVisibleTreeMode(e,r,a,t,0):void(a===o.$.mainContainer&&"horizontal"===i&&(t.left>r.left||t.right<r.right)?n("Left","offsetWidth"):(t.top>r.top||t.bottom<r.bottom)&&n("Top","offsetHeight"))}}_ensureVisibleTreeMode(e,t,n,o,i){const a=this;if(("menu"===a._element||"scrollButtons"===a.scrollMode)&&!n.$.hasClass("scroll-buttons-shown")&&"hidden"!==a.overflow)return;const r=n.offsetHeight,s=a.$scrollButtonNear.hasClass("smart-hidden");let l;if(o.top>t.top)l=a._getOffsetTop(e);else{let n=e.expanded?e.firstElementChild.offsetHeight+parseInt(window.getComputedStyle(e.children[1]).marginTop,10):e.offsetHeight;if("tree"===a._element&&(n+=parseFloat(getComputedStyle(a).getPropertyValue("--smart-tree-item-vertical-offset"))||0),o.bottom<t.top+n)l=a._getOffsetTop(e)-r+n+i;else return}n.scrollTop=l,("menu"===a._element||"scrollButtons"===a.scrollMode)&&a._updateScrollButtonVisibility(n,!1,[a.$.scrollButtonNear,a.$.scrollButtonFar]),"auto"===a.overflow&&s&&!a.$scrollButtonNear.hasClass("smart-hidden")&&(n.scrollTop+=r-n.offsetHeight)}_escapeHandler(e,t,n){const o=this;e&&(e.$.removeClass("focus"),e.removeAttribute("focus")),o._closeSubContainers(t,void 0,void 0,!0),o._hoverViaKeyboard(n.menuItemsGroup)}_expandItemsByDefault(e){const t=this;if((0!==t._menuItemsGroupsToExpand.length||e)&&("tree"===t.mode||t._minimized)){const n=t.hasAnimation,o=t.animation;n&&(t.animation="none"),e&&t._collapseAll(!1);for(let e=0;e<t._menuItemsGroupsToExpand.length;e++)t.expandItem(t._menuItemsGroupsToExpand[e].path,void 0,!1);n&&(t.animation=o),t._menuItemsGroupsToExpand=[]}}_expandSection(e){const t=this,n=e.style.height,o=e.scrollHeight+"px";return e.style.height=o,t._treeAnimationInProgress=e,n!==o&&(parseFloat(n)||parseFloat(o))?void e.addEventListener("transitionend",t._transitionendHandlerExpand):void t._transitionendHandlerExpand(t,e)}_filterInputKeyupHandler(){const e=this;e._filterTimer&&clearTimeout(e._filterTimer),e._filterTimer=setTimeout(function(){const t=e.context;e.context=e,e._applyFilter(e.$.filterInput.value,e._view),e._checkOverflow(),e.context=t},300)}_findItem(e,t){if(""===t)return e;const n=this;switch(n.filterMode){case"startsWith":if(0===e.label.indexOf(t))return e;break;case"startsWithIgnoreCase":if(0===e.label.toLowerCase().indexOf(t.toLowerCase()))return e;break;case"doesNotContain":if(0>e.label.indexOf(t))return e;break;case"doesNotContainIgnoreCase":if(0>e.label.toLowerCase().indexOf(t.toLowerCase()))return e;break;case"contains":if(-1<e.label.indexOf(t))return e;break;case"containsIgnoreCase":if(-1<e.label.toLowerCase().indexOf(t.toLowerCase()))return e;break;case"equals":if(0===e.label.localeCompare(t))return e;break;case"equalsIgnoreCase":if(0===e.label.toLowerCase().localeCompare(t.toLowerCase()))return e;break;case"endsWith":if(e.label.endsWith(t))return e;break;case"endsWithIgnoreCase":if(e.label.toLowerCase().endsWith(t.toLowerCase()))return e;}return null}_getFirstEnabledChild(e){const t=e.children;for(let n=0;n<t.length;n++)if(this._isChildEnabled(t[n]))return t[n]}_getLastEnabledChild(e){const t=e.children;for(let n=t.length-1;0<=n;n--)if(this._isChildEnabled(t[n]))return t[n]}_getNextEnabledChild(e){if(e)for(;e.nextElementSibling;){const t=e.nextElementSibling;if(this._isChildEnabled(t))return t;e=t}}_getOffsetTop(e){let t=e.offsetTop;for(;e.offsetParent!==this.$.mainContainer;)e=e.offsetParent,t+=e.offsetTop;return t}_getPreviousEnabledChild(e){if(e)for(;e.previousElementSibling;){const t=e.previousElementSibling;if(this._isChildEnabled(t))return t;e=t}}_hamburgerIconClickHandler(e,t){e&&e.stopPropagation();const n=this;if(void 0===t&&(Smart.ListMenu&&n instanceof Smart.ListMenu?t=n.$.view:t=n.$.mainContainer),!n.disabled)if(!n._minimizedDropDownOpened){if(n._positionDetection.placeOverlay(),null!==n.dropDownAppendTo){const e=n.dropDownPosition,o=n.getBoundingClientRect(),i=n._positionDetection.getDropDownOffset();-1!==e.indexOf("right")||"auto"===e?(t.style.left=o.left+i.x+"px",t.style.right="initial"):-1!==e.indexOf("left")&&(t.style.left=o.right-t.offsetWidth+i.x+"px",t.style.right="initial"),-1!==e.indexOf("bottom")||-1!==e.indexOf("overlay")||"auto"===e?t.style.top=o.bottom+i.y+"px":-1!==e.indexOf("top")&&(t.style.top=o.top+i.y+"px")}n._edgeMacFF&&t.$.removeClass("not-in-view"),t.$.removeClass("smart-visibility-hidden"),n.$hamburgerIcon.addClass("smart-close-button"),n._minimizedDropDownOpened=!0,n._browserBoundsDetection(t)}else n._close()}_handleOverflowChange(){const e=this;if((e._minimized||null===e.dropDownAppendTo&&!e.$mainContainer.hasClass("simple")&&"tree"!==e.mode)&&!(Smart.ListMenu&&e instanceof Smart.ListMenu))return;const t=e.overflow;let n;"horizontal"===e.mode?(n=!0,e.$.mainContainer.scrollLeft=0):(n=!1,e.$.mainContainer.scrollTop=0),"hidden"===t?(e.$mainContainer.removeClass("scroll-buttons-shown"),e.$scrollButtonNear.addClass("smart-hidden"),e.$scrollButtonFar.addClass("smart-hidden")):(e.$.scrollButtonNear.disabled=e.disabled,e.$.scrollButtonFar.disabled=e.disabled,"auto"===t?(e.$scrollButtonNear.addClass("smart-hidden"),e.$scrollButtonFar.addClass("smart-hidden"),e._checkOverflow(e.$.mainContainer,n,[e.$.scrollButtonNear,e.$.scrollButtonFar])):(e.$mainContainer.addClass("scroll-buttons-shown"),e.$mainContainer.removeClass("one-button-shown"),e.$scrollButtonNear.removeClass("smart-hidden"),e.$scrollButtonFar.removeClass("smart-hidden"),e._updateScrollButtonVisibility(e.$.mainContainer,n,[e.$.scrollButtonNear,e.$.scrollButtonFar])))}_hideMainContainerScrollButtons(){const e=this;e.$scrollButtonNear.addClass("smart-hidden"),e.$scrollButtonFar.addClass("smart-hidden"),e.$mainContainer.removeClass("scroll-buttons-shown"),e.$mainContainer.removeClass("one-button-shown")}_hoverViaKeyboard(e){if(e){const t=this;e.$.addClass("focus"),e.setAttribute("focus",""),t._focusedViaKeyboard=e,t._ensureVisible(e)}}_isBranchExpanded(e){const t=this;if("tree"!==t.mode)return!0;let n=!0;for(;e.parentItem;)n=n&&e.parentItem.expanded,e=e.parentItem;return n}_isChildEnabled(e){return!(e.disabled||e.templateApplied||e.hidden||e instanceof HTMLDivElement||0===e.offsetHeight)}_isContainerOpened(e,t){const n=this;return"tree"===n.mode||n._minimized?(n._openedContainers[e]||(n._openedContainers[e]=[]),-1!==n._openedContainers[e].indexOf(t)):n._openedContainers[e]===t}_keydownHandler(e){const t=this,n=e.key;if(t.getRootNode().activeElement!==t||-1===["ArrowDown","ArrowLeft","ArrowRight","ArrowUp","End","Enter","Escape","Home"," "].indexOf(n)||t.disabled)return;e.preventDefault();const o=t.mode;if("tree"===o||t._minimized)return void t._keydownHandlerTreeMode(n);const i=t.dropDownPosition,a=-1!==i.indexOf("left"),r="top-left"===i||"top-right"===i,s=t._openedContainers;let l,d=t.$.mainContainer,m=1;for(let t=s.length-1;0<=t;t--)if(void 0!==s[t]){d=s[t],m=d.level,d=d.itemContainer;break}switch(l=d.querySelector("[focus][level=\""+m+"\"]"),n){case"ArrowDown":1===m?"horizontal"!==o||r?"horizontal"!==o&&t._levelOneNavigate("_getFirstEnabledChild",l,d):t._levelOneOpenDropDown(l):t._navigate("_getNextEnabledChild",l,d);break;case"ArrowLeft":a?1===m?"horizontal"===o?t._levelOneNavigate("_getLastEnabledChild",l,d):t._levelOneOpenDropDown(l):l instanceof Smart.MenuItemsGroup?t._selectionHandler({target:l,isTrusted:!0}):t._levelOneNavigateFromLowerLevel("_getPreviousEnabledChild",l):t._arrowLeftHandler(m,o,l,d);break;case"ArrowRight":a?1===m?"horizontal"===o&&t._levelOneNavigate("_getFirstEnabledChild",l,d):2===m?t._levelOneNavigateFromLowerLevel("_getNextEnabledChild",l):t._escapeHandler(l,m,d):t._arrowRightHandler(m,o,l,d);break;case"ArrowUp":1===m?"horizontal"===o&&r?t._levelOneOpenDropDown(l):"horizontal"!==o&&t._levelOneNavigate("_getLastEnabledChild",l,d):t._navigate("_getPreviousEnabledChild",l,d);break;case"End":case"Home":{const e="End"===n?t._getLastEnabledChild(d):t._getFirstEnabledChild(d);if(!e||l===e)return;l&&(l.$.removeClass("focus"),l.removeAttribute("focus")),t._hoverViaKeyboard(e);break}case"Enter":l&&t._selectionHandler({target:l,isTrusted:!0});break;case"Escape":1<m?(2===m&&t._positionDetection.removeOverlay(),t._escapeHandler(l,m,d)):"dropDown"===o&&t.opened&&t.close({trigger:"interaction",target:"Escape"});break;case" ":l&&t._toggleItem(l);}}_keydownHandlerTreeMode(e){function t(e){const t=e.level;return!1===e.disabled&&!0!==e.templateApplied&&(1===t||1<t&&a._isContainerOpened(t,e.parentElement.container)&&0<e.getBoundingClientRect().height)}function n(e){for(let n=e;n<r.length;n++){const e=r[n];if(t(e)){if(s){if(s===e)break;s.$.removeClass("focus"),s.removeAttribute("focus")}a._hoverViaKeyboard(e);break}}}function o(e){for(let n=e;0<=n;n--){const e=r[n];if(t(e)){if(s){if(s===e)break;s.$.removeClass("focus"),s.removeAttribute("focus")}a._hoverViaKeyboard(e);break}}}function i(){1<s.level&&(s.$.removeClass("focus"),s.removeAttribute("focus"),a._hoverViaKeyboard(s.parentItem))}const a=this,r=Array.from(a.$.mainContainer.querySelectorAll("smart-menu-item, smart-menu-items-group")),s=a.$.mainContainer.getElementsByClassName("focus")[0];let l;switch(e){case"ArrowDown":l=s?r.indexOf(s)+1:0,n(l);break;case"ArrowLeft":if(!s)return;if(s instanceof Smart.MenuItem)i();else{if(a._isContainerOpened(s.level+1,s.container))return void a._closeSubContainers(s.level+1,s.container,!0,!0);i()}break;case"ArrowRight":if(!s||s instanceof Smart.MenuItem)return;a._isContainerOpened(s.level+1,s.container)?(s.$.removeClass("focus"),s.removeAttribute("focus"),a._hoverViaKeyboard(a._getFirstEnabledChild(s.itemContainer))):a._selectionHandler({target:s,type:"keydown",isTrusted:!0},s);break;case"ArrowUp":l=s?r.indexOf(s)-1:r.length-1,o(l);break;case"End":o(r.length-1);break;case"Enter":a._minimized&&!a._minimizedDropDownOpened?a._hamburgerIconClickHandler(void 0,a.$.mainContainer):s&&a._selectionHandler({target:s,type:"keydown",isTrusted:!0});break;case"Escape":a._minimized&&a._minimizedDropDownOpened&&a._close();break;case"Home":n(0);break;case" ":s&&a._toggleItem(s);}}_levelOneNavigate(e,t,n){const o=this;if(!t){const t=o[e](n);t&&o._hoverViaKeyboard(t)}else"_getLastEnabledChild"===e?o._navigate("_getPreviousEnabledChild",t,n):o._navigate("_getNextEnabledChild",t,n)}_levelOneNavigateFromLowerLevel(e,t){const n=this,o=n[e](n._openedContainers[2].menuItemsGroup);o&&(t&&(t.$.removeClass("focus"),t.removeAttribute("focus")),n._closeSubContainers(2),o instanceof Smart.MenuItemsGroup?n._selectionHandler({target:o,isTrusted:!0}):n._hoverViaKeyboard(o))}_levelOneOpenDropDown(e){e&&e instanceof Smart.MenuItemsGroup&&this._selectionHandler({target:e,isTrusted:!0})}_mainContainerHandler(e){const t=this;if(t._minimized&&null!==t.dropDownAppendTo)switch(e.type){case"click":t._selectionHandler(e);break;case"mouseleave":t._mouseleaveHandler(e);break;case"mouseout":t._mouseoutMouseoverHandler(e);break;case"mouseover":t._mouseoutMouseoverHandler(e);}}_menuItemSelectionHandler(e,t){function n(){o.enableShadowDOM&&(o.shadowRoot.activeElement||document.activeElement)!==o&&null!==o.dropDownAppendTo&&"click"===t.type&&!o.shadowRoot.contains(e)?o.focus():document.activeElement!==o&&null!==o.dropDownAppendTo&&"click"===t.type&&!o.contains(e)&&o.focus()}const o=this;return e.disabled||e.templateApplied?void n():!o._toggleItem(e)&&(o.$.fireEvent("itemClick",{item:e,label:e.label,value:e.value}),"tree"!==o.mode&&(o._close(),"dropDown"===o.mode))?(o._ripple(e,t),void o.close({trigger:"interaction",target:e})):void(o._ripple(e,t),n())}_menuItemsGroupSelectionHandler(e,t,n){const o=this,i=o.mode,a=e.container,r=a.level,s="tree"!==i&&!o._minimized;if(o._treeAnimationInProgress!==a&&(o._discardKeyboardHover(),o.getRootNode().activeElement===o||null===o.dropDownAppendTo||"click"!==t.type||o.contains(t.target)||o.focus(),"click"!==t.type||(t.target.classList.contains("smart-"+o._element+"-items-group-arrow")||!o._toggleItem(e))&&("mouseenter"!==o.selectionMode||"tree"===i||o._minimized))){let l=o.hasAnimation;if(o._isContainerOpened(r,a))o._closeSubContainers(r,a,!0,!1!==n),s&&e.hasAttribute("focus")&&(o._focusedViaKeyboard=e);else{const d=o.$.fireEvent("expanding",{item:e,label:e.label,path:e.path,value:e.value,children:e.itemContainer.children});if(d.defaultPrevented)return;if(o._positionDetection.placeOverlay(),s&&o._closeSubContainers(r),l&&!s&&("expand"!==t.type&&(o._ensureVisibleOnTransitionend=e),o._expandSection(a)),o._edgeMacFF&&2===r&&s&&a.$.removeClass("not-in-view"),a.$.removeClass("smart-visibility-hidden"),s||"expand"!==t.type){if(!s){const t=o.$.mainContainer.getElementsByClassName("focus")[0];t&&(t.$.removeClass("focus"),t.removeAttribute("focus")),o._focusedViaKeyboard=e}else"keydown"===t.type&&(o._focusedViaKeyboard=e);e.$.addClass("focus"),e.setAttribute("focus","")}if(e.$.addClass("smart-"+o._element+"-items-group-opened"),e.$.addClass("smart-"+o._element+"-items-group-expanded"),o._addOpenedContainer(r,a),s){if(o._ensureVisible(e),1<e.level&&e.parentElement.dropDownHeightSet){const t=o.dropDownPosition,n=e.getBoundingClientRect().top-e.parentElement.container.getBoundingClientRect().top;a.style.top=-1!==t.indexOf("bottom")||"auto"===t?n+"px":-1===t.indexOf("top")?n+e.offsetHeight/2+"px":n+e.offsetHeight+"px"}a.itemContainer.checkOverflow&&a.itemContainer.dropDownHeightSet&&(o._checkOverflow(a.itemContainer,!1,[a.children[0],a.children[2]]),delete a.itemContainer.checkOverflow)}o._positionExternalContainer(a,e),"tree"===i||o._minimized?!l&&o._browserBoundsDetection(o.$.mainContainer):o._browserBoundsDetection(a),void 0===t.type&&o._hoverViaKeyboard(o._getFirstEnabledChild(e.itemContainer)),!1!==n&&o.$.fireEvent("expand",{item:e,label:e.label,path:e.path,value:e.value,children:e.itemContainer.children})}s?o._ripple(e,t):"tree"===i&&!l&&(o._checkOverflow(o.$.mainContainer,!1,[o.$.scrollButtonNear,o.$.scrollButtonFar]),!o._minimized&&"expand"!==t.type&&o._ensureVisible(e))}}_mouseenterHandler(){const e=this;e.autoFocusOnMouseenter&&e.getRootNode().activeElement!==e&&e.focus()}_mouseleaveHandler(e){const t=this;if("mouseenter"===t.selectionMode&&"tree"!==t.mode&&!t._minimized){if(null!==t.dropDownAppendTo&&e.relatedTarget)if(t.contains(e.target)){const n=e.relatedTarget.closest(".smart-menu-drop-down");if(n&&n.ownerElement===t)return}else if(t.contains(e.relatedTarget))return;t._isElementHovered=!1,t._autoCloseTimeout=setTimeout(function(){const e=t.context;clearTimeout(t._autoCloseTimeout),t._isElementHovered||(t.context=t,t._close(),t.context=e)},t.autoCloseDelay)}}_mouseoutMouseoverHandler(e){const t=this;if(t.disabled||t.displayLoadingIndicator)return;let n=e.target.closest("smart-menu-item")||e.target.closest("smart-menu-items-group");if((t.enableShadowDOM&&(n=e.composedPath()[0].closest("smart-menu-item")||e.composedPath()[0].closest("smart-menu-items-group")||n),"mouseover"===e.type&&(t._isElementHovered=!0),!(null===n||n.disabled||n.templateApplied))&&!(("tree"===t.mode||t._minimized)&&n.hasAttribute("focus")&&e.relatedTarget&&(e.target.parentElement===e.relatedTarget||e.relatedTarget.parentElement===e.target)))if(t._discardKeyboardHover(!1),"mouseover"===e.type){"mouseenter"!==t.selectionMode||"tree"===t.mode||t._minimized||(n instanceof Smart.MenuItemsGroup&&!n.hasAttribute("hover")?t._selectionHandler(e,n):n instanceof Smart.MenuItem&&t._closeSubContainers(n.level+1));const o=e.target.closest(".smart-menu-drop-down");o&&(!o||n.contains(o))||(n.$.addClass("hover"),n.setAttribute("hover",""),t._discardKeyboardHover(!0))}else{if("tree"!==t.mode&&!t._minimized&&("mouseenter"===t.selectionMode&&e.relatedTarget===t.$.mainContainer&&t._close(),n instanceof Smart.MenuItemsGroup&&n.container&&!n.container.$.hasClass("smart-visibility-hidden")))return;n.$.removeClass("hover"),n.removeAttribute("hover")}}_moveDropDownsToExternalContainer(){const e=this;for(let t=0;t<e._containersInBody.length;t++){const n=e._containersInBody[t];e._dropDownParent.appendChild(n),n.$.listen("click",e._selectionHandler.bind(e)),n.$.listen("mouseleave",e._mouseleaveHandler.bind(e)),n.$.listen("mouseout",e._mouseoutMouseoverHandler.bind(e)),n.$.listen("mouseover",e._mouseoutMouseoverHandler.bind(e))}for(let t=0;t<e._containers.length;t++){const n=e._containers[t];n.ownerElement=e,""!==e.theme&&n.classList.add(e.theme),n.classList.add("smart-drop-down-repositioned"),n.setAttribute("mode",e.mode),n.setAttribute("drop-down-position",e.dropDownPosition),e.checkboxes&&n.setAttribute("checkboxes","")}}_moveDropDownsToMenu(){const e=this;for(let t=0;t<e._containersInBody.length;t++){const n=e._containersInBody[t];n.$.unlisten("click"),n.$.unlisten("mouseleave"),n.$.unlisten("mouseout"),n.$.unlisten("mouseover"),n.style.left="",n.style.right="",n.style.top="",n.style.marginLeft="",n.style.marginTop="",n.menuItemsGroup.appendChild(n)}for(let t=0;t<e._containers.length;t++){const n=e._containers[t];""!==e.theme&&n.classList.remove(e.theme),n.classList.remove("smart-drop-down-repositioned"),n.removeAttribute("mode"),n.removeAttribute("drop-down-position"),n.removeAttribute("checkboxes")}}_navigate(e,t,n){const o=this;if(!t)return void("_getNextEnabledChild"===e?o._hoverViaKeyboard(o._getFirstEnabledChild(n)):o._hoverViaKeyboard(o._getLastEnabledChild(n)));const i=o[e](t);i&&(t.$.removeClass("focus"),t.removeAttribute("focus"),o._hoverViaKeyboard(i))}_positionExternalContainer(e,t){const n=this;if(null===n.dropDownAppendTo||2!==e.level)return;const o=n.dropDownPosition,i=n.mode,a=t.getBoundingClientRect(),r=n._positionDetection.getDropDownOffset(),s=a.top+r.y,l=a.bottom+r.y;let d=a.left+r.x;e.style.left="",e.style.right="",e.style.top="",-1===o.indexOf("left")?"horizontal"===i||"overlay-right"===o?e.style.left=d+"px":e.style.left=d+a.width+"px":(d-=e.offsetWidth,("horizontal"===i||"overlay-left"===o)&&(d+=a.width),e.style.left=d+"px",e.style.right="initial");"bottom-right"===o||"bottom-left"===o||"auto"===o?e.style.top="horizontal"===i?l+"px":s+"px":"top-right"===o||"top-left"===o?e.style.top="horizontal"===i?s-e.offsetHeight+"px":l-e.offsetHeight+"px":"overlay-right"===o||"overlay-left"===o?e.style.top=s+a.height/2+"px":void 0}_processDataSource(){function e(n,r){let s;if(Array.isArray(n[a])&&0<n[a].length){s=document.createElement("smart-"+t._element+"-items-group"),!0===n.checkable&&s.set("checkable",!0),("checkbox"===n.checkMode||"radioButton"===n.checkMode)&&s.set("checkMode",n.checkMode),n.dropDownHeight&&s.set("dropDownHeight",n.dropDownHeight),!0===n.expanded&&"tree"===t.mode&&s.set("expanded",!0);for(let t=0;t<n[a].length;t++)e(n[a][t],s)}else s=document.createElement("smart-"+t._element+"-item"),void 0!==n.shortcut&&s.set("shortcut",n.shortcut),n.customAttribute&&s.setAttribute(n.customAttribute,"");!0===n.checked&&s.set("checked",!0),!0===n.disabled&&s.set("disabled",!0),n[o]!==void 0&&s.set("label",n[o]),!0===n.selected&&s.set("selected",!0),!0===n.separator&&s.set("separator",!0),n[i]!==void 0&&s.set("value",n[i]),r.appendChild(s)}const t=this,n=t.dataSource,o=t.displayMember,a=t.itemsMember,i=t.valueMember;t.$.mainContainer.innerHTML="";for(let o=0;o<n.length;o++){const i=n[o];e(i,t.$.mainContainer)}t._processHTML(t.$.mainContainer,1)}_processHTML(e,t,n){const o=this;let i,a;1<t&&(i=o._createMenuItemsGroupContainer(e,t),a=i.itemContainer,(e.expanded||e.hasAttribute("expanded"))&&"tree"===o.mode?o._menuItemsGroupsToExpand.push(e):(e.set("expanded",!1),e.removeAttribute("expanded")));const r=Array.from(e.children),s=[],l=document.createDocumentFragment();let d=0;for(let a=0;a<r.length;a++){if(1<t&&0==a){d++;continue}const n=r[a];if(!(n instanceof Smart.MenuItem||n instanceof Smart.MenuItemsGroup)){n.parentElement.removeChild(n),d++;continue}o._createItemHTMLStructure(n,t,e,a-d),(n.checked||n.hasAttribute("checked"))&&(n.disabled||n.hasAttribute("disabled")||n.templateApplied?(n.set("checked",!1),n.removeAttribute("checked")):s.push(n)),1<t&&l.appendChild(n),n instanceof Smart.MenuItemsGroup&&o._processHTML(n,t+1)}if(1<t){if(a.appendChild(l),e.container=i,e.itemContainer=a,e instanceof Smart.MenuItemsGroup){const n=document.createElement("div");n.className="smart-"+o._element+"-items-group-arrow",o._setArrowDirection(n,t),e.firstElementChild.appendChild(n)}o._containers.push(i),2==t&&(o._containersInBody.push(i),o._edgeMacFF&&i.addEventListener("transitionend",function(e){e.target===this&&this.$.hasClass("smart-visibility-hidden")&&(this.style.left="",this.style.top="",this.$.addClass("not-in-view"))})),null===o.dropDownAppendTo||"tree"===o.mode||o._minimized?e.appendChild(i):(i.ownerElement=o,i.classList.add("smart-drop-down-repositioned"),i.setAttribute("mode",o.mode),i.setAttribute("drop-down-position",o.dropDownPosition),o.checkboxes&&i.setAttribute("checkboxes",""),""!==o.theme&&i.$.addClass(o.theme),i.setAttribute("animation",o.animation),2===t?(o._dropDownParent.appendChild(i),i.$.listen("click",o._selectionHandler.bind(o)),i.$.listen("mouseleave",o._mouseleaveHandler.bind(o)),i.$.listen("mouseout",o._mouseoutMouseoverHandler.bind(o)),i.$.listen("mouseover",o._mouseoutMouseoverHandler.bind(o))):e.appendChild(i))}o._validateRadioButtonSelection(e,t,s),o._sortItems&&!1!==n&&o._sortItems(e)}_processUList(){const e=this,t=new RegExp(/<li>(.(?!<\/li>)|\n)*?<ul>/),n=new RegExp(/<\/ul>(.|\n)*?<\/li>/);let o=e.$.mainContainer.firstElementChild.innerHTML;for(o=o.replace(/\r?\n|\r/g,""),o=o.replace(/<li(.|\n)*?>/g,"<li>"),o=o.replace(/<li><\/li>/g,"<li> </li>"),o=o.replace(/<ul(.|\n)*?>/g,"<ul>");t.test(o);){const n=t.exec(o),i="<smart-"+e._element+"-items-group>"+n[0].slice(4,n[0].length-4);o=o.replace(n[0],i)}for(;n.test(o);){const t=n.exec(o),i="</smart-"+e._element+"-items-group>";o=o.replace(t[0],i)}o=o.replace(/li>/g,"smart-"+e._element+"-item>"),e.$.mainContainer.innerHTML=o}_refreshContainersArrays(){const e=this;for(let t=e._containers.length-1;0<=t;t--){const n=e._containers[t];if(!document.body.contains(n)){e._containers.splice(t,1);const o=e._containersFixedHeight.indexOf(n);-1<o&&(e._containersFixedHeight.splice(o,1),e._additionalScrollButtons.splice(o,1))}}e._checkContainersLength()}_refreshItemPaths(e,t,n,o){const a=this;let i=t?e:e.container.itemContainer;const r=n?n(e):i.children;for(let s=0;s<r.length;s++){const i=r[s];let l;o&&(i.originalIndex=s),l=t?""+s:e.path+"."+s,i.path=l,a._menuItems[l]=i,i instanceof Smart.MenuItemsGroup&&a._refreshItemPaths(i,void 0,n,o)}}_removeContainerFixedHeight(){const e=this;for(let t=0;t<e._containersFixedHeight.length;t++){const n=e._containersFixedHeight[t];n.style.height="",n.itemContainer.$.removeClass("scroll-buttons-shown"),n.itemContainer.$.removeClass("one-button-shown"),n.children[0].$.addClass("smart-hidden"),n.children[2].$.addClass("smart-hidden"),n.itemContainer.checkOverflow=!0}}_removeContainersInBody(){const e=this;if(null!==e.dropDownAppendTo&&!e._minimized)for(let t=0;t<e._containersInBody.length;t++)e._dropDownParent.removeChild(e._containersInBody[t])}_reparentMenu(e,t){const n=this;if("dropDown"===n.mode&&(null!==n._dropDownParent||e)&&n._dropDownParent!==n.parentElement){if(!e||null===t)n._positionRelativeTo=n.parentElement;else if(null===n._dropDownParent)return n._positionRelativeTo.appendChild(n),void(n._positionRelativeTo=null);n._dropDownParent.appendChild(n)}}_resizeHandler(){const e=this;if(e._suppressResizeHandler)return void delete e._suppressResizeHandler;const t=e.minimizeWidth,n=e.mode;if(null!==t&&"dropDown"!==n){if(e.offsetWidth<=t&&!e._minimized)return void e.minimize();e.offsetWidth>t&&e.maximize()}(null!==e.dropDownAppendTo||"tree"===n)&&e._checkOverflow(e.$.mainContainer,"horizontal"===n,[e.$.scrollButtonNear,e.$.scrollButtonFar])}_ripple(e,t){const n=this;if(n.hasRippleAnimation&&"click"===t.type)return Smart.Utilities.Animation.Ripple.animate(e,t.pageX,t.pageY),!0}_scroll(e){if(!e.closest("[template-applied]")){const t=this,n=t.mode,o=e.classList.contains("smart-scroll-button-near")?-1:1;if(e.parentElement===t.$.container){const e=t.$.mainContainer;"tree"!==n&&t._closeSubContainers(2),"horizontal"===t.mode?(e.scrollLeft+=10*o,t._updateScrollButtonVisibility(e,!0,[t.$.scrollButtonNear,t.$.scrollButtonFar])):(e.scrollTop+=10*o,t._updateScrollButtonVisibility(e,!1,[t.$.scrollButtonNear,t.$.scrollButtonFar]))}else{const n=e.parentElement,i=n.itemContainer;t._closeSubContainers(n.level+1),i.scrollTop+=10*o,t._updateScrollButtonVisibility(i,!1,[n.children[0],n.children[2]])}}}_selectionHandler(e,t){const n=this,o=e.target;if(o.closest("[template-applied]")&&e.stopPropagation(),!(n.disabled||n.displayLoadingIndicator)){if(void 0===t){if("click"===e.type){const t=o.closest("smart-repeat-button");if(t)return void n._scroll(t,e)}if(!e.isTrusted)return;const i=o.closest("smart-"+n._element+"-item");if(i)return void n._menuItemSelectionHandler(i,e);if(t=o.closest("smart-"+n._element+"-items-group"),t&&(o===t.container||o===t.container.firstElementChild))return}t&&!t.disabled&&n._menuItemsGroupSelectionHandler(t,e)}}_setArrowDirection(e,t){const n=this,o=n.mode;return"tree"===o||n._minimized?void(e.className="smart-"+n._element+"-items-group-arrow down smart-arrow-down"):void("overlay"===n.dropDownPosition.slice(0,7)?e.className="smart-menu-items-group-arrow minus":2===t&&"horizontal"===o?"top"===n.dropDownPosition.slice(0,3)?e.className="smart-menu-items-group-arrow up smart-arrow-up":e.className="smart-menu-items-group-arrow down smart-arrow-down":e.className="smart-menu-items-group-arrow right smart-arrow-right")}_setFocusable(){const e=this;if(e.disabled||e.unfocusable)return void e.removeAttribute("tabindex");const t=e.getAttribute("tabindex");(null===t||0>t)&&e.setAttribute("tabindex",0)}_setLabel(e,t,n,o){const i=document.getElementById(e);if(null!==i&&"template"===i.tagName.toLowerCase()){const a=document.importNode(i.content,!0);if(n instanceof Smart.MenuItem)t.appendChild(a),o&&(n.setAttribute("template-applied",""),n.templateApplied=!0);else if(Smart.ListMenu&&this instanceof Smart.ListMenu){const e=new RegExp(/{{title="(.*)"}}/);for(let t=0;t<a.childNodes.length;t++)e.test(a.childNodes[t].innerHTML)?(n.titleLabel=e.exec(a.childNodes[t].innerHTML)[1],a.childNodes[t].innerHTML=a.childNodes[t].innerHTML.replace(e,"")):e.test(a.childNodes[t].textContent)&&(n.titleLabel=e.exec(a.childNodes[t].textContent)[1],a.childNodes[t].textContent=a.childNodes[t].textContent.replace(e,""));n.titleLabel===void 0&&(n.titleLabel=a.textContent),t.appendChild(a)}else t.innerHTML=e,n.titleLabel=e}else t.innerHTML=e,n instanceof Smart.MenuItemsGroup&&(n.titleLabel=e)}_toggleItem(e){const t=this;if(t.checkboxes){const n=1===e.level?t:e.parentItem;if(n.checkable){let o=!1;return"checkbox"===n.checkMode?(o=!0,e.set("checked",!e.checked),t.$.fireEvent("itemCheckChange",{item:e,label:e.label,value:e.value,checked:e.checked})):!e.checked&&(o=!0,e.set("checked",!0),t._uncheckSiblings(e),t.$.fireEvent("itemCheckChange",{item:e,label:e.label,value:e.value,checked:!0})),e instanceof Smart.MenuItem&&o&&t.$.fireEvent("itemClick",{item:e,label:e.label,value:e.value}),"tree"!==t.mode&&"ListMenu"!==t.elementName&&(t._close(),t.close()),!0}}return!1}_transitionendHandler(e){const t=this;"dropDown"===t.mode&&t.opened&&e.target===t&&t.getRootNode().activeElement!==t&&!t._noAutoFocus&&t.focus()}_transitionendHandlerCollapse(){let e,t;if(1===arguments.length){if("visibility"===arguments[0].propertyName)return;t=this,e=t.menuItemsGroup.menu}else e=arguments[0],t=arguments[1];t.menuItemsGroup.$.removeClass("smart-"+e._element+"-items-group-expanded"),t.removeEventListener("transitionend",e._transitionendHandlerCollapse),t.style.height=null,t.$.addClass("smart-visibility-hidden"),e._checkOverflow(e.$.mainContainer,!1,[e.$.scrollButtonNear,e.$.scrollButtonFar]),e._minimized&&e._browserBoundsDetection(e.$.mainContainer),delete e._treeAnimationInProgress}_transitionendHandlerExpand(){let e,t;if(1===arguments.length){if("visibility"===arguments[0].propertyName)return;t=this,e=t.menuItemsGroup.menu}else e=arguments[0],t=arguments[1];t.removeEventListener("transitionend",e._transitionendHandlerExpand),t.style.height=null,e._checkOverflow(e.$.mainContainer,!1,[e.$.scrollButtonNear,e.$.scrollButtonFar]),e._minimized&&e._browserBoundsDetection(e.$.mainContainer),e._ensureVisibleOnTransitionend&&(e._ensureVisible(e._ensureVisibleOnTransitionend),delete e._ensureVisibleOnTransitionend),delete e._treeAnimationInProgress}_uncheckSiblings(e){for(let t=0;t<e.parentElement.childElementCount;t++){const n=e.parentElement.children[t];n!==e&&n.checked&&(n.set("checked",!1),this.$.fireEvent("itemCheckChange",{item:n,label:n.label,value:n.value,checked:!1}))}}_unsortItems(e,t){const n=this;let o,a,r=[];e===n.$.mainContainer?(a=e,o=e.children):(a=e.container.firstElementChild,o=a.children);for(let a=0;a<o.length;a++){const e=o[a];r[e.originalIndex]=e,e instanceof Smart.MenuItemsGroup&&t===void 0&&n._unsortItems(e)}if(!(2>r.length))for(let e=0;e<r.length;e++)a.appendChild(r[e])}_updateScrollButtonVisibility(e,t,n){var o=Math.round;const i=this,a=i.overflow,r=e===i.$.mainContainer;if(r&&"hidden"===a)return;let s,l,d,m=!0,c=!0;if(t?(s="scrollLeft",l="offsetWidth",d="scrollWidth"):(s="scrollTop",l="offsetHeight",d="scrollHeight"),0===o(e[s])&&(m=!1),o(e[l]+e[s])>=o(e[d])&&(c=!1),!r||"auto"===a){if(m&&c)return n[0].$.removeClass("smart-hidden"),n[1].$.removeClass("smart-hidden"),void e.classList.remove("one-button-shown");m?n[0].$.removeClass("smart-hidden"):n[0].$.addClass("smart-hidden"),c?n[1].$.removeClass("smart-hidden"):n[1].$.addClass("smart-hidden"),e.classList.add("one-button-shown")}else"scroll"!==a||i.disabled||(n[0].disabled=!m,n[1].disabled=!c)}_validateRadioButtonSelection(e,t,n){const o=this;if(o.checkboxes){let i,a;if(1===t?(i=o,a=o.$.mainContainer):(i=e,a=e.itemContainer),"radioButton"===i.checkMode&&i.checkable)if(1<n.length)for(let e=n.length-2;0<=e;e--)n[e].set("checked",!1);else if(0===n.length){const e=o._getFirstEnabledChild(a);e&&e.set("checked",!0)}}}_wheelHandler(e){const t=this;if(!t.enableMouseWheelAction||t._wheelInProgress||t.disabled||t.displayLoadingIndicator||t.$.mainContainer.offsetHeight===t.$.mainContainer.scrollHeight)return void(t._wheelInProgress&&e.preventDefault());e.preventDefault(),t._dragStartDetails={startY:e.pageY,x:e.pageX,y:e.pageY,startTime:Date.now(),target:e.target},t._wheelInProgress=!0;const n={pageY:e.pageY+50*(0<e.deltaY?-1:1)};t._endSwiping(n,t._dragStartDetails.startTime+100,!0)}});