
/* Smart HTML Elements v4.6.0 (2019-Oct) 
Copyright (c) 2011-2019 jQWidgets. 
License: https://htmlelements.com/license/ */

Smart.Utilities.Assign("NumericProcessor",class{constructor(e,i){switch(e[i]){case"integer":return new Smart.Utilities.IntegerNumericProcessor(e,i);case"floatingPoint":return new Smart.Utilities.DecimalNumericProcessor(e,i);case"complex":return new Smart.Utilities.ComplexNumericProcessor(e,i);}}}),Smart.Utilities.Assign("BaseNumericProcessor",class{constructor(e,i){const t=this;t.context=e,t._longestLabelSize=0,t.numericFormatProperty=i,t.regexScientificNotation=new RegExp(/^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)(Y|Z|E|P|T|G|M|k|c|m|u|n|p|f|a|z|y){1}$/),t.regexNoLeadingZero=new RegExp(/^(-)?[.]\d+$/),t.regexLeadingZero=new RegExp(/^[+\-]?(0+)[1-9]+|^[+\-]?(0{2,})[.]|^(0{2,})$/),t.prefixesToPowers={Y:24,Z:21,E:18,P:15,T:12,G:9,M:6,k:3,c:-2,m:-3,u:-6,n:-9,p:-12,f:-15,a:-18,z:-21,y:-24},t.complexConstructor=window.NIComplex?window.NIComplex:Smart.Utilities.Complex}prepareForValidation(e,i,t){const a=this.context,r=e||void 0!==i;if(t=t.toString(),t=t.replace(/\s/g,""),t=a._discardDecimalSeparator(t),this.regexLeadingZero.test(t)){const e=this.regexLeadingZero.exec(t);t=e[1]?t.replace(e[1],""):e[2]?t.replace(e[2],"0"):t.replace(e[3],"0")}this.regexNoLeadingZero.test(t)?"-"===t.charAt(0)?t="-0"+t.slice(1):t="0"+t:("integer"===a[this.numericFormatProperty]&&(10===a._radixNumber||r)||"floatingPoint"===a[this.numericFormatProperty])&&this.regexScientificNotation.test(t)&&(t=this.scientificToDecimal(t));let n,l=!1;if("complex"===a[this.numericFormatProperty]&&!1===a._regexSpecial.nonNumericValue.test(t))try{if(a._regexSpecial.exaValue.test(t)){const e=t.indexOf("E"),i=1000000000000000000*parseFloat(t.slice(0,e)),a=parseFloat(t.slice(e+1,-1));n=new this.complexConstructor(i,a)}else n=new this.complexConstructor(t);l=!0}catch(e){l=!1}return!1==l&&(!r&&!1===a._regex[a._radixNumber].test(t)||r&&!1===a._regex[10].test(t))?void a._handleNonNumericValue(e,i,t):{value:t,enteredComplexNumber:n}}isENotation(e){const i=new RegExp(/e/i);return i.test(e.toString())}scientificToDecimal(e){const i=this.regexScientificNotation.exec(e),t=i[1],a=i[2],r=parseFloat(t)*Math.pow(10,this.prefixesToPowers[a]);return r}_createMeasureLabel(){const e=this.context,i=document.createElement("div");return i.className="smart-label",i.style.position="absolute",i.style.visibility="hidden",e._measureLabelScale="far"===e.scalePosition?e.$.scaleFar:e.$.scaleNear,e._measureLabelScale.appendChild(i),i}_addMajorTickAndLabel(e,i,t,a,r){const n=this.context,l=n._settings.leftOrTop,o=this.valueToPx(a);let m="",c="";if(parseInt(o)>parseInt(n._measurements.trackLength))return{tick:m,label:c};if(n.logarithmicScale&&(e=n._formatLabel(Math.pow(10,a))),"smart-tank"===n.nodeName.toLowerCase()||n._intervalHasChanged){let i=n._tickIntervalHandler.labelsSize;if(r){n._labelDummy.innerHTML=e;let r=this.valueToPx(a),l=this.valueToPx(n._drawMax),o=this.valueToPx(n._drawMin),m=n._labelDummy[n._settings.size],c="vertical"===n.orientation?n._labelDummy.offsetWidth:n._labelDummy.offsetHeight,s=(m+i.minLabelSize)/2,u=(m+i.maxLabelSize)/2;t=n._normalLayout?r+u<l&&r-s>o:r-u>l&&r+s<o,c>this._longestLabelSize&&(this._longestLabelSize=c)}else this._longestLabelSize=Math.max(i.minLabelOtherSize,i.maxLabelOtherSize,this._longestLabelSize)}if(n._tickValues.push(a),m="<div style=\""+l+": "+o+"px;\" class=\"smart-tick\"></div>",!1!==t){void 0===i&&(n._labelDummy.innerHTML=e,i=n._labelDummy[n._settings.size]);const t=o-i/2;c+="<div class=\"smart-label"+(r?" smart-label-middle":"")+"\" style=\""+l+": "+t+"px;\">"+e+"</div>"}return{tick:m,label:c}}getWordLength(e){return this.context._unsigned="u"===e.charAt(0),"int8"===e||"uint8"===e?8:"int16"===e||"uint16"===e?16:"int32"===e||"uint32"===e?32:"int64"===e||"uint64"===e?64:void 0}getAngleByValue(e,i,t){var a=Math.PI;const r=this.context;!1!==i&&r.logarithmicScale&&(e=Math.log10(e));const n=(e-r._drawMin)*r._angleRangeCoefficient;let l;return l=r.inverted?r.startAngle+n:r.endAngle-n,t?l:l*a/180+a/2}getValueByAngle(e,i){var t=Math.pow;const a=this.context;let r,n,l;for(a.inverted?(r=e,n=a._normalizedStartAngle):(r=a.endAngle,n=e);r<n;)r+=360;if(l=(r-n)/a._angleDifference*a._range+parseFloat(a._drawMin),a.logarithmicScale){if(a.customInterval)return parseFloat(t(10,this.getCoercedValue(l,!0)).toFixed(12));l=t(10,l)}return i&&!a.coerce?Math.round(l):(l=this.createDescriptor(l,void 0,!0,!0),this.getCoercedValue(l,!1))}updateGaugeValue(e){const i=this.context,t=i.value;i.value=e,i._drawValue=i.logarithmicScale?Math.log10(e).toString():e,i._number=this.createDescriptor(i.value),i.$.digitalDisplay.value=e,i.$.fireEvent("change",{value:e,oldValue:t}),delete i._valueBeforeCoercion}validateColorRange(e){const i=this.context;return Math.min(Math.max(e,i.min),i.max)}getActualValue(e){return this.context.logarithmicScale?Math.pow(10,e):e}drawGaugeLogarithmicScaleMinorTicks(e,t,a){var r=Math.pow;const n=this.context;let l;for(let r in t instanceof Smart.Utilities.BigNumber&&(t=parseFloat(t.toString())),e)if(l=r,0<=r&&0==r%1)break;for(let o=parseFloat(l);o<n._drawMax;o+=t)for(let e=2;9>=e;e++){const i=e*r(10,o+t-1);i<n.max&&a(i)}for(let o=parseFloat(l);o>n._drawMin;o-=t)for(let e=2;9>=e;e++){const i=e*r(10,o-1);i>n.min&&a(i)}}_getAngleDifference(e,i){const t=Math.abs(i-e)%360,a=180<t?360-t:t;return a}addCustomTicks(){function e(e){const i=a.customTicks[e],o=r?t.createDescriptor(i):Math.log10(i),m=0<e&&e<a.customTicks.length-1,c=t._addMajorTickAndLabel(a._formatLabel(i),void 0,!0,o,m);n+=c.tick,l+=c.label}const t=this,a=t.context,r=!a.logarithmicScale;let n="",l="";if(t._longestLabelSize=0,a._tickValues=[],a._labelDummy=t._createMeasureLabel(),!a._normalLayout)for(let t=a.customTicks.length-1;0<=t;t--)e(t);else for(let t=0;t<a.customTicks.length;t++)e(t);"smart-tank"===a.nodeName.toLowerCase()&&a._updateScaleWidth(t._longestLabelSize),a._appendTicksAndLabelsToScales(n,l)}addGaugeCustomTicks(){function e(e){const i=a.customTicks[e],r=t.createDescriptor(i),o=t.getAngleByValue(r,!0),m=0<e&&e<a.customTicks.length-1;n(o),l(o,i,m)}const t=this,a=t.context,i=a._distance,r=a._measurements.radius-i.majorTickDistance;let n,l;n="none"!==a.ticksVisibility&&!1!==a._plotTicks?function(e){a._drawTick(e,r,"major")}:function(){},l="none"!==a.labelsVisibility&&!1!==a._plotLabels?function(e,t,r){a._drawLabel(e,t,i.labelDistance,r)}:function(){};for(let t=a.customTicks.length-1;0<=t;t--)e(t)}}),Smart.Utilities.Assign("IntegerNumericProcessor",class extends Smart.Utilities.BaseNumericProcessor{constructor(e,i){super(e,i);const t=this;t.context=e,t.defaultMins={int8:"-128",uint8:"0",int16:"-32768",uint16:"0",int32:"-2147483648",uint32:"0",int64:"-9223372036854775808",uint64:"0"},t.defaultMaxs={int8:"127",uint8:"255",int16:"32767",uint16:"65535",int32:"2147483647",uint32:"4294967295",int64:"9223372036854775807",uint64:"18446744073709551615"}}createDescriptor(e,i,t,a,r){const n=this.context;let l;if(e.constructor!==Smart.Utilities.BigNumber){let t=!r&&n._radixNumber?n._radixNumber:10;10===t&&i&&e.constructor!==Smart.Utilities.BigNumber&&this.isENotation(e)&&(Smart.Utilities.BigNumber.bigIntSupport?e=new Smart.Utilities.BigNumber(Math.round(e)):e=new Smart.Utilities.NumberRenderer(e).largeExponentialToDecimal()),l=n._toBigNumberDecimal?n._toBigNumberDecimal(e.toString(t,n._wordLengthNumber),t):new Smart.Utilities.BigNumber(e)}else l=new Smart.Utilities.BigNumber(e);return t&&(n._unsigned&&-1===l.compare(0)&&(l=l.set(0)),a&&(l=this.validate(l,n._minObject,n._maxObject)),l=this.round(l)),l}round(e){const i=this.context;if(e instanceof window.Smart.Utilities.BigNumber&&"bigint"==typeof e._d)return e;if(!1==e instanceof window.Smart.Utilities.BigNumber||!i._wordLengthNumber||64>i._wordLengthNumber)return new Smart.Utilities.BigNumber(Math.round(e.toString()));const t=e.mod(1);return 1===t._d.length&&0===t._d[0]||(e=e.intPart(),e._s?(5<t._d[1]||5===t._d[1]&&t._d[2])&&(e=e.add(-1)):4<t._d[1]&&(e=e.add(1))),e}validate(e,i,t){let a;return a=-1===e.compare(i)?i:1===e.compare(t)?t:e,a}validateMinMax(e,i){const t=this.context;let a=this.defaultMins[t.wordLength],r=new Smart.Utilities.BigNumber(a),n=this.defaultMaxs[t.wordLength],l=new Smart.Utilities.BigNumber(n),o="date"!==t.mode;if(void 0===t._numberRenderer&&(t._numberRenderer=new Smart.Utilities.NumberRenderer),e&&o){null!==t.min&&(t.min=t.min.toString().replace(/\s/g,""),this.regexScientificNotation.test(t.min)&&(t.min=this.scientificToDecimal(t.min)));let e=this.round(new Smart.Utilities.BigNumber(t.min));null===t.min||t._minIsNull&&t._initialized||!(0<=e.compare(r))?(t._minIsNull=!0,t.min=a,t._minObject=r):t._minObject=e}if(i&&o){null!==t.max&&(t.max=t.max.toString().replace(/\s/g,""),this.regexScientificNotation.test(t.max)&&(t.max=this.scientificToDecimal(t.max)));let e=this.round(new Smart.Utilities.BigNumber(t.max));null===t.max||t._maxIsNull&&t._initialized||!(0>=e.compare(l))?(t._maxIsNull=!0,t.max=n,t._maxObject=l):t._maxObject=e}o||(t._minObject=new Smart.Utilities.BigNumber(t.min),t._maxObject=new Smart.Utilities.BigNumber(t.max)),this.compare(t._minObject,t._maxObject)||(t._minObject=r,t._maxObject=l,t._drawMin=t.logarithmicScale?0:a,t._drawMax=t.logarithmicScale?10:n,t.min=a,t.max=n),o||(t._minDate=Smart.Utilities.DateTime.fromFullTimeStamp(t.min),t._maxDate=Smart.Utilities.DateTime.fromFullTimeStamp(t.max))}valueToPx(e){const i=Smart.Utilities.BigNumber.ignoreBigIntNativeSupport;Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=!0;const t=this.context,a=new Smart.Utilities.BigNumber(t._measurements.trackLength).divide(new Smart.Utilities.BigNumber(t._range));let r;if(t._normalLayout){const i=t._drawMin instanceof Smart.Utilities.BigNumber?t._drawMin:new Smart.Utilities.BigNumber(t._drawMin);e=new Smart.Utilities.BigNumber(e),r=parseFloat(a.multiply(e.subtract(i)).toString())}else{const i=t._drawMax instanceof Smart.Utilities.BigNumber?t._drawMax:new Smart.Utilities.BigNumber(t._drawMax);r=parseFloat(this.round(i.subtract(e).multiply(a)).toString())}return Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=i,r}pxToValue(e){const i=this.context,t=Smart.Utilities.BigNumber.ignoreBigIntNativeSupport;let a;if(Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=!0,a=i._normalLayout?i._valuePerPx.multiply(e-i._trackStart):i._valuePerPx.multiply(i._trackEnd-e),a=this.round(a).toString(),Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=t,i.logarithmicScale){let e=parseFloat(a)+parseFloat(i._drawMin);return new Smart.Utilities.BigNumber(Math.round(Math.pow(10,e)))}let r=this.createDescriptor(i._minObject.add(a),!1,!0,!0);return r}compare(e,i,t){if((null===e||null===i)&&e!==i)return!0;e.constructor!==Smart.Utilities.BigNumber&&(e=new Smart.Utilities.BigNumber(e));const a=e.compare(i);return!0===t?a:0!==a}incrementDecrement(e,i,t){const a=this.context;let r;if(e.constructor!==Smart.Utilities.BigNumber&&(e=new Smart.Utilities.BigNumber(e)),"add"===i){if(r=e.add(t),void 0!==a._drawMax)return 0<r.compare(a._drawMax)?new Smart.Utilities.BigNumber(a._drawMax):r;}else if(r=e.subtract(t),void 0!==a._drawMin)return 0>r.compare(a._drawMin)?new Smart.Utilities.BigNumber(a._drawMin):r;return r}render(e,i){const t=this.context;if(!t.scientificNotation&&!0===i)return new Smart.Utilities.NumberRenderer(new Smart.Utilities.BigNumber(e)).bigNumberToExponent(t.significantDigits);let a=e;return t.scientificNotation&&!0===i?a=new Smart.Utilities.NumberRenderer(a).toScientific(t.significantDigits,t.precisionDigits):"string"!=typeof e&&(a=e.toString(t._radixNumber,t._wordLengthNumber,t.leadingZeros)),a}addTicksAndLabels(){const e=Smart.Utilities.BigNumber.ignoreBigIntNativeSupport;Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=!0;const i=this.context,t=i._measurements.trackLength,a=i._normalLayout,r=i._majorTicksInterval,n=this.round(new Smart.Utilities.BigNumber(i._range).divide(r)),l=t/n,o=new Smart.Utilities.BigNumber(i._drawMin),m=new Smart.Utilities.BigNumber(i._drawMax);let c,s,u,g,d,p,b,_,x,f="",S="";i._tickValues=[],this._longestLabelSize=0,a?(c=o,s=r.add(c.subtract(c.mod(r))),u=s.subtract(c),d=i._formatLabel(o),p=i._tickIntervalHandler.labelsSize.minLabelSize,g=m,b=i._formatLabel(m),_=i._tickIntervalHandler.labelsSize.maxLabelSize):(c=m,s=c.subtract(c.mod(r)),u=c.subtract(s),d=i._formatLabel(m),p=i._tickIntervalHandler.labelsSize.maxLabelSize,g=o,b=i._formatLabel(o),_=i._tickIntervalHandler.labelsSize.minLabelSize),i._labelDummy=this._createMeasureLabel(),x=this._addMajorTickAndLabel(d,p,!0,c),f+=x.tick,S+=x.label;const N=u.divide(r).multiply(l);if(0!==s.compare(i.max)&&0>N.compare(t)){const e=i._formatLabel(s.toString()),t=0<N.compare(p);x=this._addMajorTickAndLabel(e,void 0,t,s,!0),f+=x.tick,S+=x.label}x=this.addMiddleMajorTicks(n,l,N,u,a,r),f+=x.tick,S+=x.label,x=this._addMajorTickAndLabel(b,_,!0,g),f+=x.tick,S+=x.label,"date"!==i.mode&&(f+=this.addMinorTicks(a)),i._measureLabelScale.removeChild(i._labelDummy),delete i._labelDummy,delete i._measureLabelScale,"smart-tank"===i.nodeName.toLowerCase()&&i._updateScaleWidth(this._longestLabelSize),i._appendTicksAndLabelsToScales(f,S),Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=e}addMiddleMajorTicks(e,t,a,r,n,l){const o=this.context;let m,i="",c="";for(let s=1;s<e;s++){let u,g=a.add(s*t);if(n?u=l.multiply(s).add(r.add(new Smart.Utilities.BigNumber(o._drawMin))):(u=new Smart.Utilities.BigNumber(o._drawMax).subtract(r).subtract(l.multiply(s)),s==e-1&&0===u.compare(0)&&(o._numberRenderer.numericValue=o._tickIntervalHandler.nearestPowerOfTen,m=o._numberRenderer.bigNumberToExponent(1))),0!==u.compare(o._drawMax)){let a=o._formatLabel(u.toString()),r=!0;o._labelDummy.innerHTML=m?m:a;let n=o._labelDummy[o._settings.size];0<=g.add(n).compare(e*t)&&(r=!1);const l=this._addMajorTickAndLabel(a,void 0,r,u,!0);i+=l.tick,c+=l.label}}return{tick:i,label:c}}addMinorTicks(e){function t(e){-1===n.indexOf(e)&&0==e%o&&(g+="<div style=\""+m+": "+r._numericProcessor.valueToPx(e)+"px;\" class=\"smart-tick smart-tick-minor\"></div>")}function i(){let e=r._measurements.trackLength,i=e/n.length,t=.1;20>i?t=1:20<=i&&40>i?t=1<s-c?1:.5:40<=i&&80>i&&(t=.2);let l=Math.floor(r._drawMax),o=r._drawMax-l,u=r._drawMax-r._drawMin>n.length;for(let e=r._drawMax;0<e;--e){let n=0<o?a(10,e-o+1):a(10,e),l=n*t;for(let e=n;0<e;e-=l)if(e<r.max&&e>r.min){let i=new Smart.Utilities.BigNumber(Math.log10(e));(0==i%1&&u||!u)&&(g+="<div style=\""+m+": "+r._numericProcessor.valueToPx(i)+"px;\" class=\"smart-tick smart-tick-minor\"></div>")}}}var a=Math.pow;const r=this.context,n=r._tickValues,l=r._tickIntervalHandler.nearestPowerOfTen,o=r._minorTicksInterval,m=r._settings.leftOrTop;let c,s,u,g="";if(e?(c=n[0],s=n[1],u=n[n.length-1]):(c=n[n.length-1],s=n[n.length-2],u=n[0]),r.logarithmicScale)i();else{for(let e=s;0>c.compare(e);e=e.subtract(l))t(e);for(let e=s.add(l);0<u.compare(e);e=e.add(l))t(e)}return g}validateCustomTicks(){const e=this.context,t="date"!==e.mode;let a=[];for(let r,n=0;n<e.customTicks.length;n++)r=e.customTicks[n],t?r=this.createDescriptor(r,!1,!0):void 0===r._d&&(r=Smart.Utilities.DateTime.validateDate(r).getTimeStamp()),0<=r.compare(e._minObject)&&0>=r.compare(e._maxObject)&&a.push(r);if(a.sort(function(e,i){return e.compare(i)}),t){for(let e=0;e<a.length;e++)a[e]=a[e].toString();a=a.filter(function(e,i,t){return!i||e!==t[i-1]})}e.customTicks=a.slice(0)}addGaugeTicksAndLabels(){var e=Math.PI;const t=Smart.Utilities.BigNumber.ignoreBigIntNativeSupport;Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=!0;const a=this.context,r=this,n=Math.max(a._tickIntervalHandler.labelsSize.minLabelSize,a._tickIntervalHandler.labelsSize.maxLabelSize),l=a._majorTicksInterval,o=a._minorTicksInterval,m={},c=a._distance,s=a._measurements.radius,u=s-c.majorTickDistance,g=s-c.minorTickDistance,d=new Smart.Utilities.BigNumber(a._drawMin),p=new Smart.Utilities.BigNumber(a._drawMax);let b,_,x,f,S,N;"none"!==a.ticksVisibility&&!1!==a._plotTicks?(b=function(e){a._drawTick(e,u,"major")},_=function(e){a._drawTick(r.getAngleByValue(e,!0),g,"minor")}):(b=function(){},_=function(){}),x="none"!==a.labelsVisibility&&!1!==a._plotLabels?function(e,i,t){a._drawLabel(e,i,c.labelDistance,t)}:function(){},a.inverted?(S=a.startAngle,N=a.endAngle):(S=a.endAngle,N=a.startAngle),f=r.getAngleByValue(d,!1),b(f),m[a._drawMin.toString()]=!0,x(f,a.min,!1);let h,v=d.subtract(d.mod(l));-1!==d.compare(0)&&(v=v.add(l));for(let e=new Smart.Utilities.BigNumber(v);-1!==e.compare(d);e=e.subtract(o))h=e;f=r.getAngleByValue(v,!1),b(f),m[v.toString()]=!0,2*e*a._measurements.innerRadius*(this._getAngleDifference(S,r.getAngleByValue(v,!1,!0))/360)>n&&x(f,this.getActualValue(v),-1===v.compare(p));let B;for(B=v.add(l);-1===B.compare(p.subtract(l));B=B.add(l))f=r.getAngleByValue(B,!1),b(f),m[B.toString()]=!0,x(f,this.getActualValue(B),!0);if(void 0===m[B.toString()]&&1!==B.compare(p)&&(f=r.getAngleByValue(B,!1),b(f),m[B.toString()]=!0,2*e*a._measurements.innerRadius*(this._getAngleDifference(N,r.getAngleByValue(B,!1,!0))/360)>=n&&x(f,this.getActualValue(B),!0),a._normalizedStartAngle!==a.endAngle&&(f=r.getAngleByValue(p,!1),b(f),2*e*a._measurements.innerRadius*(this._getAngleDifference(N,S)/360)>=n&&x(f,a.max,!1))),"date"===a.mode)return void(Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=t);if(!a.logarithmicScale)for(let e=h;-1===e.compare(p);e=e.add(o))m[e.toString()]||_(e);else this.drawGaugeLogarithmicScaleMinorTicks(m,l,_);Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=t}updateToolTipAndValue(e,i,t){const a=this.context,r=a.logarithmicScale;a._updateTooltipValue(e.toString()),r&&(e=parseFloat(Math.pow(10,parseFloat(e)).toFixed(11))),e=e instanceof Smart.Utilities.BigNumber?e:new Smart.Utilities.BigNumber(e);const n=e.toString();a._number=e,a._drawValue=r?Math.log10(n):e,0!==e.compare(i)&&t&&("numeric"===a.mode?(a.value=n,e=n):(i=a._valueDate,a._valueDate=Smart.Utilities.DateTime.fromFullTimeStamp(n),a.value=e,e=a._valueDate),!a._programmaticValueIsSet&&a.$.fireEvent("change",{value:e,oldValue:i}),a.$.hiddenInput&&(a.$.hiddenInput.value=e))}validateInterval(e){const i=this.context,t=i._maxObject.subtract(i._minObject);i._validInterval=new Smart.Utilities.BigNumber(e),i._validInterval=this.round(i._validInterval),1===i._validInterval.compare(t)&&(i._validInterval=t),i.interval=i._validInterval.toString()}getCoercedValue(e,i,t){var a=Math.abs;const r=this.context;if(!r.coerce)return e;const n=!r.logarithmicScale;e=e instanceof Smart.Utilities.BigNumber?e:new Smart.Utilities.BigNumber(e);let l,o;if(r.customInterval){const o=r.customTicks;if(0===o.length)return e;let m,c;if(n||t){l=r._minObject,m=l.subtract(e).abs(),c=l;for(let t=0;t<o.length;t++){const i=this.createDescriptor(o[t]),a=i.subtract(e).abs();-1===a.compare(m)&&(m=a,c=i)}}else{l=r._drawMin,m=a(l-parseFloat(e.toString())),c=l;for(let t=0;t<o.length;t++){const i=Math.log10(o[t]),r=a(i-e);r<m&&(m=r,c=i)}c=new Smart.Utilities.BigNumber(c)}return c}let m=r._validInterval;if("date"===r.mode){if("addYears"===r._dateIncrementMethod)return this.coerceYear(e);if("addMonths"===r._dateIncrementMethod)return this.coerceMonth(e);m=new Smart.Utilities.BigNumber(r._dateIntervalNumber).multiply(m)}!1===i?(l=new Smart.Utilities.BigNumber(r.min),o=new Smart.Utilities.BigNumber(r.max)):(l=new Smart.Utilities.BigNumber(r._drawMin),o=new Smart.Utilities.BigNumber(r._drawMax));let c=e.subtract(l),s=c.mod(m);if(0===s.compare(0))return e;let u=c.subtract(s),g=u.add(m);if(0>c.subtract(u).abs().compare(c.subtract(g).abs()))return u.add(l);else{const e=g.add(l);return 0>=e.compare(o)?e:u.add(l)}}coerceMonth(e){const i=this.context,t=parseFloat(i._validInterval),a=Smart.Utilities.DateTime.fromFullTimeStamp(e),r=a.year(),n=a.month(),l=a.day(),o=i._minDate.year(),m=i._minDate.month(),c=12*(i._maxDate.year()-o-1)+12-m+i._maxDate.month();let s=12*(r-1-o)+(12-m)+n;1===t&&(-1===[1,3,5,7,8,10,12].indexOf(n)?2===n?a.isLeapYear(r)?(15<l||15===l&&11<a.hour())&&s++:14<l&&s++:15<l&&s++:(16<l||16===l&&11<a.hour())&&s++),s=this.getCoercedTimePart(0,c,s,t);let u=i._minDate.addMonths(s,!0);return 1===u.compare(i._maxDate)&&(u=i._minDate.addMonths(s-t,!0)),i._drawValue=new Smart.Utilities.BigNumber(u.getTimeStamp()),i._drawValue}coerceYear(e){const i=this.context,t=parseFloat(i._validInterval),a=Smart.Utilities.DateTime.fromFullTimeStamp(e),r=i._maxDate.year(),n=Smart.Utilities.DateTime.getConstructorParameters(i._minDate);let l=a.year();6<a.month()&&l++;let o=this.getCoercedTimePart(i._minDate.year(),r,l,t);o>r&&(o-=t),n[0]=o,n.unshift(null);const m=new(Function.prototype.bind.apply(Smart.Utilities.DateTime,n));return i._drawValue=new Smart.Utilities.BigNumber(m.getTimeStamp()),i._drawValue}getCoercedTimePart(e,i,t,a){var r=Math.abs;let n=t-e,l=n%a;if(0==l)return t;let o=parseFloat((n-l).toFixed(12)),m=o+a;if(i-e<=a)return t>=e+(i-e)/2?i:e;if(r(n-o)<r(n-m))return o+e;else{const t=m+e;return t>i?o+e:t}}updateValue(e){const i=this.context;e=e instanceof Smart.Utilities.BigNumber?e:new Smart.Utilities.BigNumber(e);const t=this.validate(e,i._minObject,i._maxObject);let a,r,n=i.value;i._number=t,i._drawValue=i.logarithmicScale?Math.log10(t):t,"numeric"===i.mode?(a=e.toString(),i.value=a,r=this.compare(e,n)):(n=Smart.Utilities.DateTime.fromFullTimeStamp(n),i._valueDate=Smart.Utilities.DateTime.fromFullTimeStamp(e),i.value=e,e=i._valueDate,a=e,r=0!==e.compare(n)),!i._programmaticValueIsSet&&(r||i._scaleTypeChangedFlag)&&i.$.fireEvent("change",{value:a,oldValue:n}),i.$.hiddenInput&&(i.$.hiddenInput.value=e),i._moveThumbBasedOnValue(i._drawValue)}getValuePerPx(e,i){const t=Smart.Utilities.BigNumber.ignoreBigIntNativeSupport;Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=!0;const a=new Smart.Utilities.BigNumber(e).divide(i);return Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=t,a}restrictValue(e){e[1].constructor===Smart.Utilities.BigNumber?-1===e[1].compare(e[0])&&e[1].set(e[0]):e[1]<e[0]&&(e[1]=e[0])}getAngleByValue(e,i,t){var a=Math.PI;const r=this.context,n=Smart.Utilities.BigNumber.ignoreBigIntNativeSupport;if(Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=!0,64>r._wordLengthNumber)return Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=n,super.getAngleByValue(parseFloat(e.toString()),i,t);!1==e instanceof Smart.Utilities.BigNumber&&(e=new Smart.Utilities.BigNumber(e)),!1!==i&&r.logarithmicScale&&(e=new Smart.Utilities.BigNumber(Math.log10(e.toString())));const l=e.subtract(r._drawMin).multiply(r._angleRangeCoefficient);let o;return o=r.inverted?l.add(r.startAngle):l.multiply(-1).add(r.endAngle),o=parseFloat(o.toString()),Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=n,t?o:o*a/180+a/2}getValueByAngle(e){const i=this.context;if(64>i._wordLengthNumber)return super.getValueByAngle(e,!0);const t=Smart.Utilities.BigNumber.ignoreBigIntNativeSupport;let a,r,n;for(Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=!0,i.inverted?(a=e,r=i._normalizedStartAngle):(a=i.endAngle,r=e);a<r;)a+=360;n=new Smart.Utilities.BigNumber((a-r)/i._angleDifference).multiply(i._range).add(i._drawMin),i.logarithmicScale&&(n=new Smart.Utilities.BigNumber(Math.pow(10,n.toString())));let l;return l=i.coerce?this.getCoercedValue(n,!1):this.round(n),Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=t,new Smart.Utilities.BigNumber(l)}updateGaugeValue(e){if(!1==e instanceof Smart.Utilities.BigNumber)return super.updateGaugeValue(e);const i=this.context,t=i._getEventValue();"numeric"===i.mode?(i.value=e.toString(),i.$.digitalDisplay.value=i.value):(i._valueDate=Smart.Utilities.DateTime.fromFullTimeStamp(e),i.value=e,i.$.digitalDisplay.$.input.value=i._valueDate),i._drawValue=i.logarithmicScale?Math.log10(i.value).toString():i.value,i._number=e,i.$.fireEvent("change",{value:i._getEventValue(),oldValue:t})}validateColorRange(e){const i=this.context;if(64>i._wordLengthNumber)return super.validateColorRange(e);"numeric"===i.mode?e=new Smart.Utilities.BigNumber(e):(e=Smart.Utilities.DateTime.validateDate(e),e=e.getTimeStamp());const t=new Smart.Utilities.BigNumber(i.min),a=new Smart.Utilities.BigNumber(i.max);return-1===e.compare(t)&&(e=t),1===e.compare(a)&&(e=a),e}lockRotation(e,i){const t=this.context;if(!1==i instanceof Smart.Utilities.BigNumber&&(i=new Smart.Utilities.BigNumber(i)),e&&-1===i.compare(t._number)){if(t._lockCW=!0,-1===i.compare(t._maxObject))return new Smart.Utilities.BigNumber(t._maxObject);}else if(!e&&1===i.compare(t._number)&&(t._lockCCW=!0,1===i.compare(t._minObject)))return new Smart.Utilities.BigNumber(t._minObject)}getAngleRangeCoefficient(){const e=this.context,i=Smart.Utilities.BigNumber.ignoreBigIntNativeSupport;Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=!0,e._angleRangeCoefficient=new Smart.Utilities.BigNumber(e._angleDifference).divide(e._range),Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=i}}),Smart.Utilities.Assign("DecimalNumericProcessor",class extends Smart.Utilities.BaseNumericProcessor{constructor(e,i){super(e,i),this.context=e}getPreciseModulo(e,i,t){var a=Math.abs,r=Math.round;const n=0<=e?1:-1;if(e=a(e),i=a(i),"undefined"==typeof t){const t=e.toExponential(),r=i.toExponential(),l=parseInt(t.slice(t.indexOf("e")+1),10),o=parseInt(r.slice(r.indexOf("e")+1),10),m=0>l?a(l):0,c=0>o?a(o):0,s=Math.max(m,c);if(this.roundCoefficient=s,e<i)return n*e;if(e===i)return 0;if((-1>e||1<e)&&(-1>i||1<i||1===i))if(0==e%1&&0==i%1)return n*(e%i);else{const t=Smart.Utilities.BigNumber.ignoreBigIntNativeSupport;Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=!0;const a=n*parseFloat(new Smart.Utilities.BigNumber(e).mod(i).toString());return Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=t,a}const u=Math.pow(10,s);return n*(e*u%(i*u)/u)}return n*(r(e*t)%r(i*t))}createDescriptor(e,i,t,a){let r=parseFloat(e);return a&&(r=this.validate(r,this.context._minObject,this.context._maxObject)),r}round(e){return Math.round(e)}validate(e,i,t){let a;return a=e<i?i:e>t?t:e,a}validateMinMax(e,i){const t=this.context,a="undefined"!=typeof t._regexSpecial&&t._regexSpecial.inf.test(t.min),r="undefined"!=typeof t._regexSpecial&&t._regexSpecial.inf.test(t.max);e&&(null===t.min||a?(t.min=-Infinity,t._minObject=-Infinity):(t.min=t.min.toString().replace(/\s/g,""),this.regexScientificNotation.test(t.min)&&(t.min=this.scientificToDecimal(t.min)),t._minObject=t._discardDecimalSeparator(t.min))),i&&(null===t.max||r?(t.max=1/0,t._maxObject=1/0):(t.max=t.max.toString().replace(/\s/g,""),this.regexScientificNotation.test(t.max)&&(t.max=this.scientificToDecimal(t.max)),t._maxObject=t._discardDecimalSeparator(t.max))),this.compare(t._minObject,t._maxObject)||(t._maxObject=parseFloat(t._maxObject)+1,t.max=t._maxObject)}valueToPx(e){const i=this.context,t=i._measurements.trackLength/i._range;let a;return a=i._normalLayout?t*(e-i._drawMin):t*(i._drawMax-e),Math.round(a)}pxToValue(e){const i=this.context;let t;if(t=i._normalLayout?(e-i._trackStart)*i._valuePerPx:(i._trackEnd-e)*i._valuePerPx,i.logarithmicScale){const e=t+parseFloat(i._drawMin);return Math.pow(10,e)}return this.validate(t+i._minObject,i._minObject,i._maxObject)}compare(e,i,t){return e=parseFloat(e),i=parseFloat(i),!0===t?e<i?-1:e>i?1:0:e!==i}incrementDecrement(e,i,t){const a=this.context;let r;if("add"===i){if(r=parseFloat(e)+parseFloat(t),void 0!==a._drawMax)return r>parseFloat(a._drawMax)?a._drawMax:r;}else if(r=parseFloat(e)-parseFloat(t),void 0!==a._drawMin)return r<parseFloat(a._drawMin)?a._drawMin:r;return r}render(e){const i=this.context,t="undefined"!=typeof i._regexSpecial&&i._regexSpecial.nonNumericValue.test(e);if(t)return e;else{const t=new Smart.Utilities.NumberRenderer(e);return i.scientificNotation?t.toScientific(i.significantDigits,i.precisionDigits):t.toDigits(i.significantDigits,i.precisionDigits)}}addTicksAndLabels(){const e=this.context,i=e._measurements.trackLength,t=e._normalLayout,a=e._majorTicksInterval,r=Math.round(e._range/parseFloat(a.toString())),n=i/r,l=parseFloat(e._drawMin),o=parseFloat(e._drawMax);let m,c,s,u,g,d,p,b,_,x="",f="";e._tickValues=[],this._longestLabelSize=0,t?(m=l,c=e.logarithmicScale&&0>l&&-1!==l?parseFloat(m-this.getPreciseModulo(m,a)):parseFloat(m-this.getPreciseModulo(m,a)+parseFloat(a)),s=c-m,g=e._formatLabel(l),d=e._tickIntervalHandler.labelsSize.minLabelSize,u=o,p=e._formatLabel(o),b=e._tickIntervalHandler.labelsSize.maxLabelSize):(m=o,c=parseFloat(m-this.getPreciseModulo(m,a)),s=m-c,g=e._formatLabel(o),d=e._tickIntervalHandler.labelsSize.maxLabelSize,u=l,p=e._formatLabel(l),b=e._tickIntervalHandler.labelsSize.minLabelSize),e._labelDummy=this._createMeasureLabel(),_=this._addMajorTickAndLabel(g,d,!0,m),x+=_.tick,f+=_.label;const S=s/a*n;if(c.toString()!==e._drawMax.toString()&&S<i){const i=e._formatLabel(c.toString()),t=d<S;_=this._addMajorTickAndLabel(i,void 0,t,c,!0),x+=_.tick,f+=_.label}_=this.addMiddleMajorTicks(r,n,S,s,t,a),x+=_.tick,f+=_.label,_=this._addMajorTickAndLabel(p,b,!0,u),x+=_.tick,f+=_.label,x+=this.addMinorTicks(t),e._measureLabelScale.removeChild(e._labelDummy),delete e._labelDummy,delete e._measureLabelScale,"smart-tank"===e.nodeName.toLowerCase()&&e._updateScaleWidth(this._longestLabelSize),e._appendTicksAndLabelsToScales(x,f)}addMiddleMajorTicks(e,t,a,r,n,l){const o=this.context;let i="",m="";for(let c=1;c<e;c++){let s,u=c*t+a;if(s=n?parseFloat(o._drawMin)+l*c+r:parseFloat(o._drawMax)-l*c-r,s.toString()!==o._drawMax.toString()){let a=o._formatLabel(s.toString()),r=!0;o._labelDummy.innerHTML=a;let n=o._labelDummy[o._settings.size];u+n>=e*t&&(r=!1);const l=this._addMajorTickAndLabel(a,void 0,r,s,!0);i+=l.tick,m+=l.label}}return{tick:i,label:m}}addMinorTicks(e){function t(e){return parseFloat(e.toFixed(s))}function a(e){-1===o.indexOf(e)&&0===l._numericProcessor.getPreciseModulo(e,c,u)&&(_+="<div style=\""+g+": "+l._numericProcessor.valueToPx(e)+"px;\" class=\"smart-tick smart-tick-minor\"></div>")}function i(){let e=l._measurements.trackLength,i=e/o.length,t=.1;20>i?t=1:20<=i&&40>i?t=1<p-d?1:.5:40<=i&&80>i&&(t=.2);let a=Math.floor(l._drawMax),m=l._drawMax-a,c=l._drawMax-l._drawMin>o.length;for(let e=l._drawMax;e>l._drawMin-1;--e){let a=0<m?n(10,e-m+1):n(10,e),o=a*t;for(let e=a;0<e;e-=o)if(e<l.max&&e>l.min){let i=new Smart.Utilities.BigNumber(r(e));(0==i%1&&c||!c)&&(_+="<div style=\""+g+": "+l._numericProcessor.valueToPx(i)+"px;\" class=\"smart-tick smart-tick-minor\"></div>")}}}var r=Math.log10,n=Math.pow;const l=this.context,o=l._tickValues,m=l._tickIntervalHandler.nearestPowerOfTen,c=l._minorTicksInterval,s=0>r(m)?Math.round(Math.abs(r(m))):0,u=n(10,s),g=l._settings.leftOrTop;let d,p,b,_="";if(e?(d=o[0],p=o[1],b=o[o.length-1]):(d=o[o.length-1],p=o[o.length-2],b=o[0]),l.logarithmicScale)i();else{for(let e=p;e>d;e=t(e-m))a(e);for(let e=t(p+m);e<b;e=t(e+m))a(e)}return _}validateCustomTicks(){const e=this.context;let t=[];for(let a=0;a<e.customTicks.length;a++){const i=e.customTicks[a],r=this.createDescriptor(i);r>=e._minObject&&r<=e._maxObject&&t.push(r.toString())}t.sort(function(e,i){return e-i}),t=t.filter(function(e,i,t){return!i||e!==t[i-1]}),e.customTicks=t.slice(0)}addGaugeTicksAndLabels(){var e=Math.PI;const t=this.context,a=this,r=Math.max(t._tickIntervalHandler.labelsSize.minLabelSize,t._tickIntervalHandler.labelsSize.maxLabelSize),n=t._majorTicksInterval,l=t._minorTicksInterval,o={},m=t._distance,c=t._measurements.radius,s=c-m.majorTickDistance,u=c-m.minorTickDistance;let g,d,p,b,_,x;"none"!==t.ticksVisibility&&!1!==t._plotTicks?(g=function(e){t._drawTick(e,s,"major")},d=function(e){t._drawTick(a.getAngleByValue(e,!0),u,"minor")}):(g=function(){},d=function(){}),p="none"!==t.labelsVisibility&&!1!==t._plotLabels?function(e,i,a){t._drawLabel(e,i,m.labelDistance,a)}:function(){},t.inverted?(_=t.startAngle,x=t.endAngle):(_=t.endAngle,x=t.startAngle),b=a.getAngleByValue(t._drawMin,!1),g(b),o[t._drawMin]=!0,p(b,t.min,!1);let f,S=t._drawMin-a.getPreciseModulo(t._drawMin,n);0<=t._drawMin&&(S+=n);for(let e=S;e>=t._drawMin;e-=l)f=e;b=a.getAngleByValue(S,!1),g(b),o[S]=!0,2*e*t._measurements.innerRadius*(this._getAngleDifference(_,a.getAngleByValue(S,!1,!0))/360)>r&&p(b,this.getActualValue(S),S<t._drawMax);let N;for(N=S+n;N<t._drawMax-n;N+=n)b=a.getAngleByValue(N,!1),g(b),o[N]=!0,p(b,this.getActualValue(N),!0);if(void 0===o[N]&&N<=t._drawMax&&(b=a.getAngleByValue(N,!1),g(b),o[N]=!0,2*e*t._measurements.innerRadius*(this._getAngleDifference(x,a.getAngleByValue(N,!1,!0))/360)>=r&&p(b,this.getActualValue(N),!0),t._normalizedStartAngle!==t.endAngle&&(b=a.getAngleByValue(t._drawMax,!1),g(b),o[t._drawMax]=!0,2*e*t._measurements.innerRadius*(this._getAngleDifference(x,_)/360)>=r&&p(b,t.max,!1))),!t.logarithmicScale)for(let e=f;e<t._drawMax;e+=l)o[e]||d(e);else this.drawGaugeLogarithmicScaleMinorTicks(o,n,d)}updateToolTipAndValue(e,i,t){const a=this.context,r=a.logarithmicScale;a._updateTooltipValue(e),r&&(e=parseFloat(Math.pow(10,parseFloat(e)).toFixed(11)));const n=e.toString();a._number=e,a._drawValue=r?Math.log10(n):e,n!==i&&t&&(a.value=a._discardDecimalSeparator(n),!a._programmaticValueIsSet&&a.$.fireEvent("change",{value:a.value,oldValue:i}),a.$.hiddenInput&&(a.$.hiddenInput.value=a.value))}validateInterval(e){const i=this.context,t=i._maxObject-i._minObject;i._validInterval=Math.min(parseFloat(e),t),i.interval=i._validInterval}getCoercedValue(e,i,t){var a=Math.abs;const r=this.context;if(!r.coerce)return e;let n,l,o=!r.logarithmicScale;if(r.customInterval){const l=r.customTicks;if(0===l.length)return e;o=o||t,n=!1===i?r._minObject:parseFloat(r._drawMin);let m=a(n-e),c=n;for(let t=0;t<l.length;t++){const i=this.createDescriptor(l[t]),r=o?i:Math.log10(i),n=a(r-e);n<m&&(m=n,c=r)}return c}!1===i?(n=parseFloat(r.min),l=parseFloat(r.max)):(n=parseFloat(r._drawMin),l=parseFloat(r._drawMax));let m=e-n,c=this.getPreciseModulo(m,parseFloat(r.interval)),s=this.roundCoefficient;if(0===c)return e;0===this.roundCoefficient&&(s=12);let u=parseFloat((m-c).toFixed(s)),g=u+parseFloat(r.interval);if(r.max-r.min<=parseFloat(r.interval)&&o){let i=n,t=l;return e>=i+(t-i)/2?t:i}if(a(m-u)<a(m-g))return u+n;else{const e=g+n;return e>l?u+n:e}}updateValue(e){const i=this.context,t=this.validate(e,i._minObject,i._maxObject),a=i.value;e.toString()!==a.toString()||i._scaleTypeChangedFlag?(i.value=e.toString(),i._number=t,!i._programmaticValueIsSet&&i.$.fireEvent("change",{value:i.value,oldValue:a})):i.value="string"==typeof e?e:e.toString(),i._drawValue=i.logarithmicScale?Math.log10(t).toString():t.toString(),i._moveThumbBasedOnValue(i._drawValue),i.$.hiddenInput&&(i.$.hiddenInput.value=i.value)}getValuePerPx(e,i){return parseFloat(e)/i}restrictValue(e){e[1]<e[0]&&(e[1]=e[0])}lockRotation(e,i){const t=this.context;if(e&&i<t._number){if(t._lockCW=!0,i<t._maxObject)return t._maxObject;}else if(!e&&i>t._number&&(t._lockCCW=!0,i>t._minObject))return t._minObject}getAngleRangeCoefficient(){const e=this.context;e._angleRangeCoefficient=e._angleDifference/e._range}}),Smart.Utilities.Assign("ComplexNumericProcessor",class extends Smart.Utilities.BaseNumericProcessor{constructor(e,i){super(e,i),this.context=e}createDescriptor(e,i,t,a,r,n){let l;return l=n?n:e.constructor===this.complexConstructor?new this.complexConstructor(e.realPart,e.imaginaryPart):new this.complexConstructor(e),a&&(l=this.validate(l,this.context._minObject,this.context._maxObject)),l}validate(e,i,t){let a=e;return i===-Infinity?t!==1/0&&1===this.compareComplexNumbers(e,t)&&(a=new this.complexConstructor(t.realPart,t.imaginaryPart)):-1===this.compareComplexNumbers(e,i)&&(a=new this.complexConstructor(i.realPart,i.imaginaryPart)),a}compare(e,i,t){return!0===t?this.compareComplexNumbers(e,i):0!==this.compareComplexNumbers(e,i)}validateMinMax(e,i){const t=this.context;e&&(null===t.min||t._regexSpecial.inf.test(t.min)?(t.min=-Infinity,t._minObject=-Infinity):t._minObject=new this.complexConstructor(t.min)),i&&(null===t.max||t._regexSpecial.inf.test(t.max)?(t.max=1/0,t._maxObject=1/0):t._maxObject=new this.complexConstructor(t.max))}incrementDecrement(e,i){let t=new this.complexConstructor(e.realPart,e.imaginaryPart),a=this.context._spinButtonsStepObject;return"add"===i?(t.realPart+=a.realPart,t.imaginaryPart+=a.imaginaryPart):(t.realPart-=a.realPart,t.imaginaryPart-=a.imaginaryPart),t}render(e){let i=e;if(!1===this.context._regexSpecial.nonNumericValue.test(e)){let e,t=i.realPart,a=i.imaginaryPart,r=this.context.significantDigits,n=this.context.precisionDigits;0<=a?e="+":(e="-",a=Math.abs(a));const l=new Smart.Utilities.NumberRenderer(t),o=new Smart.Utilities.NumberRenderer(a);this.context.scientificNotation?(t=l.toScientific(r,n),a=o.toScientific(r,n)):(t=l.toDigits(r,n),a=o.toDigits(r,n)),i=`${t} ${e} ${a}i`}return i}compareComplexNumbers(e,i){if(!1==e instanceof this.complexConstructor||!1==i instanceof this.complexConstructor)return-1;const t=e.realPart,a=i.realPart;if(t<a)return-1;if(t>a)return 1;else{const t=e.imaginaryPart,a=i.imaginaryPart;return t<a?-1:t>a?1:0}}}),Smart.Utilities.Assign("NumberRenderer",class{constructor(e){const i=this;i.numericValue=e,i.powersToPrefixes={24:"Y",21:"Z",18:"E",15:"P",12:"T",9:"G",6:"M",3:"k",0:"","-2":"c","-3":"m","-6":"u","-9":"n","-12":"p","-15":"f","-18":"a","-21":"z","-24":"y"},i.localizationObject={currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:",",defaultPrecision:2}}isENotation(e){return new RegExp(/e/i).test(e)}largeExponentialToDecimal(e){let i;e===void 0&&(e=this.numericValue,i=!0);let t=e.toString().toLowerCase(),a=t.indexOf("e"),r=new Smart.Utilities.BigNumber(t.slice(0,a)),n=t.slice(a+1,a+2);"+"!==n&&"-"!==n&&(t=t.slice(0,a)+"e+"+t.slice(a+1),n="+");let l=t.slice(a+2),o=new Smart.Utilities.BigNumber(10),m=o.pow(n+(i?Math.min(20,l):l)),c=r.multiply(m);return c.toString()}bigNumberToExponent(e,i){let t=this.numericValue;t.constructor!==Smart.Utilities.BigNumber&&(t=new Smart.Utilities.BigNumber(t));const a=t._f;let r=t.toString();if(10>=a)return i?parseFloat(r).toExponential(null===e?void 0:e-1):new Smart.Utilities.NumberRenderer(parseFloat(r)).toDigits(e);if(e>=a&&!i)return r;else{let n;!1===t._s?n="":(n="-",r=r.slice(1));const l=parseFloat(r.slice(e,e+1));5<=l&&(r=new Smart.Utilities.BigNumber(r.slice(0,e)).add(1).toString());let o=r.slice(1,e);if(i)e--,0<o.length&&e>o.length?o+="0".repeat(e-o.length):0===o.length&&(o="0".repeat(e));else for(;0<o.length&&"0"===o.charAt(o.length-1);)o=o.slice(0,o.length-1);const m=0<o.length?".":"";return n+r.slice(0,1)+m+o+"E+"+(a-1)}}toScientific(){const e=this;let i=e.numericValue._d?e.bigNumberToExponent(null===arguments[0]?arguments[1]+1:arguments[0],!0).toLowerCase():(+e.numericValue.toString()).toExponential();const t=i.indexOf("e"),a=i.slice(t+1);let r=parseFloat(i.slice(0,t));if("-2"===a)return r+"c";const n=parseInt(a,10)%3;if(0<n)for(let e=0;e<n;e++)r*=10;else if(0>n){const e=Smart.Utilities.BigNumber.ignoreBigIntNativeSupport;Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=!0,r=parseFloat(new Smart.Utilities.BigNumber(r).multiply(Math.pow(10,n)).toString()),Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=e}if(0<a){const e=0<=r?0:1,a=i.slice(e,t).length-n-2;0<=a&&(r=r.toFixed(a))}const l=new Smart.Utilities.NumberRenderer(r);r=l.toDigits(arguments[0],arguments[1]);const o=parseInt(a,10)-n,m=r+e.powersToPrefixes[o.toString()];return m}bigNumberToScientific(){const e=this,i=e.numericValue._f-1,t=parseInt(i,10)%3,a=parseInt(i,10)-t;let r,n,l=e.numericValue.toString();if("-"===l.charAt(0)?(r="-",l=l.slice(1)):r="",null!==arguments[0])for(n=l.slice(0,arguments[0]),5<=parseFloat(l.slice(arguments[0],arguments[0]+1))&&(n=new Smart.Utilities.BigNumber(n).add(1).toString());n.length>1+t&&"0"===n.charAt(n.length-1);)n=n.slice(0,n.length-1);else null!==arguments[1]&&(n=l.slice(0,arguments[1]+1),5<=parseFloat(l.slice(arguments[1]+1,arguments[1]+2))&&(n=new Smart.Utilities.BigNumber(n).add(1).toString()),arguments[1]+t>n.length-1&&(n+="0".repeat(arguments[1]+t-n.length+1)));return n.length>1+t&&(n=n.slice(0,1+t)+"."+n.slice(1+t)),r+n+e.powersToPrefixes[a.toString()]}toDigits(e,i){const t=this;let a;return a=null===e?null===i?t.applySignificantDigits(8):t.applyPrecisionDigits(i):t.applySignificantDigits(e),a}applySignificantDigits(e){function i(e){for(;"0"===e.charAt(e.length-1);)e=e.slice(0,-1);return"."===e.charAt(e.length-1)&&(e=e.slice(0,-1)),e}const t=this;e=Math.max(1,Math.min(e,21));let a=parseFloat(t.numericValue).toPrecision(e).toUpperCase();if(-1!==a.indexOf("."))if(t.isENotation(a)){const e=a.indexOf("."),t=a.indexOf("E");let r=a.slice(e,t);r=i(r),a=a.slice(0,e)+r+a.slice(t)}else a=i(a);return a}applyPrecisionDigits(e){const i=this;e=Math.max(0,Math.min(e,20));let t=parseFloat(i.numericValue).toFixed(e);return i.isENotation(t)&&(t=i.largeExponentialToDecimal(t)+"."+"0".repeat(e)),t}getLogarithm(e){var i=Math.log;const t=this.numericValue;let a;if(void 0===e&&(e=10),10===e)try{a=Math.log10(t)}catch(e){a=i(t)/2.302585092994046}else a=i(t)/i(e);return a}applySeparators(e,i){const t=this;e=e.toString();const a=e.indexOf(".");if(-1!==a){const r=e.slice(0,a),n=e.slice(a+1);return t.applyThousandsSeparator(r,i)+t.localizationObject.decimalseparator+n}return t.applyThousandsSeparator(e,i)}applyThousandsSeparator(e,i){if(i)return e;let t="";e=e.toString(),"-"===e.charAt(0)&&(t="-",e=e.slice(1));let a=e.split("").reverse();for(let t=2;t<a.length-1;t+=3)a[t]=this.localizationObject.thousandsseparator+a[t];return a.reverse(),a=a.join(""),t+a}formatNumber(e,i,t){var a=Math.round;const r=this;if(void 0===arguments[3]&&delete r._ignoreMinus,delete r._wordLengthNumber,!/^([a-zA-Z]\d*)$/g.test(i))try{const t=r.applyCustomFormat(e,i);return t}catch(i){return e.toString()}const n=i.slice(0,1);let l=i.slice(1);if(""!==l&&(isNaN(parseFloat(l))||0>parseFloat(l)||99<parseFloat(l)?l="":0!=parseFloat(l)%1&&(l=a(l))),e._d)r.inputFormat="integer";else{if(e.imaginaryPart)return r.formatComplexNumber(e,i,n,l);r.inputFormat="floatingPoint"}let o,m=new Smart.Utilities.NumericProcessor(r,"inputFormat"),c=m.createDescriptor(e);switch(r._wordLengthNumber=m.getWordLength(t?t:"int32"),"integer"===r.inputFormat&&(c=m.round(c)),r.numericValue=c,n){case"C":case"c":return""===l&&(l=r.localizationObject.defaultPrecision),l=parseFloat(l),o="floatingPoint"===r.inputFormat?r.applyPrecisionDigits(l):c.toString()+(0<l?"."+"0".repeat(l):""),o=r.applySeparators(o),"before"===r.localizationObject.currencysymbolposition?"-"===o.charAt(0)?"-"+r.localizationObject.currencysymbol+o.slice(1):r.localizationObject.currencysymbol+o:o+" "+r.localizationObject.currencysymbol;case"D":case"d":{if(o=c,"floatingPoint"===r.inputFormat&&(o=a(c)),o=o.toString(),""===l)return o;let e="";"-"===o.charAt(0)&&(e="-",o=o.slice(1));const i=l-o.length;return 0<i&&(o="0".repeat(i)+o),e+o}case"E":case"e":case"U":case"u":{""===l&&(l=6),o="floatingPoint"===r.inputFormat?c.toExponential(l):r.bigNumberToExponent(parseFloat(l)+1,!0).toLowerCase();const e=o.indexOf("e"),i=o.slice(e+2).length;return(3>i&&(o=o.slice(0,e+2)+"0".repeat(3-i)+o.slice(e+2)),"u"===n.toLowerCase())?r.exponentialToSuperscript(r.applySeparators(o,!0)):("E"===n&&(o=o.toUpperCase()),r.applySeparators(o,!0))}case"F":case"f":case"N":case"n":return""===l&&(l=r.localizationObject.defaultPrecision),l=parseFloat(l),o="floatingPoint"===r.inputFormat?r.applyPrecisionDigits(l):c.toString()+(0<l?"."+"0".repeat(l):""),r.applySeparators(o,"f"===n.toLowerCase());case"G":case"g":{(""===l||"0"===l)&&(l="floatingPoint"===r.inputFormat?15:"int8"===t||"uint8"===t?3:"int16"===t||"uint16"===t?5:"int64"===t?19:"uint64"===t?20:10),l=parseFloat(l);let i=r.formatNumber(e,"E"+l,t),a=i.indexOf("E");const o=parseInt(i.slice(a+1),10);if(-5<o&&o<l)return"floatingPoint"===r.inputFormat?r.applySeparators(r.applySignificantDigits(l),!0):c.toString();if(-100<o&&100>o&&(i=i.slice(0,a+2)+i.slice(a+3)),-1!==i.indexOf(r.localizationObject.decimalseparator)){for(;"0"===i.charAt(a-1);)i=i.slice(0,a-1)+i.slice(a),a=i.indexOf("E");i.charAt(a-1)===r.localizationObject.decimalseparator&&(i=i.slice(0,a-1)+i.slice(a))}return"g"===n&&(i=i.toLowerCase()),i}case"P":case"p":return""===l&&(l=r.localizationObject.defaultPrecision),l=parseFloat(l),"floatingPoint"===r.inputFormat?(r.numericValue=100*c,o=r.applyPrecisionDigits(l)):o=c.multiply(100).toString()+(0<l?"."+"0".repeat(l):""),r.applySeparators(o)+" %";case"B":case"b":case"O":case"o":case"X":case"x":{"integer"!==r.inputFormat&&(r.inputFormat="integer",m=new Smart.Utilities.NumericProcessor(r,"inputFormat"),c=m.round(m.createDescriptor(e)));let i;if(i="B"===n||"b"===n?2:"O"===n||"o"===n?8:16,o=c.toString(i,r._wordLengthNumber),""!==l){const e=parseFloat(l)-o.length;0<e&&(o="0".repeat(e)+o)}return"x"===n&&(o=o.toLowerCase()),o}case"S":case"s":return""===l&&(l=r.localizationObject.defaultPrecision),l=parseFloat(l),r.toScientific(null,l).replace(".",r.localizationObject.decimalseparator);default:return e.toString();}}formatComplexNumber(e,i,t){const a=this;return"E"===t||"e"===t||"U"===t||"u"===t||"F"===t||"f"===t||"G"===t||"g"===t||"N"===t||"n"===t||"S"===t||"s"===t?0<=e.imaginaryPart?a.formatNumber(e.realPart,i)+" + "+a.formatNumber(e.imaginaryPart,i)+"i":a.formatNumber(e.realPart,i)+" - "+a.formatNumber(Math.abs(e.imaginaryPart),i)+"i":e.toString()}toString(e,i,t){return i?this.formatNumber(e,i,t):e.toString()}applyCustomFormat(e,i){const t=this;i=i.replace(/_.|\[\w*\]|\*/g,""),i=i.replace(/\?/g,"#");const a=i.split(";");if("string"==typeof e&&isNaN(e))return a[a.length-1].replace(/"/g,"").replace(/@/g,e.toString());if(e._d)t.inputFormat="integer";else{if(e.imaginaryPart)return e.toString();e=parseFloat(e),t.inputFormat="floatingPoint"}let r=new Smart.Utilities.NumericProcessor(t,"inputFormat"),n=r.createDescriptor(e);"integer"===t.inputFormat&&(n=r.round(n)),t.numericProcessor=r;const l=t.getRelevantFormatSection(a,n);if(void 0===l)return e.toString();if(-1!==l.indexOf("@"))return a[a.length-1].replace(/"/g,"").replace(/@/g,e.toString());const o=-1!==l.replace(/".*"/g,"").indexOf("%"),m=t.getTextParts(l);if(-1!==m.main.toLowerCase().indexOf("e"))return t.applyCustomExponentialFormat(n,m,r);if(-1!==m.main.indexOf("/"))return t.applyCustomFractionalFormat(n,m,r);if(o&&("integer"===t.inputFormat?n=n.multiply(100):n*=100),""===m.main){if(!o)return m.suffix;let e=n.toString();return t._ignoreMinus&&"-"===e.charAt(0)&&(e=e.slice(1)),e+m.suffix}let c=m.main.replace(/[^0#,. \/]/g,""),s=c.indexOf(".");for(-1!==s&&(c=c.substring(0,s+1)+c.substring(s+1).replace(/\./g,""),"."===c.charAt(c.length-1)&&(c=c.slice(0,c.length-1)),0===s&&(c="#"+c));","===c.charAt(c.length-1);)c=c.slice(0,c.length-1),"floatingPoint"===t.inputFormat?n/=1e3:n=n.multiply(.001);"integer"===t.inputFormat&&(n=r.round(n));const u=-1!==c.indexOf(",");c=c.replace(/,/g,"");const g=c.split("."),d=g[0];let p=g[1],b="";if(1===g.length)return"floatingPoint"===t.inputFormat&&(n=r.round(n)),b=n.toString(),t.setTextParts(t.formatWholeNumber(b,d,u),m);b=n.toString();let _=b.split("."),x=t.formatWholeNumber(_[0],d,u),f=_[1]||"";if(p.length<=f.length&&(b=parseFloat(n.toFixed(p.length)).toString(),_=b.split("."),x=t.formatWholeNumber(_[0],d,u),f=_[1]||"",f))return t.setTextParts(x+t.localizationObject.decimalseparator+f.slice(0,p.length),m);p=p.slice(f.length-p.length);let S=p.lastIndexOf("0");return-1===S?""===f?t.setTextParts(x,m):t.setTextParts(x+t.localizationObject.decimalseparator+f,m):t.setTextParts(x+t.localizationObject.decimalseparator+f+"0".repeat(S+1),m)}getRelevantFormatSection(e,i){const t=this,a=t.numericProcessor.compare(i,0,!0);if(1===a)return e[0];let r,n;return 3<=e.length?(t._ignoreMinus=!0,r=1,n=2):2===e.length?(t._ignoreMinus=!0,n=0,r=1):1===e.length&&(n=0,r=0),0===a?e[n]:-1===a?e[r]:void 0}getTextParts(e){const i=e.replace(/"[^"]*"/g,""),t=e.match(/"[^"]*"/g),a=i.search(/0|#|\./g),r=Math.max(i.lastIndexOf("0"),i.lastIndexOf("#"),i.lastIndexOf("."),i.lastIndexOf(",")),n=i.slice(a,r+1);if(""===n)return{prefix:"",main:"",suffix:e.replace(/"/g,"")};let l=e.indexOf(n),o=l+n.length;if(t)for(let a=0;a<t.length;a++){const i=e.indexOf(t[a]);l>=i&&o<=i+t[a].length&&(l=e.indexOf(n,i+t[a].length),o=l+n.length)}const m=e.slice(0,l).replace(/"/g,""),c=e.slice(o).replace(/"/g,"");return{prefix:m,main:n,suffix:c}}applyCustomExponentialFormat(e,i,t){var a=Math.pow;const r=this;let n,l=i.main;const o=-1!==l.indexOf(",");l=l.replace(/[^0#.eE+-]/g,"");const m=l.toLowerCase().indexOf("e");l=l.substring(0,m+1)+l.substring(m+1).replace(/[eE\.]/g,"");const c=l.charAt(m),s=l.indexOf(".");-1!==s&&(l=l.substring(0,s+1)+l.substring(s+1).replace(/\./g,"")),"."===l.charAt(l.length-1)&&(l=l.slice(0,l.length-1));const u=l.split(c);let g=u[0];const d=g.split("."),p=d[0],b=d[1],_=u[1];let x=e.toString().split(".")[0].replace(/-/,""),f=0;if("0"===x&&t.compare(e,0)){let i=p.length-1;for(;0===parseInt(e);)f++,e*=10;x=e.toString().split(".")[0].replace(/-/,""),f+=i,e*=a(10,i)}if(o&&(g=g.slice(0,1)+","+g.slice(1)),x.length<=p.length)n=r.formatNumber(e,g,void 0,!0)+c+r.formatExponent(0-f,_);else{const i=x.length-p.length;let l="floatingPoint"===r.inputFormat?e/a(10,i):e.divide(a(10,i));if(!b){let e=r.applyThousandsSeparator(t.round(l).toString(),!o);n=e+c+r.formatExponent(i-f,_)}let m=l.toString().split(".")[1]||"";m.length===b.length?n=r.applySeparators(l,!o)+c+r.formatExponent(i-f,_):m.length<b.length?n=r.formatNumber(l,g,void 0,!0)+c+r.formatExponent(i-f,_):(l="floatingPoint"===r.inputFormat?l.toFixed(b.length):l=t.round(e.divide(a(10,i-b.length))).divide(a(10,b.length)),n=r.formatNumber(parseFloat(l),g,void 0,!0)+c+r.formatExponent(i-f,_))}return r.setTextParts(n,i)}formatExponent(e,i){let t;return-1!==["+","-"].indexOf(i.charAt(0))&&(t=i.charAt(0),(0<e&&"-"===t||0>e&&"+"===t)&&(t=void 0)),0>e&&(e=Math.abs(e),t="-"),i=i.replace(/[+-]/g,""),e=this.formatNumber(e,i,void 0,!0),(t?t:"")+e}formatWholeNumber(e,t,i){const a=this;let r="";if("-"===e.charAt(0)&&(!a._ignoreMinus&&(r="-"),e=e.slice(1)),"0"===e){if(t==="#".repeat(t.length))return r;e=""}if(t.length<=e.length)return r+a.applyThousandsSeparator(e,!i);t=t.slice(0,t.length-e.length);for(let a=t.length-1;0<=a;a--)"0"===t.charAt(a)&&(e="0"+e);return r+a.applyThousandsSeparator(e,!i)}setTextParts(e,i){return i.prefix+e+i.suffix}applyCustomFractionalFormat(e,i,t){var a=Math.abs;const r=this,n=/^([0#,]+[ ]+)?([0#,]+\/[0#,]+)$/;let l,o=i.main.trim();if(!n.test(o))return e.toString();const m=n.exec(o);if(m[2]=m[2].replace(/,/g,""),"integer"===r.inputFormat){const t=m[2].split("/");return void 0===m[1]?l=r.formatNumber(e,t[0],void 0,!0)+"/"+r.formatNumber(1,t[1],void 0,!0):(l=r.formatNumber(e,m[1].trim(),void 0,!0),-1!==m[2].indexOf("0")&&(l+=" "+r.formatNumber(0,t[0],void 0,!0)+"/"+r.formatNumber(1,t[1],void 0,!0))),r.setTextParts(l,i)}if(void 0===m[1])l=(0>e?"-":"")+r.formatAsFraction(a(e),m[2]);else{const i=m[1].trim(),n=m[2];l=r.formatNumber(parseInt(e,10),i,void 0,!0)+" "+r.formatAsFraction(t.getPreciseModulo(a(e),1),n)}return r.setTextParts(l.trim(),i)}formatAsFraction(e,i){const t=this,a=i.split("/");if(0===e)return-1===i.indexOf("0")?"":t.formatNumber(0,a[0],void 0,!0)+"/"+t.formatNumber(1,a[1],void 0,!0);if(0==e%1)return t.formatNumber(e,a[0],void 0,!0)+"/"+t.formatNumber(1,a[1],void 0,!0);const r=[];t.approximateFractions(e,r);const n=2<=a[1].length?2:1;let l=[],o=[];r.forEach(function(i,t){const a=i.denominator.toString().length,r=Math.abs(e-i.numerator/i.denominator);return void 0===l[a]?(o[a]=t,void(l[a]=r)):void(r<l[a]&&(o[a]=t,l[a]=r))});let m=o[n]?r[o[n]]:r[o[1]];return t.formatNumber(m.numerator,a[0],void 0,!0)+"/"+t.formatNumber(m.denominator,a[1],void 0,!0)}approximateFractions(e,t){const a=[0,1],r=[1,0],n=this.getMaxNumerator(e);let l,o=e,m=NaN;for(let c=2;1e3>c;c++){const i=Math.floor(o);if(a[c]=i*a[c-1]+a[c-2],Math.abs(a[c])>n)return;if(r[c]=i*r[c-1]+r[c-2],l=a[c]/r[c],l===m)return;if(t.push({numerator:a[c],denominator:r[c]}),l===e)return;m=l,o=1/(o-i)}}getMaxNumerator(e){let i=null,t=e.toString().indexOf("E");-1===t&&(t=e.toString().indexOf("e")),i=-1===t?e.toString():e.toString().substring(0,t);let a=null;const r=i.toString().indexOf(".");-1===r?a=i:0===r?a=i.substring(1,i.length):r<i.length&&(a=i.substring(0,r)+i.substring(r+1,i.length));let n=a;const l=n.toString().length,o=e;let m=o.toString().length;0===o&&(m=0);const c=l-m;for(let t=c;0<t&&0==n%2;t--)n/=2;for(let t=c;0<t&&0==n%5;t--)n/=5;return n}exponentialToSuperscript(e){const i=e.indexOf("e"),t=e.slice(i+1).replace(/0{1,2}/,"");let a=e.slice(0,i+1);return a=a.replace("e","\xD710"),a+=this.toSuperscript(t),a=a.replace("+",""),a}toSuperscript(e,t){const a="-0123456789",r="\u207B\u2070\xB9\xB2\xB3\u2074\u2075\u2076\u2077\u2078\u2079";let l="";for(let o=0;o<e.length;o++)if(!0===t){const i=r.indexOf(e.charAt(o));l+=-1===i?e[o]:a[i]}else{const i=a.indexOf(e.charAt(o));l+=-1===i?e[o]:r[i]}return l}});