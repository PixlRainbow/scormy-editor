
/* Smart HTML Elements v4.6.0 (2019-Oct) 
Copyright (c) 2011-2019 jQWidgets. 
License: https://htmlelements.com/license/ */

Smart("smart-switch-button",class extends Smart.ToggleButton{static get properties(){return{inverted:{value:!1,type:"boolean"},orientation:{value:"horizontal",allowedValues:["horizontal","vertical"],type:"string"},switchMode:{value:"default",allowedValues:["default","click","drag","none"],type:"string"},clickMode:{value:"release",allowedValues:["press","release","pressAndRelease"],type:"string"}}}static get listeners(){return{"container.down":"_mouseDownHandler","document.move":"_drag","container.move":"_moveHandler","document.up":"_switchThumbDropHandler",mouseenter:"_switchButtonOnMouseEnter",mouseleave:"_switchButtonOnMouseLeave",resize:"_resizeHandler","container.resize":"_resizeHandler","document.selectstart":"_selectStartHandler"}}static get styleUrls(){return["smart.switchbutton.css"]}propertyChangedHandler(a,b,c){const d=this;super.propertyChangedHandler(a,b,c),d._updateContentProperties();"indeterminate"===a?c?(d._valueCache=d.checked,d.checked=null):d.checked=d._valueCache:"trueContent"===a?d.trueContent=c:"falseContent"===a?d.falseContent=c:"orientation"===a?d._resizeHandler():void 0;d._getContainersSizeAndBreakPoint(),d._removeDragStyles(),d._resizeHandler()}template(){return`<div  id='container' class='smart-container'>
                    <div  id='innerContainer' class ='smart-inner-container'>
                           <span id='falseContentContainer' inner-h-t-m-l='[[falseContent]]' class ='smart-false-content-container'></span>
                           <span id='switchThumb' class ='smart-thumb'></span>
                           <span id='trueContentContainer' inner-h-t-m-l='[[trueContent]]' class ='smart-true-content-container'></span>
                    </div>
                    <input id='hiddenInput' class ='smart-hidden-input' type='hidden'>
               </div>`}ready(){const a=this;super.ready();let b=a.animation;a.hasAnimation&&(a.animation="none"),a._supportCSSVariables=Smart.Utilities.Core.CSSVariablesSupport()&&!!window.getComputedStyle(a.$.container).getPropertyValue("--smart-switch-button-default-width"),a._htmlBindOnInitialization(),a._resizeHandler(),a._initializePrivateVariables(),a._getContainersSizeAndBreakPoint(),a.indeterminate&&(a._valueCache=a.checked,a.checked=null),a._handleTemplate(!0),a._handleTemplate(!1),a._handleTemplate(),a._updateHidenInputNameAndValue(),a._updateThumbPosition(),a.animation=b}_mouseDownHandler(a){const b=this;b.disabled||b.readonly||"none"===b.switchMode||(a.originalEvent.target.closest(".smart-thumb")===b.$.switchThumb&&("default"===b.switchMode||"drag"===b.switchMode)&&b._switchThumbDragStartHandler(a),b._isSwitchClicked=b,b._updateContentProperties(),"release"!==b.clickMode&&"click"===b.switchMode&&(b._updateStateOnClick(),b.$.fireEvent("click"),b.indeterminate=!1,b._updateHidenInputNameAndValue()))}_updateStateOnClick(){const a=this;a._changeCheckState(),a.focus()}_drag(a){const b=this;b._mouseDown&&(Smart.Utilities.Core.isMobile&&a.originalEvent.preventDefault(),b._switchThumbDragHandler(a))}_switchThumbDragStartHandler(a){const b=this;b.disabled||("click"===b.switchMode&&"release"!==b.clickMode&&(a.preventDefault(),a.stopPropagation()),b._isInactiveOn("drag")||(b._mouseDown=!0,b._getContainersSizeAndBreakPoint(),b._pointerPosition="vertical"===b.orientation?a.pageY:a.pageX,a.preventDefault()))}_selectStartHandler(a){const b=this;b._mouseDown&&a.preventDefault()}_switchThumbDragHandler(a){var b=Math.max;const c=this;if(!c._isInactiveOn("drag")){if(!1===c._mouseDown)return void c._removeDragStyles();if(!c.hasAttribute("dragged")){if(1.5>=Math.abs(("vertical"===c.orientation?a.pageY:a.pageX)-c._pointerPosition))return;c.setAttribute("dragged","")}let d=c.$.innerContainer,e=c.$.container.getBoundingClientRect(),f="vertical"===c.orientation?document.body.scrollTop||document.documentElement.scrollTop:document.body.scrollLeft||document.documentElement.scrollLeft,g="vertical"===c.orientation?e.top+f:e.left+f,h="vertical"===c.orientation?c._pointerPosition-d.offsetTop:c._pointerPosition-d.offsetLeft,i=c._pointerPosition>=g&&c._pointerPosition<=g+c._switchContainerSize;const j=-1*(c.offsetWidth-c.$.switchThumb.offsetWidth),k=-1*(c.offsetHeight-c.$.switchThumb.offsetHeight);if(c._pointerPosition="vertical"===c.orientation?a.pageY:a.pageX,i){let a=c._pointerPosition-h;a<-c._switchTrackLength&&(a=-c._switchTrackLength),0<a&&(a=0),"vertical"===c.orientation?c.$.innerContainer.style.top=b(k,a)+"px":c.$.innerContainer.style.left=b(j,a)+"px"}}}_switchThumbDropHandler(){const a=this;a.hasAttribute("dragged")?a._endDrag():a._isSwitchClicked&&a._endClick(),a._mouseDown=!1,delete a._isSwitchClicked}_endDrag(){const a=this;if(a.indeterminate=!1,a._updateHidenInputNameAndValue(),!a._isInactiveOn("drag")&&a._mouseDown){a.removeAttribute("dragged"),delete a._pointerPosition;let b="vertical"===a.orientation?a.$.innerContainer.offsetTop+a.$.switchThumb.offsetTop+a.$.switchThumb.clientHeight/2:a.$.innerContainer.offsetLeft+a.$.switchThumb.offsetLeft+a.$.switchThumb.clientWidth/2;const c=b>a._switchBreakPoint;null===a.checked?c?a._changeCheckState(a.inverted):a._changeCheckState(!a.inverted):!a.inverted==(c===a.checked)&&a._changeCheckState(!a.checked),a._removeDragStyles(),a._updateThumbPosition()}}_endClick(){const a=this;a._resizeHandler();a.disabled||a.readonly||a._isInactiveOn("click")||("release"!==a.clickMode&&"pressAndRelease"!==a.clickMode||a._updateStateOnClick(),a.indeterminate=!1,a._updateHidenInputNameAndValue())}_switchButtonOnMouseEnter(){const a=this;a.disabled||a.readonly||a.$.addClass("hovered")}_switchButtonOnMouseLeave(){const a=this;a.disabled||a.readonly||a.$.removeClass("hovered")}_isInactiveOn(a){const b=this,c=b.disabled||b.readonly||b.switchMode!==a;return"default"!==b.switchMode&&c}_keyUpHandler(a){const b=this;b.disabled||b.readonly||32!==a.keyCode||"none"===b.switchMode||(b._getContainersSizeAndBreakPoint(),b._changeCheckState())}_initializePrivateVariables(){const a=this;a._switchContainerSize=a._switchTrackLength=a._switchBreakPoint=a._pointerPosition=0,a._mouseDown=!1}_changeCheckState(a){const b=this;let c=b.checked;return null===c&&void 0!==a?(b.$.fireEvent("change",{value:a,oldValue:null}),b.checked=a,void b._updateThumbPosition()):void(b.checked=!(null!==b.checked)||!b.checked,b._updateThumbPosition(),b.$.fireEvent("change",{value:b.checked,oldValue:c}),b._updateHidenInputNameAndValue())}_getContainersSizeAndBreakPoint(){const a=this;a._switchContainerSize="vertical"===a.orientation?a.$.container.clientHeight:a.$.container.clientWidth,a._switchTrackLength="vertical"===a.orientation?a._switchContainerSize-a.$.switchThumb.clientHeight:a._switchContainerSize-a.$.switchThumb.clientWidth,a._switchBreakPoint=a._switchContainerSize/2}_removeDragStyles(){const a=this;a._supportCSSVariables?a.$.innerContainer.removeAttribute("style"):a.$.innerContainer.style.left="",a._supportCSSVariables?a.$.innerContainer.removeAttribute("style"):a.$.innerContainer.style.top="",a._mouseDown=!1}_moveHandler(a){"touchmove"===a.originalEvent.type&&a.originalEvent.preventDefault()}_resizeHandler(){const a=this;if(document.body.contains(a)){const b=window.getComputedStyle(a,null),c=parseInt(b.getPropertyValue("border-top-width")),d=parseInt(b.getPropertyValue("border-right-width")),e=parseInt(b.getPropertyValue("border-bottom-width")),f=parseInt(b.getPropertyValue("border-left-width")),g="vertical"===a.orientation?a.offsetHeight-(c+e):a.offsetWidth-(f+d);a._getContainersSizeAndBreakPoint(),a._supportCSSVariables?a.$.container.style.setProperty("--smart-switch-button-default-width",g+"px"):(a._innerContainerSize=g,a.$.innerContainer.style.height=a.$.innerContainer.style.width="",a.$.trueContentContainer.style.height=a.$.trueContentContainer.style.width="",a.$.falseContentContainer.style.height=a.$.falseContentContainer.style.width="","horizontal"===a.orientation?(a.$.innerContainer.style.setProperty("width",2*g-a.$.switchThumb.clientWidth+"px"),a.$.trueContentContainer.style.setProperty("width",a._switchTrackLength+"px"),a.$.falseContentContainer.style.setProperty("width",a._switchTrackLength+"px")):(a.$.innerContainer.style.setProperty("height",2*g-a.$.switchThumb.clientHeight+"px"),a.$.trueContentContainer.style.setProperty("height",a._switchTrackLength+"px"),a.$.falseContentContainer.style.setProperty("height",a._switchTrackLength+"px")),a._updateThumbPosition())}}_updateThumbPosition(){const a=this;return a._supportCSSVariables||(a.inverted?!0===a.checked:!1===a.checked)||!a._innerContainerSize?void(a.$.innerContainer.style.left=a.$.innerContainer.style.top=""):void((a.inverted?!1===a.checked:a.checked)&&("horizontal"===a.orientation?(a.$.innerContainer.style.left=-1*(a._innerContainerSize-a.$.switchThumb.offsetWidth)+"px",a.$.innerContainer.style.top=""):(a.$.innerContainer.style.top=-1*(a._innerContainerSize-a.$.switchThumb.offsetHeight)+"px",a.$.innerContainer.style.left="")),null===a.checked&&("horizontal"===a.orientation?(a.$.innerContainer.style.left=-1*(a._innerContainerSize/2-a.$.switchThumb.offsetWidth/2)+"px",a.$.innerContainer.style.top=""):(a.$.innerContainer.style.top=-1*(a._innerContainerSize/2-a.$.switchThumb.offsetHeight/2)+"px",a.$.innerContainer.style.left="")))}});