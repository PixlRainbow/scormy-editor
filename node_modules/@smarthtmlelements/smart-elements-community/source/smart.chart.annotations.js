
/* Smart HTML Elements v4.6.0 (2019-Oct) 
Copyright (c) 2011-2019 jQWidgets. 
License: https://htmlelements.com/license/ */

(function(){"use strict";Smart.Chart&&(Smart.Chart.prototype._moduleAnnotations=!0,Smart.Chart.prototype._renderAnnotation=function(a,b){const c=this.seriesGroups[a],d=this.renderer;if(isNaN(a))return;let e=this._get([this.getXAxisDataPointOffset(b.xValue,a),b.x]),f=this._get([this.getValueAxisDataPointOffset(b.yValue,a),b.y]),g=this._get([this.getXAxisDataPointOffset(b.xValue2,a),b.x2]),h=this._get([this.getValueAxisDataPointOffset(b.yValue2,a),b.y2]);if(c.polar||c.spider){const c=this.getPolarDataPointOffset(b.xValue,b.yValue,a);!c||isNaN(c.x)||isNaN(c.y)?(e=b.x,f=b.y):(e=c.x,f=c.y)}if(isNaN(f)||isNaN(e))return!1;if("horizontal"===c.orientation){let a=e;e=f,f=a,a=g,g=h,h=a}b.offset&&(!isNaN(b.offset.x)&&(e+=b.offset.x,g+=b.offset.x),!isNaN(b.offset.y)&&(f+=b.offset.y,h+=b.offset.y));const i=this._get([b.width,g-e]),j=this._get([b.height,h-f]);let k;switch(b.type){case"rect":k=d.rect(e,f,i,j);break;case"circle":k=d.rect(e,f,b.radius);break;case"line":k=d.rect(e,f,g,h);break;case"path":k=d.path(b.path);}k&&d.attr(k,{fill:b.fillColor,stroke:b.lineColor,opacity:this._get([b.fillOpacity,b.opacity]),"stroke-opacity":this._get([b.lineOpacity,b.opacity]),"stroke-width":b.lineWidth,"stroke-dasharray":b.dashStyle||"none"});let l;if(b.text){const a=b.text;let c=0,g=0;a.offset&&(!isNaN(a.offset.x)&&(c+=a.offset.x),!isNaN(a.offset.y)&&(g+=a.offset.y)),l=d.text(a.value,e+c,f+g,NaN,NaN,a.angle,{},!0===a.clip,a.horizontalAlignment||"center",a.verticalAlignment||"center",a.rotationPoint||"centermiddle"),d.attr(l,{fill:a.fillColor,stroke:a.lineColor,class:"smart-chart-annotation-text "+(a["class"]||"")})}const m=["click","mouseenter","mouseleave"],n=this;for(let c=0;c<m.length;c++){const a=m[c];k&&this.renderer.addHandler(k,a,function(){n._raiseAnnotationEvent(b,a)}),l&&this.renderer.addHandler(l,a,function(){n._raiseAnnotationEvent(b,a)})}},Smart.Chart.prototype._raiseAnnotationEvent=function(a,b){this.$.fireEvent("annotation"+b.charAt(0).toUpperCase()+b.slice(1),{annotation:a})})})();