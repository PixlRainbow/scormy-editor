
/* Smart HTML Elements v4.6.0 (2019-Oct) 
Copyright (c) 2011-2019 jQWidgets. 
License: https://htmlelements.com/license/ */

Smart("smart-chip",class extends Smart.ContentElement{static get properties(){return{avatar:{value:null,type:"string?"},closeButton:{value:!1,type:"boolean"},itemTemplate:{value:null,type:"any?",reflectToAttribute:!1},value:{value:"",type:"string"}}}static get listeners(){return{click:"_clickHandler",keydown:"_keyDownHandler"}}static get styleUrls(){return["smart.chip.css"]}template(){return`<div id="container">
                    <span id="avatar" class ="smart-avatar">[[avatar]]</span><!--
                --><span id="value" class ="smart-value" inner-h-t-m-l="[[innerHTML]]"><content></content></span><!--
                --><span id="closeButton" class ="smart-close-button"></span>
            </div>`}propertyChangedHandler(a,b,c){super.propertyChangedHandler(a,b,c);const d=this;"disabled"===a||"unfocusable"===a?d._setFocusable():"avatar"===a?d.itemTemplate?d._setAvatar(d._customAvatar):d._setAvatar(d.$.avatar):"itemTemplate"===a?d._applyTemplate():"value"===a?d.itemTemplate?d._applyTemplate():d.$.value.innerHTML=c||"":void 0}ready(){super.ready();const a=this;a.value=a.value?a.value:a.innerHTML,a._applyTemplate(),a._setFocusable()}close(){const a=this;a.$.fireEvent("close",{value:a.value}),a.parentElement.removeChild(a)}_applyTemplate(){const a=this;let b=a.itemTemplate;if(!b)return a.$.value.innerHTML=a.value,void a._setAvatar(a.$.avatar);if(!("content"in document.createElement("template")))return void a.error(a.localize("htmlTemplateNotSuported",{elementType:a.nodeName.toLowerCase()}));if(b instanceof HTMLTemplateElement||(b=document.getElementById(b)),null===b||!("content"in b))return void a.error(a.localize("invalidTemplate",{elementType:a.nodeName.toLowerCase()}));let c=b.innerHTML;a.$.container.innerHTML=c.replace(/{{\s*value\s*}}/g,a.value),a._customAvatar=a.$.container.querySelector(".smart-avatar"),a._setAvatar(a._customAvatar)}_clickHandler(a){const b=this;if(!b.disabled){const c=b.enableShadowDOM?b.shadowRoot.elementFromPoint(a.pageX,a.pageY):a.target;c.closest&&c.closest(".smart-close-button")&&b.close()}}_keyDownHandler(a){const b=this;let c=a.key;b.disabled||b.readonly||"Delete"!==c||b.close()}_setAvatar(a){if(a){const b=this,c=/\.(gif|jpg|jpeg|tiff|png)$/i.test(b.avatar);a.innerHTML=c?"<img src=\""+b.avatar+"\" />":b.avatar||""}}_setFocusable(){const a=this;return a.disabled||a.unfocusable?void a.removeAttribute("tabindex"):void(a.tabIndex=0<a.tabIndex?a.tabIndex:0)}});