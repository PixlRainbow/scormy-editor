
/* Smart HTML Elements v4.6.0 (2019-Oct) 
Copyright (c) 2011-2019 jQWidgets. 
License: https://htmlelements.com/license/ */

Smart("smart-splitter-item",class extends Smart.ContentElement{static get properties(){return{collapsed:{value:!1,type:"boolean"},collapsible:{value:!1,type:"boolean"},locked:{value:!1,type:"boolean"},max:{value:"",type:"any",validator:"_propertyValidator"},min:{value:"",type:"any",validator:"_propertyValidator"},size:{value:"",type:"any",validator:"_propertyValidator"}}}get enableShadowDOM(){return!1}template(){return`<div id="container">
                    <div class="smart-header" id="header"></div>
                    <div class="smart-content" id="content" inner-h-t-m-l="[[innerHTML]]">
                        <content></content>
                    </div>
                </div>`}static get listeners(){return{mouseenter:"_mouseEventsHandler",mouseleave:"_mouseEventsHandler",styleChanged:"_styleChangedEventHandler"}}propertyChangedHandler(e,i,t){const s=this;switch(e){case"collapsed":s._ignorePropertyValue=!0,t?s.collapse():s.expand();break;case"collapsible":s._updateNearSplitterBars();break;case"size":case"min":case"max":s._setSize(e,t);break;default:super.propertyChangedHandler(e,i,t);}}attached(){super.attached();const e=this;e._sizeLimits||(e._sizeLimits={});const i=getComputedStyle(e);e.min||(e._sizeLimits.minWidth=parseFloat(i.getPropertyValue("min-width"))||0,e._sizeLimits.minHeight=parseFloat(i.getPropertyValue("min-height"))||0),e.max||(e._sizeLimits.maxWidth=parseFloat(i.getPropertyValue("max-width"))||0,e._sizeLimits.maxHeight=parseFloat(i.getPropertyValue("max-height"))||0)}detached(){super.detached();const e=this;e.$.removeClass("animate")}appendChild(e){const i=this;if(!e)return void i.error(i.localize("invalidNode",{elementType:i.nodeName.toLowerCase(),method:"appendChild",node:"node"}));if(!i.isCompleted||e instanceof HTMLElement&&e.classList.contains("smart-resize-trigger-container")){const e=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(i,e.concat(Array.prototype.slice.call(arguments)))}i.$.content.appendChild(e)}collapse(e){const i=this;if(!i.collapsible)return void(i.collapsed=!1);if(i._ignorePropertyValue||!i.collapsed){const t=i.closest("smart-splitter")||(i.getRootNode()&&i.getRootNode().host?i.getRootNode().host.closest("smart-splitter"):void 0);if(!t)return;const s=t._items.indexOf(i);s===t._items.length-1?e=!0:0===s&&(e=!1);const n=e?-1:1;let a=s+n,r=t._items[a];for(;r&&!!r.collapsed;)a+=n,r=t._items[a];if(!r)return void(i.collapsed=!1);delete i._ignorePropertyValue,i._sizeBeforeCollapse||(i._sizeBeforeCollapse=i[t._measurements.size]),r._sizeBeforeCollapse||(r._sizeBeforeCollapse=r[t._measurements.size]);let m;i.previousElementSibling instanceof Smart.SplitterBar?m=i.previousElementSibling:i.nextElementSibling instanceof Smart.SplitterBar&&(m=i.nextElementSibling);const o=r[t._measurements.size]+i[t._measurements.size],l=m?m[t._measurements.size]:i._sizeLimits[t._measurements.minDimension];if(o&&o-l<l)return void(i.collapsed=!1);if(i.hasAnimation&&!t._isInitializing&&(i.$.addClass("animate"),r.$.addClass("animate"),i.addEventListener("transitionend",i._transitionEndHandler,{once:!0}),i.addEventListener("transitioncancel",i._transitionEndHandler,{once:!0}),r.addEventListener("transitionend",i._transitionEndHandler,{once:!0}),r.addEventListener("transitioncancel",i._transitionEndHandler,{once:!0})),!i._paddings){const e=getComputedStyle(i);i._paddings=(parseFloat(e.getPropertyValue("padding-"+t._measurements.position))||0)+(parseFloat(e.getPropertyValue("padding-"+t._measurements.position2))||0)}void 0!==r._sizeBeforeCollapse&&(r._sizeBeforeCollapse+=i._sizeBeforeCollapse),r._sizeLimits&&r._sizeLimits[t._measurements.maxDimension]&&o>r._sizeLimits[t._measurements.maxDimension]&&(r._sizeLimits.ignoreUpdate=!0,r.style[t._measurements.maxDimension]=r._sizeBeforeCollapse?r._sizeBeforeCollapse+"px":""),r._sizeBeforeCollapse&&(r.style[t._measurements.dimension]=r._sizeBeforeCollapse+"px"),i.style[t._measurements.dimension]=i.style[t._measurements.minDimension]="0",i.style.padding="0",i._neighbourItem=r,i.collapsed=!0,t.$.fireEvent("collapse",{itemIndex:t._items.indexOf(i)}),e?(i.previousElementSibling.itemCollapsed=!0,i.previousElementSibling.showFarButton=!(i.previousElementSibling.showNearButton=!1)):(i.nextElementSibling.itemCollapsed=!0,i.nextElementSibling.showNearButton=!(i.nextElementSibling.showFarButton=!1))}}expand(){var e=Math.max;const i=this;if(i._ignorePropertyValue||i.collapsed){const t=i.closest("smart-splitter")||(i.getRootNode()&&i.getRootNode().host?i.getRootNode().host.closest("smart-splitter"):void 0);if(!t)return void(i.collapsed=!0);if(!i._neighbourItem)return void(i.collapsed=!0);if(delete i._ignorePropertyValue,!i._neighbourItem._ignorePropertyValue&&i._neighbourItem.collapsed){let e=t._items.indexOf(i._neighbourItem);const s=t._items.indexOf(i)>t._items.indexOf(i._neighbourItem)?-1:1;for(i._neighbourItem=t._items[e];i._neighbourItem&&!!i._neighbourItem.collapsed;)e+=s,i._neighbourItem=t._items[e]}if(!i._neighbourItem)return void(i.collapsed=!0);i.min&&i._setSize("min",i.min,!0);const s=i._neighbourItem._sizeBeforeCollapse,n=i._sizeLimits[t._measurements.minDimension],a=i._neighbourItem._sizeLimits[t._measurements.minDimension];if(s&&s-n<a)return void(i.collapsed=!0);if(!i._neighbourItem._paddings){const e=getComputedStyle(i._neighbourItem);i._neighbourItem._paddings=(parseFloat(e.getPropertyValue("padding-"+t._measurements.position))||0)+(parseFloat(e.getPropertyValue("padding-"+t._measurements.position2))||0)}if(!i._paddings){const e=getComputedStyle(i);i._paddings=(parseFloat(e.getPropertyValue("padding-"+t._measurements.position))||0)+(parseFloat(e.getPropertyValue("padding-"+t._measurements.position2))||0)}if(-1<(i.size+"").indexOf("%")&&(!i._sizeBeforeCollapse||0===i._sizeBeforeCollapse)&&i._neighbourItem._sizeBeforeCollapse){let e=0;t._items.map(i=>e+=i.collapsed?0:i.style[t._measurements.dimension]&&-1>i.style[t._measurements.dimension].indexOf("%")&&i._sizeBeforeCollapse?i._sizeBeforeCollapse:i.getBoundingClientRect()[t._measurements.dimension]),i._sizeBeforeCollapse=e*parseFloat(i.size)/100}const r=Math.min(e(n,i._sizeBeforeCollapse),s-i._neighbourItem._paddings-i._paddings-a);if(0>r)return void(i.collapsed=!0);i.hasAnimation&&!t._isInitializing&&(i.$.addClass("animate"),i._neighbourItem.$.addClass("animate"),i.addEventListener("transitionend",i._transitionEndHandler,{once:!0}),i.addEventListener("transitioncancel",i._transitionEndHandler,{once:!0}),i._neighbourItem.addEventListener("transitionend",i._transitionEndHandler,{once:!0}),i._neighbourItem.addEventListener("transitioncancel",i._transitionEndHandler,{once:!0})),i.style.padding="",i.style[t._measurements.minDimension]=i.min?i._sizeLimits[t._measurements.minDimension]+"px":"",i.style[t._measurements.dimension]=(i._sizeBeforeCollapse=r)+"px",i._neighbourItem.style[t._measurements.dimension]=(i._neighbourItem._sizeBeforeCollapse=e(i._neighbourItem._sizeLimits[t._measurements.minDimension],s-r))+"px",i._neighbourItem._sizeLimits[t._measurements.maxDimension]&&(i._neighbourItem.style[t._measurements.maxDimension]=i._neighbourItem._sizeLimits[t._measurements.maxDimension]+"px"),i.collapsed=!1,t.$.fireEvent("expand",{itemIndex:t._items.indexOf(i)}),t._items.indexOf(i)>t._items.indexOf(i._neighbourItem)?(i.previousElementSibling.itemCollapsed=!1,i.previousElementSibling.showNearButton=i._neighbourItem.collapsible):(i.nextElementSibling.itemCollapsed=!1,i.nextElementSibling.showFarButton=i._neighbourItem.collapsible);const m=t._items[t._items.indexOf(i)-1],o=t._items[t._items.indexOf(i)+1];if(m){const e=m.nextElementSibling;e&&e instanceof Smart.SplitterBar&&(m.collapsed?e.showNearButton=i.collapsible:(e.itemCollapsed=!1,e.showNearButton=m.collapsible,e.showFarButton=i.collapsible))}if(o){const e=o.previousElementSibling;e&&e instanceof Smart.SplitterBar&&(o.collapsed?e.showFarButton=o.collapsed:(e.itemCollapsed=!1,e.showNearButton=i.collapsible,e.showFarButton=o.collapsible))}delete i._neighbourItem}}insertBefore(e,i){const t=this;if(!e)return void t.error(t.localize("invalidNode",{elementType:t.nodeName.toLowerCase(),method:"insertBefore",node:"node"}));if(!t.isCompleted||e instanceof HTMLElement&&e.classList.contains("smart-resize-trigger-container")){const e=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.insertBefore.apply(t,e.concat(Array.prototype.slice.call(arguments)))}t.$.content.insertBefore(e,i||null)}lock(){const e=this;e.locked=!0}unlock(){const e=this;e.locked=!1}ready(){super.ready()}render(){const e=this,i=e.closest("smart-splitter"),t=i&&i.isCompleted;e._sizeLimits={};let s="string"==typeof e.min&&-1<e.min.indexOf("%");const n=isNaN(parseFloat(e.min))?0:parseFloat(e.min),a=isNaN(parseFloat(e.max))?0:parseFloat(e.max);if(e._sizeLimits.minWidth=e._sizeLimits.minHeight=s&&t?n*i[i._measurements.size]/100:n,s="string"==typeof e.max&&-1<e.max.indexOf("%"),e._sizeLimits.maxWidth=e._sizeLimits.maxHeight=s&&t?a*i[i._measurements.size]/100:a,e.size){s="string"==typeof e.size&&-1<e.size.indexOf("%");const n="auto"===e.size?e.size:isNaN(parseFloat(e.size))?0:parseFloat(e.size)+(s?"%":"px");t?e.style[i._measurements.dimension]=n:e.style.width=e.style.height=n}e.min&&e._setSize("min",e.min),e.max&&e._setSize("max",e.max),e._updateNearSplitterBars(),e.checkLicense(),super.render()}removeChild(e){const i=this;if(!e)return void i.error(i.localize("invalidNode",{elementType:i.nodeName.toLowerCase(),method:"removeChild",node:"node"}));if(!i.isCompleted||e instanceof HTMLElement&&e.classList.contains("smart-resize-trigger-container")){const e=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(i,e.concat(Array.prototype.slice.call(arguments)))}i.$.content.removeChild(e)}_expand(){const e=this;if(e._neighbourItem&&e._neighbourItem.parentElement)return void e.expand();const i=e.closest("smart-splitter");i&&(delete e._neighbourItem,e.collapsed=!1,i.$.fireEvent("expand",{itemIndex:i._items.indexOf(e)}),e.style[i._measurements.minDimension]=e.min?e._sizeLimits[i._measurements.minDimension]+"px":"",e.style[i._measurements.dimension]=e._sizeBeforeCollapse+"px",2>i._items.length||e.previousElementSibling instanceof Smart.SplitterBar&&(e.previousElementSibling.itemCollapsed=!1,e.previousElementSibling.showNearButton=i._items[i._items.indexOf(e)-1].collapsible))}_mouseEventsHandler(e){const i=this,t=i.closest("smart-splitter")||i.getRootNode().host;(t&&!t.disabled||Smart.Utilities.Core.isMobile)&&("mouseenter"===e.type?this.setAttribute("hover",""):this.removeAttribute("hover"))}_propertyValidator(e,i){return"number"!=typeof i&&"string"!=typeof i?e:i}_setSize(e,i,t){var s=Math.max;const n=this;if(n.isCompleted&&n.locked)return;const a=n.closest("smart-splitter");if(a){if(!a.isCompleted)return void a.whenReady(()=>n._setSize(e,i));const r="string"==typeof i&&-1<i.indexOf("%"),m=function(){const e=a.bars;let i=0;for(let t=0;t<e.length;t++)i+=e[t][a._measurements.size];return a.$.container[a._measurements.size]-i}();switch(i=isNaN(parseFloat(i))?"":parseFloat(i),n._sizeLimits||(n._sizeLimits={}),e){case"size":{const e=n[a._measurements.size];"auto"!==arguments[1]&&arguments[1]?r?(n.style[a._measurements.dimension]=i+"%",n._sizeBeforeCollapse=i*m/100):n.style[a._measurements.dimension]=(n._sizeBeforeCollapse=i||0)+"px":(n.style[a._measurements.dimension]=arguments[1],n._sizeBeforeCollapse=n[a._measurements.size]);const t=e-n._sizeBeforeCollapse;n._originalSize&&(n._originalSize=n._sizeBeforeCollapse);const o=a._items[a._items.length-1];if(n===o){let e=a._items.find(e=>e!==n&&!e.collapsed&&!e.locked&&!e.size);if(!e)for(let t=s(0,a._items.length-2);0<=t;t--)if(!a._items[t].collapsed&&!a._items[t].locked&&a._items[t]!==n){e=a._items[t];break}e&&(e.style[a._measurements.dimension]=(e._sizeBeforeCollapse=s(0,e[a._measurements.size]+t))+"px")}break}case"min":n._sizeLimits.minWidth=n._sizeLimits.minHeight=r?i*m/100:i,n.style[a._measurements.minDimension]=n.collapsed||!i?"":i+(r?"%":"px"),n.style["min"+a._measurements.restricredDimension]="",i||a._noNeighbourValidation||a._validateNeighbourSizeLimits(n);break;case"max":n._sizeLimits.maxWidth=n._sizeLimits.maxHeight=r?i*m/100:i,n.style[a._measurements.maxDimension]=i?i+(r?"%":"px"):"",n.style["max"+a._measurements.restricredDimension]="",i||a._noNeighbourValidation||a._validateNeighbourSizeLimits(n);}t||a._validateItemSize(!0)}}_styleChangedEventHandler(e){const i=this;if(i.locked)return;if(i._sizeLimits.ignoreUpdate)return void delete i._sizeLimits.ignoreUpdate;if(i.collapsed)return;const t=i.closest("smart-splitter");let s;e.detail.styleProperties["min-width"]?(s=e.detail.styleProperties["min-width"][t&&"horizontal"===t.orientation?"oldValue":"value"],i._sizeLimits.minWidth=(parseFloat(s)||0)*(s&&-1<s.indexOf("%")?t[t._measurements.size]/100:1)):e.detail.styleProperties["max-width"]?(s=e.detail.styleProperties["max-width"][t&&"horizontal"===t.orientation?"oldValue":"value"],i._sizeLimits.maxWidth=(parseFloat(s)||0)*(s&&-1<s.indexOf("%")?t[t._measurements.size]/100:1)):e.detail.styleProperties["min-height"]?(s=e.detail.styleProperties["min-height"][t&&"horizontal"===t.orientation?"value":"oldValue"],i._sizeLimits.minHeight=(parseFloat(s)||0)*(s&&-1<s.indexOf("%")?t[t._measurements.size]/100:1)):e.detail.styleProperties["max-height"]&&(s=e.detail.styleProperties["max-height"][t&&"horizontal"===t.orientation?"value":"oldValue"],i._sizeLimits.maxHeight=(parseFloat(s)||0)*(s&&-1<s.indexOf("%")?t[t._measurements.size]/100:1))}_transitionEndHandler(){const e=this;if((e.isCompleted||!e.$.hasClass("animate"))&&(e.$.removeClass("animate"),e._neighbourItem&&e._neighbourItem.$.hasClass("animate")&&e._neighbourItem.$.removeClass("animate"),-1<(e.size+"").indexOf("%")||e._neighbourItem&&-1<(e._neighbourItem.size+"").indexOf("%"))){const i=(e.shadowRoot&&e.getRootNode()?e.getRootNode().host:null)||e.closest("smart-splitter");i._validateItemSize()}}_updateNearSplitterBars(){const e=this;e.previousElementSibling instanceof Smart.SplitterBar&&(e.previousElementSibling.showFarButton=e.collapsible),e.nextElementSibling instanceof Smart.SplitterBar&&(e.nextElementSibling.showNearButton=e.collapsible)}}),Smart("smart-splitter-bar",class extends Smart.BaseElement{static get properties(){return{showNearButton:{value:!1,type:"boolean"},showFarButton:{value:!1,type:"boolean"},itemCollapsed:{value:!1,type:"boolean"},locked:{value:!1,type:"boolean"}}}get enableShadowDOM(){return!1}template(){return`<div id="container" >
                    <div class="smart-splitter-far-collapse-button" id="farCollapseButton">
                        <span id="arrowNear" class="smart-arrow"></span>
                    </div>
                    <div class="smart-splitter-resize-button" id="resizeButton">
                        <span></span>
                    </div>
                    <div class="smart-splitter-near-collapse-button" id="nearCollapseButton">
                        <span id="arrowFar" class="smart-arrow"></span>
                    </div>
                </div>`}static get listeners(){return{mouseenter:"_mouseEventsHandler",mouseleave:"_mouseEventsHandler",mouseover:"_mouseEventsHandler",mouseout:"_mouseEventsHandler",focus:"_focusEventHandler",blur:"_focusEventHandler"}}propertyChangedHandler(e,i,t){const s=this;switch(e){case"unfocusable":s._setFocusable();break;default:super.propertyChangedHandler(e,i,t);}}ready(){super.ready();const e=this;e._setFocusable()}hide(){const e=this,i=e.closest("smart-splitter");if(e.$.addClass("smart-hidden"),i){const t=i.items;if(i.hasAnimation){let s;for(let n=0;n<t.length;n++)t[n].$.hasClass("animate")&&(s=!0,t[n].addEventListener("transitionend",function(){e.closest("smart-splitter")._autoFitItems()},{once:!0}));if(s)return}i._autoFitItems()}}show(){const e=this,i=e.closest("smart-splitter");if(e.$.removeClass("smart-hidden"),i){const t=i.items;if(i.hasAnimation){let s;for(let n=0;n<t.length;n++)t[n].$.hasClass("animate")&&(s=!0,t[n].addEventListener("transitionend",function(){e.closest("smart-splitter")._autoFitItems()},{once:!0}));if(s)return}i._autoFitItems()}}lock(){const e=this;e.locked=e.unfocusable=!0;e.showNearButton||e.showFarButton||e._setFocusable()}unlock(){const e=this;e.locked=e.unfocusable=!1,e._setFocusable()}_focusEventHandler(e){const i=this,t=(i.shadowRoot&&i.getRootNode()?i.getRootNode().host:null)||i.closest("smart-splitter");t&&!t.disabled&&("focus"===e.type?this.setAttribute("focus",""):this.removeAttribute("focus"))}_setFocusable(){const e=this;return e.disabled||e.unfocusable?void e.removeAttribute("tabindex"):void(e.tabIndex=0<e.tabIndex?e.tabIndex:0)}_handleHoveredState(e,i){const t=this;switch(i){case"mouseenter":if(!e._getTargetItem(t,"previousElementSibling")||("adjacent"===e.resizeMode?!e._getTargetItem(t,"nextElementSibling"):!e._getTargetItem(t,"previousElementSibling",!0)))return;t.setAttribute("hover","");break;case"mouseleave":{t.removeAttribute("hover");break}}}_mouseEventsHandler(e){const i=this,t=i.closest("smart-splitter")||i.getRootNode().host;return t&&t.disabled||Smart.Utilities.Core.isMobile?void 0:"mouseenter"===e.type||"mouseleave"===e.type?void i._handleHoveredState(t,e.type):e.target.closest(".smart-splitter-far-collapse-button")===i.$.farCollapseButton?void("mouseover"===e.type?i.$.farCollapseButton.setAttribute("hover",""):i.$.farCollapseButton.removeAttribute("hover")):e.target.closest(".smart-splitter-near-collapse-button")===i.$.nearCollapseButton?void("mouseover"===e.type?i.$.nearCollapseButton.setAttribute("hover",""):i.$.nearCollapseButton.removeAttribute("hover")):void(e.target.closest(".smart-splitter-resize-button")===i.$.resizeButton&&("mouseover"===e.type?i.$.resizeButton.setAttribute("hover",""):i.$.resizeButton.removeAttribute("hover")))}}),Smart("smart-splitter",class extends Smart.ContentElement{static get properties(){return{autoFitMode:{allowedValues:["end","proportional","overflow"],value:"proportional",type:"string"},dataSource:{value:null,type:"object?",reflectToAttribute:!1},orientation:{allowedValues:["horizontal","vertical"],value:"vertical",type:"string"},keepProportionsOnResize:{value:!1,type:"boolean"},resizeMode:{allowedValues:["none","adjacent","end","proportional"],value:"adjacent",type:"string"},resizeStep:{value:5,type:"number"},liveResize:{value:!1,type:"boolean"},messages:{extend:!0,value:{en:{invalidIndex:"{{elementType}}: \"{{method}}\" method accepts an index of type number.",indexOutOfBound:"{{elementType}}: Out of bound index/indexes in \"{{method}}\" method.",invalidNode:"{{elementType}}: \"{{method}}\" method accepts an object or an array of objects as it's second parameter.",invalidSettings:"{{elementType}}: \"{{method}}\" method accepts a string or an object as it's second parameter.",invalidType:"{{elementType}}: \"{{propertyName}}\" must be of type string or number."}},type:"object"}}}static get listeners(){return{focus:"_focusHandler",blur:"_focusHandler",down:"_downHandler",move:"_moveHandler","document.dragstart":"_dragStartHandler","document.move":"_documentMoveHandler","document.up":"_documentUpHandler",keydown:"_keyDownHandler",resize:"_resizeEventHandler"}}get enableShadowDOM(){const e=this,i=Smart.EnableShadowDOM;return e._isInShadowDOM?!e._isInShadowDOM:e.isCompleted?null!==e.shadowRoot:i}static get styleUrls(){return["smart.button.css","smart.splitter.css"]}template(){return`<div id="container">
                    <content></content>
                </div>`}propertyChangedHandler(e,i,t){const s=this;switch(e){case"dataSource":s._createLayout();break;case"resizeMode":delete s._dragDetails;break;case"orientation":{s._setMeasurements(),s.setAttribute("orientation-change","");for(let e=0;e<s._items.length;e++)s._items[e].style[s._measurements.dimension]=s._items[e]["offset"+s._measurements.restricredDimension]+"px",s._items[e].style[s._measurements.restricredDimension.toLowerCase()]="100%",s._items[e].style["max"+s._measurements.restricredDimension]="none",s._items[e].style["min"+s._measurements.restricredDimension]="none",s._items[e].style[s._measurements.maxDimension]=s._items[e].max?s._items[e]._sizeLimits[s._measurements.maxDimension]+"px":"",s._items[e].collapsed?(s._items[e].style.minWidth=s._items[e].style.minHeight="",s._items[e].style[s._measurements.minDimension]="0"):s._items[e].style[s._measurements.minDimension]=s._items[e].min?s._items[e]._sizeLimits[s._measurements.minDimension]+"px":"";s._validateItemSize(),s.removeAttribute("orientation-change");break}case"unfocusable":s._setFocusable();break;default:super.propertyChangedHandler(e,i,t);}}appendChild(e){const i=this;if(!i.isCompleted||e instanceof HTMLElement&&e.classList.contains("smart-resize-trigger-container")){const e=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(i,e.concat(Array.prototype.slice.call(arguments)))}return e&&e instanceof Smart.SplitterItem?void i.insertBefore(e,null):void i.error(i.localize("invalidNode",{elementType:i.nodeName.toLowerCase(),method:"appendChild",node:"node"}))}attached(){super.attached();const e=this;e.isRendered&&e._validateItemSize()}collapse(e,i){const t=this;if("number"==typeof e&&(e=t._items[e]),!!e){const s=t.closest("smart-splitter")||(t.getRootNode()&&t.getRootNode().host?t.getRootNode().host.closest("smart-splitter"):void 0);return e instanceof Smart.SplitterItem&&s===t?void e.collapse(i):"number"==typeof e&&t._items[e]?void e.collapse(i):void t.error(t.localize("invalidIndex",{elementType:t.nodeName.toLowerCase(),method:"collapse"}))}}expand(e){const i=this;if("number"==typeof e&&(e=i._items[e]),!!e){const t=i.closest("smart-splitter")||(i.getRootNode()&&i.getRootNode().host?i.getRootNode().host.closest("smart-splitter"):void 0);return e instanceof Smart.SplitterItem&&t===i?void e.expand():"number"==typeof e&&i._items[e]?void e.expand():void i.error(i.localize("invalidIndex",{elementType:i.nodeName.toLowerCase(),method:"expand"}))}}hideBar(e){const i=this;return"number"==typeof e&&(e=i.bars[e]),e instanceof Smart.SplitterBar?void(e instanceof Smart.SplitterBar&&(i.enableShadowDOM?e.getRootNode().host:e.closest("smart-splitter"))===i&&e.hide()):void i.error(i.localize("indexOutOfBound",{elementType:i.nodeName.toLowerCase(),method:"hideBar"}))}get items(){const e=this;if(e.isReady){const t=e.$.container.children;let s=[];for(let e=0;e<t.length;e++)(t[e]instanceof Smart.SplitterItem||"Smart-SPLITTER-ITEM"===t[e].tagName)&&s.push(t[e]);return s}}insert(e,i){const t=this;if("string"==typeof i&&(i={content:i}),!i||"object"!=typeof i)return void t.error(t.localize("invalidSettings",{elementType:t.nodeName.toLowerCase(),method:"insert"}));if("number"!=typeof e)return void t.error(t.localize("invalidIndex",{elementType:t.nodeName.toLowerCase(),method:"insert"}));const s=i instanceof Smart.SplitterItem?i:t._createItem(i);e>=t._items.length||0===t._items.length?t.appendChild(s):t.insertBefore(s,t._items[e])}insertBefore(e,i){function t(){const t=function(){for(let i=e.previousElementSibling;i;){if(i instanceof Smart.SplitterItem)return i;i=i.previousElementSibling}}(),a=t?t.locked:void 0;t&&(t.locked=!1),s._resizeHostItemOnInsert(t,e,n),s._items&&s._items.splice(i?s._items.indexOf(i):s._items.length,0,e),t&&(t.max&&t._setSize("max",t.max,!0),t.min&&t._setSize("min",t.min,!0),a&&(t.locked=!0)),s._validateItemSize()}const s=this;if(!s.isCompleted){const e=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.insertBefore.apply(s,e.concat(Array.prototype.slice.call(arguments)))}if(!e||!(e instanceof Smart.SplitterItem))return void s.error(s.localize("invalidNode",{elementType:s.nodeName.toLowerCase(),method:"insertBefore",node:"newNode/referenceNode"}));if(i&&!(i instanceof Smart.SplitterItem))return void s.error(s.localize("invalidNode",{elementType:s.nodeName.toLowerCase(),method:"insertBefore",node:"newNode/referenceNode"}));if(e.style[s._measurements.restricredDimension.toLowerCase()]="100%",e.size){const i="string"==typeof e.size&&-1<e.size.indexOf("%")?"%":"px";e.style[s._measurements.dimension]="auto"===e.size?e.size:isNaN(parseFloat(e.size))?"":parseFloat(e.size)+i,1===s._items.length&&(s._items[0].size="")}else e.style[s._measurements.dimension]="";if(e._sizeBeforeCollapse)if(e.size){const i="string"==typeof e.size&&-1<e.size.indexOf("%")?"%":"px";e.style[s._measurements.dimension]="auto"===e.size?e.size:isNaN(parseFloat(e.size))?0:parseFloat(e.size)+i,e._sizeBeforeCollapse=e[s._measurements.size]}else delete e._sizeBeforeCollapse;e.style["max"+s._measurements.restricredDimension]="none",e.style[s._measurements.maxDimension]=e._sizeLimits&&e.max?e._sizeLimits[s._measurements.maxDimension]+"px":"",e.collapsed?(e.style.minWidth=e.style.minHeight="",e.style[s._measurements.minDimension]=e.style[s._measurements.dimension]="0"):e.style[s._measurements.minDimension]=e._sizeLimits&&e.min?e._sizeLimits[s._measurements.minDimension]+"px":"";for(let t=0;t<s._items.length;t++)s._items[t]._sizeBeforeCollapse||(s._items[t]._sizeBeforeCollapse=s._items[t][s._measurements.size]);s.$.container.insertBefore(e,i||null);let n;const a=s.bars;e.previousElementSibling instanceof Smart.SplitterItem?(n=s._createBar(e,e.previousElementSibling),s.$.container.insertBefore(n,e)):e.nextElementSibling instanceof Smart.SplitterItem&&(n=s._createBar(e,e.nextElementSibling),s.$.container.insertBefore(n,e.nextElementSibling)),n&&0<a.length&&(n.style[s._measurements.restricredDimension.toLowerCase()]=a[0].style[s._measurements.restricredDimension.toLowerCase()]),e.isCompleted?t():(e.__onCompleted=e._onCompleted,e._onCompleted=function(){e.__onCompleted&&(e.__onCompleted(),delete e.__onCompleted),t()})}lockItem(e){const i=this;return e instanceof Smart.SplitterItem?void e.lock():"number"==typeof e&&i._items[e]?void(e=i._items[e],e&&e.lock()):void i.error(i.localize("invalidIndex",{elementType:i.nodeName.toLowerCase(),method:"lockItem"}))}lockBar(e){const i=this;return e instanceof Smart.SplitterBar?void e.lock():"number"==typeof e?void(e=i.bars[e],e&&e.lock()):void i.error(i.localize("invalidIndex",{elementType:i.nodeName.toLowerCase(),method:"lockBar"}))}get hasStyleObserver(){return"resize"}ready(){super.ready()}render(){const e=this;e._isInitializing=!0,e._createLayout(),delete e._isInitializing,e._setFocusable(),super.render()}refresh(){this._resizeEventHandler()}remove(e){const i=this;return e instanceof Smart.SplitterItem&&e.closest("smart-splitter")===i?void i.removeChild(e):"number"==typeof e?e>i._items.length||0>e?void i.error(i.localize("indexOutOfBound",{elementType:i.nodeName.toLowerCase(),method:"remove"})):void i.removeChild(i._items[e]):void i.error(i.localize("invalidIndex",{elementType:i.nodeName.toLowerCase(),method:"remove"}))}removeAll(){const e=this;e._items=[],e.$.container.innerHTML=""}removeChild(e){function t(e,i,t){let s=e,a=n._items[s];for(;a&&!!a.collapsed;)a=n._items[s+=t];return a}var s=Math.max;const n=this;if(!n.isCompleted||e instanceof HTMLElement&&e.classList.contains("smart-resize-trigger-container")){const e=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(n,e.concat(Array.prototype.slice.call(arguments)))}if(!e||!(e instanceof Smart.SplitterItem))return void n.error(n.localize("invalidNode",{elementType:n.nodeName.toLowerCase(),method:"removeChild",node:"node"}));if(!n._items)return;let a=n._items.indexOf(e);e.collapsed?n.$.container.removeChild(n._items.indexOf(e._neighbourItem)>a?e.nextElementSibling:e.previousElementSibling):e.previousElementSibling instanceof Smart.SplitterBar?n.$.container.removeChild(e.previousElementSibling):e.nextElementSibling instanceof Smart.SplitterBar&&n.$.container.removeChild(e.nextElementSibling),n._items.splice(a,1),a=s(0,a-1);let r=0;const m=n._items.filter(e=>!e.collapsed&&!e.locked),o=e._sizeBeforeCollapse||e[n._measurements.size];if(m.map(e=>r+=(e.style[n._measurements.dimension]?e._sizeBeforeCollapse:0)||e[n._measurements.size]),n.$.content.removeChild(e),1===n._items.length&&n._items[0].collapsed||0<n._items.length&&0>n._items.map(e=>e.collapsed).indexOf(!1)){const e=n._items[n._items.length-1];let i=e.context;e.context=e,e._expand(),e.context=i}for(let s=0;s<n._items.length;s++)if(n._items[s].collapsed&&n._items[s]._neighbourItem===e){let e,i;n._items[s]._neighbourItem=t(a,n._items[s],1),n._items[s]._neighbourItem?(e=n._items[s].nextElementSibling,e&&(i=e.context,e.context=e,e.itemCollapsed=!0,e.showNearButton=!(e.showFarButton=!1),e.context=i)):(n._items[s]._neighbourItem=t(a,n._items[s],-1),e=n._items[s].previousElementSibling,e&&(i=e.context,e.context=e,e.itemCollapsed=!0,e.showFarButton=!(e.showNearButton=!1),e.context=i))}if("proportional"===n.autoFitMode){let e,t,a;for(let l=0;l<m.length;l++)e=m[l]._sizeBeforeCollapse||m[l][n._measurements.size],t=e+o*(e/r),a=m[l]._sizeLimits[n._measurements.minDimension]||0,m[l].style[n._measurements.dimension]=(m[l]._sizeBeforeCollapse=s(0,t))+"px",a>e&&(m[l][n._measurements.minDimension]=t+"px")}n._autoFitItems()}showBar(e){const i=this;return e instanceof Smart.SplitterBar?void e.show():"number"==typeof e?(e=i.bars[e],e instanceof Smart.SplitterBar?void e.show():void i.error(i.localize("indexOutOfBound",{elementType:i.nodeName.toLowerCase(),method:"showBar"}))):void i.error(i.localize("invalidIndex",{elementType:i.nodeName.toLowerCase(),method:"showBar"}))}get bars(){const e=this;if(e.isReady){const t=e.$.container.children;let s=[];for(let e=0;e<t.length;e++)(t[e]instanceof Smart.SplitterBar||"Smart-SPLITTER-BAR"===t[e].tagName)&&s.push(t[e]);return s}}unlockItem(e){const i=this;return e instanceof Smart.SplitterItem?void e.unlock():"number"==typeof e&&i._items[e]?void(e=i._items[e],e&&e.unlock()):void i.error(i.localize("invalidIndex",{elementType:i.nodeName.toLowerCase(),method:"unlockItem"}))}unlockBar(e){const i=this;return e instanceof Smart.SplitterBar?void e.unlock():"number"==typeof e?void(e=i.bars[e],e&&e.unlock()):void i.error(i.localize("invalidIndex",{elementType:i.nodeName.toLowerCase(),method:"unlockBar"}))}update(e,i){const t=this;if("number"==typeof e&&(e=t._items[e],!e))return void t.error(t.localize("invalidIndex",{elementType:t.nodeName.toLowerCase(),method:"update"}));if(e instanceof Smart.SplitterItem&&i&&(t.enableShadowDOM?e.getRootNode().host:t.closest("smart-splitter"))===t)for(let t in i)void 0!==e[t]&&(e[t]=i[t])}_autoFitItems(){const e=this,t=e._items.length;if(0===t||"overflow"===e.autoFitMode)return;let s,n=[],a=[],r=[];for(let m=t-1;0<=m;m--)e._items[m].collapsed?a.push(e._items[m]):e._items[m].locked?n.push(e._items[m]):s?e._items[m].size||r.push(e._items[m]):s=e._items[m];s&&s.size&&0<r.length&&(s=r.filter(i=>!i.max&&!i._sizeLimits[e._measurements.maxDimension])[0]||s),a.length===t&&(s=a[0],s.expand(),s.unlock()),e._autoFitLastItem(s,a,n)}_autoFitLastItem(e,i,t){const s=this,n=s._items.length;let a;1===n&&s._items[0].locked&&(a=s._items[0],a.locked=!1),t.length===n&&t[0].unlock(),e||(e=t[0],e.unlock());let r=0,m=0;s._items.map(e=>r+=e.collapsed?0:e.style[s._measurements.dimension]&&-1>e.style[s._measurements.dimension].indexOf("%")&&e._sizeBeforeCollapse?e._sizeBeforeCollapse:e.getBoundingClientRect()[s._measurements.dimension]),s.bars.map(e=>m+=e[s._measurements.size]);const o=r+m,l=s.$.container.getBoundingClientRect()[s._measurements.dimension];if(o!==l){let i=-1>e.style[s._measurements.dimension].indexOf("%")?e._sizeBeforeCollapse?e._sizeBeforeCollapse:e.getBoundingClientRect()[s._measurements.dimension]:e.getBoundingClientRect()[s._measurements.dimension];let t=Math.abs(l-o),n=o<l?1:-1;e.style[s._measurements.dimension]=(e._sizeBeforeCollapse=Math.max(0,i+n*t))+"px",e._sizeLimits[s._measurements.maxDimension]&&e._sizeBeforeCollapse>e._sizeLimits[s._measurements.maxDimension]&&(e.style[s._measurements.maxDimension]=(e._sizeLimits[s._measurements.maxDimension]=e._sizeBeforeCollapse)+"px")}a&&(a.locked=!0)}_autoFitItemsProportionally(e,i){const t=this,s=t._items.filter(e=>!e.collapsed);let n=e[t._measurements.size],a=0;s.map(e=>a+=e._sizeBeforeCollapse||e[t._measurements.size]),i&&(a-=i[t._measurements.size]),e.size&&!e.isCompleted&&(e._setSize("size",n),n=e._sizeBeforeCollapse),n=Math.min(t.$.container[t._measurements.size]/2,e[t._measurements.size]),e.style[t._measurements.dimension]=n+"px";let r,m,o;for(let l=0;l<s.length;l++)r=s[l]._sizeBeforeCollapse||s[l][t._measurements.size],m=(a-n)*(r/a),o=s[l]._sizeLimits[t._measurements.minDimension]||0,s[l].style[t._measurements.dimension]=(s[l]._sizeBeforeCollapse=Math.max(o,m))+"px"}_createLayout(){const e=this;if(e._items=[],"string"==typeof e.dataSource&&(e.dataSource=JSON.parse(e.dataSource)),null!==e.dataSource&&Array.isArray(e.dataSource)){e.$.container.innerHTML="";let t,s=document.createDocumentFragment();for(let n=0;n<e.dataSource.length;n++)t=e._createItem(e.dataSource[n]),s.appendChild(t);return void e._handleSplitterBars(s)}e._handleSplitterBars(e.$.container)}_createBar(e,i){const t=this,s=document.createElement("smart-splitter-bar");return e.collapsed?(s.itemCollapsed=!0,t._items.indexOf(e)===t._items.length-1?s.showNearButton=!0:s.showFarButton=!0):(e.collapsible&&(s.showNearButton=!0),i&&i instanceof Smart.SplitterItem&&i.collapsible&&(i===e.nextElementSibling?s.showFarButton=!0:s.showNearButton=!0)),s}_createItem(e){const i=document.createElement("smart-splitter-item");return e.id&&(i.id=e.id),i.innerHTML=e.content||"",i.collapsible=e.collapsible||!1,i.collapsed=e.collapsed||!1,i.locked=e.locked||!1,e.max&&(i.max=e.max),e.min&&(i.min=e.min),e.size&&(i.size=e.size),i}_completeResizing(e){const i=this;if(i._dragDetails){if(i._splitBarDummy&&i._splitBarDummy.parentElement){if(!e)if(i._dragDetails.firstItem.style[i._measurements.dimension]=(i._dragDetails.firstItem._sizeBeforeCollapse=i._dragDetails.firstItem.currentSize+i._dragDetails.firstItem._paddings)+"px",delete i._dragDetails.firstItem._originalSize,"proportional"!==i.resizeMode)i._dragDetails.secondItem.style[i._measurements.dimension]=(i._dragDetails.secondItem._sizeBeforeCollapse=i._dragDetails.splitAreaSize-i._dragDetails.firstItem.currentSize+i._dragDetails.secondItem._paddings)+"px",delete i._dragDetails.secondItem._originalSize;else{const e=i._dragDetails.itemProportions.length;if(1<e)for(let t=0;t<e;t++)i._dragDetails.itemProportions[t].item.style[i._measurements.dimension]=(i._dragDetails.itemProportions[t].item._sizeBeforeCollapse=i._dragDetails.itemProportions[t].currentSize+i._dragDetails.itemProportions[t].item._paddings)+"px",delete i._dragDetails.itemProportions[t]._originalSize;else i._dragDetails.secondItem[0].style[i._measurements.dimension]=(i._dragDetails.secondItem[0]._sizeBeforeCollapse=Math.floor(i._dragDetails.splitAreaSize-i._dragDetails.firstItem.currentSize+i._dragDetails.firstItem._paddings))+"px",delete i._dragDetails.secondItem[0]._originalSize}i.$.fireEvent("resizeEnd",{firstItem:{index:i._items.indexOf(i._dragDetails.firstItem),oldSize:i._dragDetails.firstItem.originalSize,newSize:i._dragDetails.firstItem[i._measurements.size]},secondItem:Array.isArray(i._dragDetails.secondItem)?{index:i._dragDetails.secondItem.map(e=>i._items.indexOf(e)),oldSize:i._dragDetails.secondItem.map(e=>e.originalSize),newSize:i._dragDetails.secondItem.map(e=>e[i._measurements.size])}:{index:i._items.indexOf(i._dragDetails.secondItem),oldSize:i._dragDetails.secondItem.originalSize,newSize:i._dragDetails.secondItem[i._measurements.size]}}),i._splitBarDummy.classList.remove("limit-reached"),i._splitBarDummy.parentElement.removeChild(i._splitBarDummy)}i.removeAttribute("dragged"),delete i._dragDetails,delete i._keyboardResizing}}_dragStartHandler(e){const i=this;i._dragDetails&&e.preventDefault()}_downHandler(e){const i=this;if(e.stopPropagation(),i.disabled)return;if(i._keyboardResizing)return void i._completeResizing();const t=i.shadowRoot||i.isInShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target;let s=t.closest("smart-splitter");s||(s=t.getRootNode()&&t.getRootNode().host?t.getRootNode().host.closest("smart-splitter"):void 0);const n=t&&t.closest?t.closest("smart-splitter-bar"):null;if(n&&s===i){if(t.closest(".smart-splitter-near-collapse-button")===n.$.nearCollapseButton)return void(i._collapseButtonPressed={splitBar:n,item:n.previousElementSibling,target:n.$.nearCollapseButton,farCollapse:!1});if(t.closest(".smart-splitter-far-collapse-button")===n.$.farCollapseButton)return void(i._collapseButtonPressed={splitBar:n,item:n.nextElementSibling,target:n.$.farCollapseButton,farCollapse:!0});n.itemCollapsed||n.locked||"none"===i.resizeMode||i._setDragDetails(n,e)}}_moveHandler(){this.hasAttribute("dragged")&&Smart.Utilities.Core.isMobile&&event.originalEvent.preventDefault()}_documentMoveHandler(e){const i=this;i._keyboardResizing||i._resize(e)}_documentUpHandler(e){const i=this;if(i.removeAttribute("dragging-not-allowed"),i.removeAttribute("show-locked-items"),i.disabled)return delete i._dragDetails,void delete i._collapseButtonPressed;const t=i.shadowRoot||i.isInShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target;if(i._completeResizing(),i._collapseButtonPressed&&t.closest("."+i._collapseButtonPressed.target.classList[0])===i._collapseButtonPressed.target)return i._collapseButtonPressed.item.collapsed?i.expand(i._collapseButtonPressed.item):i.collapse(i._collapseButtonPressed.item,i._collapseButtonPressed.farCollapse),void delete i._collapseButtonPressed}_ensureItemsReady(e,i){const t=this,s=function(){const t=function(t){for(let s=0;s<e.length;s++)e[s].context="node"===t?e[s]:document};t("node"),i(),t()};if(0===e.length)s();else{t._nodesReadyListeners=0;for(let n=0;n<e.length;n++){const i=e[n],a=function(){t._nodesReadyListeners--,0===t._nodesReadyListeners&&(s(),delete t._nodesReadyListeners)}.bind(t);i.isCompleted||(t._nodesReadyListeners++,i._onCompleted=a)}0===t._nodesReadyListeners&&s()}}_focusHandler(e){const i=this;"focus"===e.type?i.setAttribute("focus",""):i.removeAttribute("focus")}_getTargetItem(e,i,t){const s=this;for(let n=t?s._items[s._items.length-1]:e[i];n;){if(n instanceof Smart.SplitterItem&&!n.collapsed){if(!n.locked)return n;s._dragDetails&&!s._dragDetails.firstItem&&(s._dragDetails.lockedItemsSize+=n[s._measurements.size]+(n.previousElementSibling instanceof Smart.SplitterBar?n.previousElementSibling[s._measurements.size]:0))}n=n[i]}}_handleSplitterBars(e){const t=this;if(1>t._items.length&&(t._items=e.parentElement?t.items:Array.from(e.children)),t._measurements||t._setMeasurements(),2>t._items.length){const s=t.bars;for(let t=0;t<s.length;t++)e.removeChild(s[t])}e.parentElement||e===t.$.container||t.$.container.appendChild(e);for(let s=0;s<t._items.length;s++){t._items[s].style[t._measurements.restricredDimension.toLowerCase()]="100%",t._items[s].style["max"+t._measurements.restricredDimension]="none",t._items[s].size||(t._items[s].style[t._measurements.dimension]=t._items[s]._sizeBeforeCollapse?t._items[s]._sizeBeforeCollapse+"px":"");const e=t._items[s].min,i=t._items[s].max;if("string"==typeof e&&-1<e.indexOf("%")&&t._items[s]._setSize("min",e),"string"==typeof i&&-1<i.indexOf("%")&&t._items[s]._setSize("max",i),t._items[s].style[t._measurements.maxDimension]=t._items[s].max?t._items[s]._sizeLimits[t._measurements.maxDimension]+"px":"",t._items[s].nextElementSibling){const e=t._items[s].nextElementSibling;e instanceof Smart.SplitterItem||"smart-splitter-item"===e.tagName.toLowerCase()?t._items[s].parentNode.insertBefore(t._createBar(t._items[s],t._items[s].nextElementSibling),t._items[s].nextElementSibling):t._items[s].parentNode.removeChild(t._items[s].nextElementSibling)}if(t._items[s].collapsed){const e=t._items[s].collapsible;t._items[s].style.minWidth=t._items[s].style.minHeight="",t._items[s].style[t._measurements.minDimension]="0",t._items[s]._ignorePropertyValue=!0,t._items[s].collapsible=!0,t._items[s].collapse(),t._items[s].collapsible=e}else t._items[s].style[t._measurements.minDimension]=t._items[s]._sizeLimits&&t._items[s].min?t._items[s]._sizeLimits[t._measurements.minDimension]+"px":""}t._ensureItemsReady(t._items,t._validateItemSize.bind(t))}_keyDownHandler(e){const i=this;if(i.disabled)return;let t=i.enableShadowDOM?i.shadowRoot.activeElement:document.activeElement;if("w"===e.key&&e.altKey){e.preventDefault();const s=i.enableShadowDOM?i.shadowRoot.querySelector("smart-splitter-bar"):i.querySelector("smart-splitter-bar");return t!==s&&i._completeResizing(!0),void s.focus()}if(!e.ctrlKey&&i._splitBarDummy&&i._splitBarDummy.parentElement)t=i._splitBarDummy;else if(!(t instanceof Smart.SplitterBar))return;if((i.enableShadowDOM?t.getRootNode().host:t.closest("smart-splitter"))===i)switch(e.key){case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":{if(("ArrowUp"===e.key||"ArrowDown"===e.key)&&"vertical"===i.orientation)return;if(("ArrowLeft"===e.key||"ArrowRight"===e.key)&&"horizontal"===i.orientation)return;e.preventDefault();const s="ArrowLeft"===e.key||"ArrowUp"===e.key?-1:1;if(e.ctrlKey){i._completeResizing(!0);let e,n;return 0>s?(n=t.previousElementSibling,e=t.nextElementSibling):(e=t.previousElementSibling,n=t.nextElementSibling),void(e.collapsed?e.expand():n.collapse(0<s))}if(t.locked)return;if("none"===i.resizeMode)return;i._keyboardResizing=!0;let n;i._dragDetails?n=i._dragDetails.position+s*i.resizeStep:(i._setDragDetails(t),n=t[i._measurements.offset]+s*i.resizeStep),i._resize({pageX:n,pageY:n});break}case"Enter":i._completeResizing();break;case"Escape":case"Tab":i._completeResizing(!0);}}_mouseEventsHandler(e){"mouseenter"!==e.type||Smart.Utilities.Core.isMobile?this.removeAttribute("hover"):this.setAttribute("hover","")}_recalcItemSize(e,i,t){var s=Math.min,n=Math.max;const a=this;let r,m;if(t||(t=i),0<e)for(let s=0;s<i;s++)m=a._dragDetails.itemProportions[s].item._sizeLimits[a._measurements.minDimension],a._dragDetails.itemProportions[s].currentSize>m&&(r=a._dragDetails.itemProportions[s].currentSize-m<e/t?a._dragDetails.itemProportions[s].currentSize-m:e/t,e-=r,a._dragDetails.itemProportions[s].currentSize=n(m,a._dragDetails.itemProportions[s].currentSize-r),delete a._dragDetails.itemProportions[s]._originalSize),t=n(1,t-1);else{const m=a._dragDetails.splitAreaSize-a._dragDetails.firstItem.currentSize-(1<i?a._dragDetails.secondItemTotalMinSize-a._dragDetails.itemProportions[0].item._sizeLimits[a._measurements.minDimension]:0);let o;for(let l=0;l<i;l++)o=a._dragDetails.itemProportions[l].item._sizeLimits[a._measurements.maxDimension]?s(a._dragDetails.itemProportions[l].item._sizeLimits[a._measurements.maxDimension],m):m,a._dragDetails.itemProportions[l].currentSize<o&&(r=a._dragDetails.itemProportions[l].currentSize-e/t>o?-1*(o-a._dragDetails.itemProportions[l].currentSize):e/t,e-=r,a._dragDetails.itemProportions[l].currentSize=s(o,a._dragDetails.itemProportions[l].currentSize-r),delete a._dragDetails.itemProportions[l]._originalSize),t=n(1,t-1)}.1<Math.abs(e)&&a._recalcItemSize(e,i,t)}_resize(e){var i=Math.floor,t=Math.abs,s=Math.min,n=Math.max;const a=this;if(!a._dragDetails)return;let r,m=e[a._measurements.pagePosition]-a._dragDetails.position;const o=Math.sign(m),l=a._dragDetails.firstItem._sizeLimits[a._measurements.minDimension],d=a._dragDetails.firstItem._sizeLimits[a._measurements.maxDimension];let _,p;if(a.hasAttribute("dragged")||a.$.fireEvent("resizeStart",{firstItem:{index:a._items.indexOf(a._dragDetails.firstItem),size:a._dragDetails.firstItem[a._measurements.size]},secondItem:Array.isArray(a._dragDetails.secondItem)?{index:a._dragDetails.secondItem.map(e=>a._items.indexOf(e)),size:a._dragDetails.secondItem.map(e=>e[a._measurements.size])}:{index:a._items.indexOf(a._dragDetails.secondItem),size:a._dragDetails.secondItem[a._measurements.size]}}),a.setAttribute("dragged",""),t(m)<a.resizeStep)return;let u=n(a.resizeStep,i(t(m)/a.resizeStep)*a.resizeStep);const g=m-o*u;switch(a.resizeMode){case"adjacent":case"end":for(0<o?(_=a._dragDetails.splitAreaSize-a._dragDetails.firstItem.currentSize,p=()=>_-a._dragDetails.secondItemTotalMinSize>=u||d&&a._dragDetails.firstItem.currentSize+a.resizeStep<=d,r=()=>d&&a._dragDetails.firstItem.currentSize===d||_-a.resizeStep<=a._dragDetails.secondItemTotalMinSize):(_=a._dragDetails.firstItem.currentSize,p=()=>_-l>=u||a._dragDetails.secondItemTotalMaxSize&&a._dragDetails.splitAreaSize-a._dragDetails.firstItem.currentSize+a.resizeStep<=a._dragDetails.secondItemTotalMaxSize,r=()=>a._dragDetails.secondItemTotalMaxSize&&a._dragDetails.splitAreaSize-a._dragDetails.firstItem.currentSize===a._dragDetails.secondItemTotalMaxSize||_-a.resizeStep<=l),m=0;0<u;)p()&&(m+=o*a.resizeStep),u-=a.resizeStep;a._resizeItem(e,m,g);break;case"proportional":{const m=a._dragDetails.splitAreaSize-a._dragDetails.firstItem.currentSize;0<o?(_=t(m-a._dragDetails.secondItemTotalMinSize),p=()=>_>=u||d&&a._dragDetails.firstItem.currentSize+a.resizeStep<=d,r=()=>d&&a._dragDetails.firstItem.currentSize===d||a._dragDetails.splitAreaSize-a._dragDetails.firstItem.currentSize-a.resizeStep<a._dragDetails.secondItemTotalMinSize):(_=a._dragDetails.firstItem.currentSize,p=()=>_-l>=u&&(!a._dragDetails.secondItemTotalMaxSize||a._dragDetails.splitAreaSize-a._dragDetails.firstItem.currentSize+a.resizeStep<=a._dragDetails.secondItemTotalMaxSize),r=()=>a._dragDetails.secondItemTotalMaxSize&&a._dragDetails.splitAreaSize+a.resizeStep-a._dragDetails.firstItem.currentSize>=a._dragDetails.secondItemTotalMaxSize||a._dragDetails.firstItem.currentSize-a.resizeStep<l);let c,z;for(;0<u;)p()&&(z=!0,c=s(d?s(d,a._dragDetails.splitAreaSize-a._dragDetails.secondItemTotalMinSize):a._dragDetails.splitAreaSize-a._dragDetails.secondItemTotalMinSize,n(l,a._dragDetails.firstItem.currentSize+o*a.resizeStep)),a._dragDetails.firstItem.currentSize=a._dragDetails.firstItem._sizeBeforeCollapse=i(c)),u-=a.resizeStep;if(!z)break;const D=a._dragDetails.splitAreaSize-a._dragDetails.firstItem.currentSize,h=a._dragDetails.itemProportions.length;if(a._recalcItemSize(m-D,h),!a.liveResize)a._splitBarDummy.style[a._measurements.position]=a._dragDetails.firstItem[a._measurements.offset]+a._dragDetails.firstItem.currentSize+a._dragDetails.lockedItemsSize+a._dragDetails.firstItem._paddings+"px";else if(a._dragDetails.firstItem.style[a._measurements.dimension]=a._dragDetails.firstItem.currentSize+a._dragDetails.firstItem._paddings+"px",1<h)for(let e=0;e<h;e++)a._dragDetails.itemProportions[e].item.style[a._measurements.dimension]=a._dragDetails.itemProportions[e].item._sizeBeforeCollapse=a._dragDetails.itemProportions[e].currentSize+a._dragDetails.itemProportions[e].item._paddings+"px";else a._dragDetails.secondItem[0].style[a._measurements.dimension]=(a._dragDetails.secondItem[0]._sizeBeforeCollapse=i(D+a._dragDetails.itemProportions[0].item._paddings))+"px";const f=a._dragDetails.firstItem.getBoundingClientRect()["vertical"===a.orientation?"left":"top"]+a._dragDetails.splitBarOffset,S=d&&a._dragDetails.splitAreaSize-d>a._dragDetails.secondItemTotalMinSize?d:a._dragDetails.splitAreaSize-a._dragDetails.secondItemTotalMinSize;a._dragDetails.position=n(f+(a._dragDetails.secondItemTotalMaxSize?n(a._dragDetails.splitAreaSize-a._dragDetails.secondItemTotalMaxSize,l):l)+a._dragDetails.lockedItemsSize+a._dragDetails.firstItem._paddings,s(f+S+a._dragDetails.lockedItemsSize+a._dragDetails.firstItem._paddings,e[a._measurements.pagePosition]-g));break}}a.liveResize||(r()?a._splitBarDummy.classList.add("limit-reached"):a._splitBarDummy.classList.remove("limit-reached")),a._validateBarsSize()}_resizeEventHandler(){const e=this;e._items&&(e._resizeEventFired=!0,e._validateItemSize(),e._resizeEventFired=!1)}_resizeHostItemOnInsert(e,i,t){const s=this;if("proportional"===s.autoFitMode)return void s._autoFitItemsProportionally(i,t);if(e&&!e.locked){if(i.size){const t=function(){for(let e=i.previousElementSibling;e;){if(e instanceof Smart.SplitterItem&&!e.size)return e;e=e.previousElementSibling}}();e=t||e}const n=e[s._measurements.size]-i[s._measurements.size]-t[s._measurements.size],a=Math.max(e._sizeLimits[s._measurements.minDimension],n);e.style[s._measurements.maxDimension]=e.max?isNaN(parseFloat(e.max))?"":"string"==parseFloat(e.max)+typeof e.max&&-1<e.max.indexOf("%")?"%":"px":"";const r=e.style[s._measurements.maxDimension]?parseFloat(e.style[s._measurements.maxDimension]):0;i.size?e.style[s._measurements.dimension]=(e._sizeBeforeCollapse=r?Math.min(r,a):a)+"px":(e.style[s._measurements.dimension]=e.size?"auto"===e.size?e.size:isNaN(parseFloat(e.size))?0:parseFloat(e.size)+("string"==typeof e.size&&-1<e.size.indexOf("%")?"%":"px"):"",e._sizeBeforeCollapse=e[s._measurements.size])}}_resizeItem(e,i,t){var s=Math.min,n=Math.max;const a=this;let r=n(a._dragDetails.firstItem._sizeLimits[a._measurements.minDimension],s(a._dragDetails.splitAreaSize-a._dragDetails.secondItem._sizeLimits[a._measurements.minDimension],a._dragDetails.firstItem._sizeLimits[a._measurements.maxDimension]?s(a._dragDetails.firstItem._sizeLimits[a._measurements.maxDimension],a._dragDetails.firstItem.currentSize+i):a._dragDetails.firstItem.currentSize+i)),m=a._dragDetails.firstItem._sizeLimits[a._measurements.minDimension];a._dragDetails.secondItem._sizeLimits[a._measurements.maxDimension]&&a._dragDetails.splitAreaSize-r>a._dragDetails.secondItem._sizeLimits[a._measurements.maxDimension]&&(m=r=a._dragDetails.splitAreaSize-a._dragDetails.secondItem._sizeLimits[a._measurements.maxDimension]),a._dragDetails.firstItem.currentSize=r,a.liveResize?(a._dragDetails.firstItem.style[a._measurements.dimension]=(a._dragDetails.firstItem._sizeBeforeCollapse=r+a._dragDetails.firstItem._paddings)+"px",a._dragDetails.secondItem.style[a._measurements.dimension]=(a._dragDetails.secondItem._sizeBeforeCollapse=a._dragDetails.splitAreaSize-r+a._dragDetails.firstItem._paddings)+"px",delete a._dragDetails.firstItem._originalSize,delete a._dragDetails._originalSize):a._splitBarDummy.style[a._measurements.position]=a._dragDetails.firstItem[a._measurements.offset]+r+a._dragDetails.lockedItemsSize+a._dragDetails.firstItem._paddings+"px";const o=a._dragDetails.firstItem.getBoundingClientRect()["vertical"===a.orientation?"left":"top"]+a._dragDetails.splitBarOffset;a._dragDetails.position=n(o+m+a._dragDetails.firstItem._paddings,s(o+a._dragDetails.splitAreaSize-a._dragDetails.secondItem._sizeLimits[a._measurements.minDimension]+a._dragDetails.lockedItemsSize+a._dragDetails.firstItem._paddings,e[a._measurements.pagePosition]-t)),a._dragDetails.firstItem._sizeLimits[a._measurements.maxDimension]&&(a._dragDetails.position=s(o+a._dragDetails.firstItem._sizeLimits[a._measurements.maxDimension],a._dragDetails.position))}_setFocusable(){const e=this;return e.disabled||e.unfocusable?void e.removeAttribute("tabindex"):void(e.tabIndex=0<e.tabIndex?e.tabIndex:0)}_setDragDetails(e,i){const t=this;if(t._dragDetails={},t._measurements||t._setMeasurements(),t._dragDetails.scrollAmount=e.parentElement[t._measurements.scroll],t._dragDetails.lockedItemsSize=0,t.setAttribute("show-locked-items",""),!(t._dragDetails.firstItem=t._getTargetItem(e,"previousElementSibling")))return delete t._dragDetails,void t.setAttribute("dragging-not-allowed","");t._dragDetails.firstItem.set("size",""),t._dragDetails.firstItem.currentSize=t._dragDetails.firstItem[t._measurements.size],t._dragDetails.firstItem.originalSize=t._dragDetails.firstItem.currentSize;let s=getComputedStyle(t._dragDetails.firstItem);if(t._dragDetails.firstItem._paddings=(parseFloat(s.getPropertyValue("padding-"+t._measurements.position))||0)+(parseFloat(s.getPropertyValue("padding-"+t._measurements.position2))||0),t._dragDetails.firstItem.currentSize<t._dragDetails.firstItem._sizeLimits[t._measurements.minDimension])return void delete t._dragDetails;if(t._dragDetails.firstItem.currentSize-=t._dragDetails.firstItem._paddings,t._dragDetails.splitAreaSize=0,t._dragDetails.secondItemTotalMaxSize=0,t._dragDetails.secondItemTotalMinSize=0,"proportional"===t.resizeMode){if(t._setProportionalDetails())return;}else if(t._setAdjacentOrEndDetails(e))return;let n;i&&"object"==typeof i?n=e.getBoundingClientRect()[t._measurements.position]:(i={pageX:e[t._measurements.offset],pageY:e[t._measurements.offset]},n=e[t._measurements.offset]),t._dragDetails.position=i[t._measurements.pagePosition],t._dragDetails.splitBarOffset=t._dragDetails.position-n,t.liveResize||(!t._splitBarDummy&&(t._splitBarDummy=document.createElement("div"),t._splitBarDummy.classList.add("smart-splitter-bar-feedback")),t._splitBarDummy.style.width=e.offsetWidth+"px",t._splitBarDummy.style.height=e.offsetHeight+"px",t._splitBarDummy.style.top=e.offsetTop+"px",t._splitBarDummy.style.left=e.offsetLeft+"px",e.parentElement.appendChild(t._splitBarDummy))}_setAdjacentOrEndDetails(e){const i=this;if(!(i._dragDetails.secondItem="adjacent"===i.resizeMode?i._getTargetItem(e,"nextElementSibling"):i._getTargetItem(e,"previousElementSibling",!0)))return delete i._dragDetails,i.setAttribute("dragging-not-allowed",""),!0;i._dragDetails.secondItem.set("size",""),i._dragDetails.secondItem.currentSize=i._dragDetails.secondItem[i._measurements.size],i._dragDetails.secondItem.originalSize=i._dragDetails.secondItem.currentSize;const t=getComputedStyle(i._dragDetails.secondItem);i._dragDetails.secondItem._paddings=(parseFloat(t.getPropertyValue("padding-"+i._measurements.position))||0)+(parseFloat(t.getPropertyValue("padding-"+i._measurements.position2))||0),i._dragDetails.secondItem.currentSize-=i._dragDetails.secondItem._paddings,i._dragDetails.splitAreaSize=i._dragDetails.firstItem.currentSize+i._dragDetails.secondItem.currentSize,i._dragDetails.secondItemTotalMaxSize=i._dragDetails.secondItem._sizeLimits[i._measurements.maxDimension],i._dragDetails.secondItemTotalMinSize=i._dragDetails.secondItem._sizeLimits[i._measurements.minDimension]}_setMeasurements(){const e=this;e._measurements={},"horizontal"===e.orientation?(e._measurements.dimension="height",e._measurements.minDimension="minHeight",e._measurements.maxDimension="maxHeight",e._measurements.restricredDimension="Width",e._measurements.size="offsetHeight",e._measurements.offset="offsetTop",e._measurements.position="top",e._measurements.position2="bottom",e._measurements.pagePosition="pageY",e._measurements.scroll="scrollTop"):(e._measurements.dimension="width",e._measurements.minDimension="minWidth",e._measurements.maxDimension="maxWidth",e._measurements.restricredDimension="Height",e._measurements.size="offsetWidth",e._measurements.offset="offsetLeft",e._measurements.position="left",e._measurements.position2="right",e._measurements.pagePosition="pageX",e._measurements.scroll="scrollLeft"),e._measurements.overflow=getComputedStyle(e).getPropertyValue("overflow")}_setProportionalDetails(){const e=this;if(e._dragDetails.secondItem=e._items.slice(e._items.indexOf(e._dragDetails.firstItem)+1).filter(e=>!e.collapsed&&!e.locked),0===e._dragDetails.secondItem.length)return delete e._dragDetails,!0;e._dragDetails.splitAreaSize+=e._dragDetails.firstItem.currentSize,e._dragDetails.itemProportions=[];let t;for(let s=0;s<e._dragDetails.secondItem.length;s++){e._dragDetails.secondItem[s].set("size",""),e._dragDetails.secondItem[s].currentSize=e._dragDetails.secondItem[s][e._measurements.size],e._dragDetails.secondItem[s].originalSize=e._dragDetails.secondItem[s].currentSize;const i=getComputedStyle(e._dragDetails.secondItem[s]);e._dragDetails.secondItem[s]._paddings=(parseFloat(i.getPropertyValue("padding-"+e._measurements.position))||0)+(parseFloat(i.getPropertyValue("padding-"+e._measurements.position2))||0),e._dragDetails.secondItem[s].currentSize-=e._dragDetails.secondItem[s]._paddings,e._dragDetails.splitAreaSize+=e._dragDetails.secondItem[s].currentSize,e._dragDetails.itemProportions.push({item:e._dragDetails.secondItem[s],currentSize:e._dragDetails.secondItem[s].currentSize}),e._dragDetails.secondItem[s]._sizeLimits[e._measurements.maxDimension]||(t=!0),e._dragDetails.secondItemTotalMinSize+=e._dragDetails.secondItem[s]._sizeLimits[e._measurements.minDimension],e._dragDetails.secondItemTotalMaxSize+=e._dragDetails.secondItem[s]._sizeLimits[e._measurements.maxDimension]}t&&(e._dragDetails.secondItemTotalMaxSize=0)}_validateBarsSize(){const e=this;if("100%"!==(getComputedStyle(e).getPropertyValue("--smart-splitter-bar-fit-size")+"").trim())return;let t=e._items[0];const s="offset"+e._measurements.restricredDimension,i=e.bars;if(0!==i.length){for(let n=0;n<e._items.length;n++)e._items[n][s]>t[s]&&(t=e._items[n]);t&&(t[s]===i[0][s]||i.map(i=>i.style[e._measurements.restricredDimension.toLowerCase()]=t[s]+"px"))}}_validateItemSize(e){const i=this;if("overflow"!==i.autoFitMode){if(i.keepProportionsOnResize&&i._resizeEventFired)i._keepItemProportionsOnResize();else{let t=0,s=0;i._items.map(e=>t+=e.collapsed?0:e.style[i._measurements.dimension]&&-1>e.style[i._measurements.dimension].indexOf("%")&&e._sizeBeforeCollapse?e._sizeBeforeCollapse:e.getBoundingClientRect()[i._measurements.dimension]),i.bars.map(e=>s+=e[i._measurements.size]);let n=t+s-i.$.container.getBoundingClientRect()[i._measurements.dimension];0<n?i._validateItemsSizeOverflowing(n,e):i._validateItemsSizeUnderflowing(n,e)}if(i._autoFitItems(),i._validateBarsSize(),i._splitterSize=i[i._measurements.size],i.enableShadowDOM){const e=i.getRootNode().host;e&&e.enableShadowDOM&&e.isCompleted&&e._validateItemSize&&e._validateItemSize()}}}_validateNeighbourSizeLimits(e){function i(e){e&&(e.min&&e._setSize("min",e.min,!0),e.max&&e._setSize("max",e.max,!0))}const t=this;if(t._items&&t._items.length){t._noNeighbourValidation=!0;const s=t._items.indexOf(e);i(t._items[s-1]),i(t._items[s+1]),delete t._noNeighbourValidation}}_keepItemProportionsOnResize(){const e=this;let i=0,t=0,s=[];e.bars.map(t=>i+=t[e._measurements.size]);for(let n=0;n<e._items.length;n++)e._items[n].collapsed||(s.push(e._items[n]),t+=e._items[n]._sizeBeforeCollapse||e._items[n][e._measurements.size]);e._splitterSize&&(t=e._splitterSize);const n=e[e._measurements.size];for(let a=0;a<s.length;a++)-1<s[a].style[e._measurements.dimension].indexOf("%")||(s[a].style[e._measurements.dimension]=(s[a]._sizeBeforeCollapse=(s[a]._sizeBeforeCollapse||s[a][e._measurements.size])/t*n)+"px")}_validateItemsSizeOverflowing(e,t){var s=Math.max;const n=this,a=n._items.length;let r,m,o,i,l=0,d=[],_=n.$.container.getBoundingClientRect();for(let s=0;s<n._items.length;s++)o=n._items[s].style[n._measurements.dimension],m=-1<o.indexOf("%")?o:n._items[s][n._measurements.size],o||n._items[s].size||0===n._items[s].size||delete n._items[s]._originalSize,n._items[s]._originalSize=n._items[s]._originalSize?n._items[s]._originalSize:m,d.push(n._items[s].locked);0>d.indexOf(!1)&&(i=n._items[n._items.length-1],i.locked=!1);for(let m=a-1;0<=m;m--)if(!(n._items[m].collapsed||n._items[m].locked)){if(-1<(n._items[m]._originalSize+"").indexOf("%")){n._items[m].style[n._measurements.dimension]=n._items[m]._originalSize,n._items[m]._sizeBeforeCollapse=_[n._measurements.dimension]*parseFloat(n._items[m]._originalSize)/100;continue}0!==e&&(r=n._items[m].getBoundingClientRect()[n._measurements.dimension],l=r-e,n._items[m].style[n._measurements.dimension]=(n._items[m]._sizeBeforeCollapse=s(n._items[m]._sizeLimits?n._items[m]._sizeLimits[n._measurements.minDimension]:0,l))+"px",e-=r-n._items[m]._sizeBeforeCollapse)}if(0<e)for(let m=a-1;0<=m;m--){if(n._items[m].collapsed)continue;r=n._items[m].getBoundingClientRect()[n._measurements.dimension],l=r-e;let i=n._items[m]._sizeLimits[n._measurements.minDimension]||n._items[m].min;(i&&(i=-1<(i+"").indexOf("%")?parseFloat(i)/100*n._items[m].parentElement[n._measurements.size]:parseFloat(i),i>l&&(n._items[m]._sizeLimits.ignoreUpdate=!t,n._items[m].style[n._measurements.minDimension]=s(0,l)+"px")),!(n._items[m]._originalSize&&-1<(n._items[m]._originalSize+"").indexOf("%")))&&(n._items[m]._sizeLimits.ignoreUpdate=!t,n._items[m].style[n._measurements.dimension]=(n._items[m]._sizeBeforeCollapse=s(0,l))+"px",e-=r-n._items[m]._sizeBeforeCollapse)}i&&(i.locked=!0)}_validateItemsSizeUnderflowing(e,t){var s=Math.min,n=Math.max;const a=this,r=a._items.length;let m,i,o=0;e=Math.abs(e),0<a._items.length&&0>a._items.map(e=>e.locked).indexOf(!1)&&(i=a._items[a._items.length-1],i.locked=!1);for(let l=0;l<r&&!(!(a._items[l].collapsed||a._items[l][a._measurements.size]>=(a._items[l]._sizeLimits?a._items[l]._sizeLimits[a._measurements.minDimension]:0))&&(m=a._items[l][a._measurements.size],o=a._items[l][a._measurements.size]+e,a._items[l][a._measurements.size]<a._items[l]._sizeLimits[a._measurements.minDimension]&&(a._items[l]._sizeLimits.ignoreUpdate=!t,a._items[l].style[a._measurements.minDimension]=(a._items[l]._sizeBeforeCollapse=n(0,s(a._items[l]._sizeLimits[a._measurements.minDimension],o)))+"px"),e-=(a._items[l]._sizeBeforeCollapse||a._items[l][a._measurements.size])-m,0>=e));l++);const l=a.$.container.getBoundingClientRect()[a._measurements.dimension];if(0<e)for(let t=0;t<r;t++)if(!(a._items[t].collapsed||a._items[t].locked)&&void 0!==a._items[t]._originalSize){if(-1<(a._items[t]._originalSize+"").indexOf("%"))a._items[t].style[a._measurements.dimension]=a._items[t]._originalSize,a._items[t]._sizeBeforeCollapse=parseFloat(a._items[t]._originalSize)*l/100;else if(a._items[t][a._measurements.size]>=a._items[t]._originalSize)e+=a._items[t][a._measurements.size]-a._items[t]._originalSize,a._items[t].style[a._measurements.dimension]=(a._items[t]._sizeBeforeCollapse=a._items[t]._originalSize)+"px";else{o=s(a._items[t]._originalSize,a._items[t][a._measurements.size]+e);const i=o-a._items[t][a._measurements.size];a._items[t][a._measurements.minDimension]<a._items[t]._sizeLimits[a._measurements.minDimension]&&(a._items[t].style[a._measurements.minDimension]=s(a._items[t]._sizeLimits[a._measurements.minDimension],o)+"px"),a._items[t].style[a._measurements.dimension]=(a._items[t]._sizeBeforeCollapse=n(0,s(o,a._items[t]._originalSize)))+"px",e-=i}if(0>=e)break}i&&(i.locked=!0)}});