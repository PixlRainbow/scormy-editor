
/* Smart HTML Elements v4.6.0 (2019-Oct) 
Copyright (c) 2011-2019 jQWidgets. 
License: https://htmlelements.com/license/ */

Smart("smart-window",class extends Smart.ContentElement{static get properties(){return{collapsed:{value:!1,type:"boolean"},closeOnMaskClick:{value:!1,type:"boolean"},disableSnap:{value:!1,type:"boolean"},footerPosition:{value:"bottom",allowedValues:["bottom","none"],type:"string"},footerTemplate:{value:null,type:"any"},headerButtons:{value:["close","maximize","minimize"],type:"array"},headerPosition:{value:"top",allowedValues:["top","bottom","left","right","none"],type:"string"},headerTemplate:{value:null,type:"any"},label:{value:"",type:"string"},liveResize:{value:!1,type:"boolean"},maximized:{value:!1,type:"boolean"},modal:{value:!1,type:"boolean"},minimized:{value:!1,type:"boolean"},opened:{value:!1,type:"boolean"},pinned:{value:!1,type:"boolean"},resizeIndicator:{value:!1,type:"boolean"},resizeMode:{allowedValues:["none","horizontal","vertical","both","top","bottom","left","right"],value:"none",type:"string"},windowParent:{value:null,type:"any"}}}static get listeners(){return{"document.dragstart":"_dragStartHandler","document.focusin":"_documentFocusInEventHandler","document.move":"_documentMoveHandler","document.up":"_documentUpHandler","document.wheel":"_mouseWheelHandler","document.selectstart":"_documentSelectStartHandler",down:"_downHandler",focus:"_focusHandler",blur:"_focusHandler",move:"_moveHandler",keydown:"_keyDownHandler",keyup:"_keyUpHandler",stylechanged:"_styleChangedHandler"}}get hasStyleObserver(){return!1}static get styleUrls(){return["smart.button.css","smart.window.css"]}template(){return`<div id="container">
                    <div id="headerSection" class="smart-header-section">
                        <div id="header" class="smart-header">[[label]]</div>
                        <div id="buttonsContainer" class="smart-buttons-container">
                            <smart-button id="pinButton" class="smart-pin-button" animation="[[animation]]" theme="[[theme]]"></smart-button>
                            <smart-button id="collapseButton" class="smart-collapse-button" animation="[[animation]]" theme="[[theme]]"></smart-button>
                            <smart-button id="minimizeButton" class="smart-minimize-button" animation="[[animation]]" theme="[[theme]]"></smart-button>
                            <smart-button id="maximizeButton" class="smart-maximize-button" animation="[[animation]]" theme="[[theme]]"></smart-button>
                            <smart-button id="closeButton" class="smart-close-button" animation="[[animation]]" theme="[[theme]]"></smart-button>
                        </div>
                    </div>
                    <div class="smart-content" inner-h-t-m-l="[[innerHTML]]"><content></content></div>
                    <div id="footer" class="smart-footer"></div>
                </div>`}propertyChangedHandler(e,t,a){const i=this;switch(e){case"collapsed":a?i.collapse(!0):i.expand(!0);break;case"disabled":case"unfocusable":i._setFocusable();break;case"headerTemplate":case"footerTemplate":i._applyLayoutTemplate(i.$[e.split(/[T]/)[0]],a);break;case"headerButtons":i._setHeaderButtons();break;case"headerPosition":{const e=i.minimized;i._preventEventFiring=!0,i.restore(),delete i._preventEventFiring,e&&i.minimize();break}case"label":i.$.header.innerHTML=i.label;break;case"maximized":a?i.maximize(!0):i.restore(e);break;case"modal":i._setModal();break;case"minimized":a?i.minimize(!0):i.restore(e);break;case"opened":a?i.open(!0):i.close(!0);break;case"resizeMode":i.$.container.className="smart-container";break;case"windowParent":i._setElementParent(a);break;default:super.propertyChangedHandler(e,t,a);}}ready(){super.ready();const e=this;e._windowParent={initialParent:e.parentElement}}render(){const e=this,t=e.animation;e.opened||(e.animation="none"),e._windowParent={initialParent:e.parentElement},e.$.addClass("smart-window"),e._createElement(),e._setElementParent(e.windowParent),e._setHeaderButtons(),e.headerTemplate&&e._applyLayoutTemplate(e.$.header,e.headerTemplate),e.footerTemplate&&e._applyLayoutTemplate(e.$.footer,e.footerTemplate),e.opened?e.open():e.close(),e.maximized&&e.maximize(!0),e.minimized&&e.minimize(!0),e.collapsed&&e.collapse(!0),e.pinned?e.pin():e.unpin(),e._setFocusable(),e.animation=t,super.render()}_styleChangedHandler(){const e=this;!e.maximized}static get requires(){return{"Smart.Button":"smart.button.js"}}_setFocusable(){const e=this;if(!e.disabled&&!e.unfocusable){let t=0<e.tabIndex?e.tabIndex:0;e.setAttribute("tabindex",t)}else e.removeAttribute("tabindex")}appendChild(e){const t=this;if(!t.isCompleted||e instanceof HTMLElement&&e.classList.contains("smart-resize-trigger-container")){const e=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(t,e.concat(Array.prototype.slice.call(arguments)))}return e?void t.$.content.appendChild(e):void t.error(t.localize("invalidNode",{elementType:t.nodeName.toLowerCase(),method:"appendChild",node:"node"}))}collapse(e){const t=this;!e&&t.collapsed||(t.collapsed=!0,t.$.fireEvent("collapse"),"left"===t.headerPosition||"right"===t.headerPosition?t.style.width="":t.style.height="")}close(e){const t=this;if(e||!t.$.hasClass("smart-visibility-hidden")){if(t.isCompleted){const e=t.$.fireEvent("closing").defaultPrevented;if(e)return;t.$.addClass("smart-visibility-hidden"),t.opened=!1,t.isRendered&&t.$.fireEvent("close")}else t.$.addClass("smart-visibility-hidden"),t.opened=!1;t._setModal(),t.removeAttribute("ontop")}}attached(){super.attached();const e=this;!e.isRendered,e._windowParent.parent&&e._windowParent.parent!==document.body&&e._windowParent.parent.querySelectorAll("smart-window, smart-dialog-window, smart-progress-window, smart-wait-window, smart-alert-window, smart-prompt-window, smart-multiline-prompt-window")&&(e._windowParent.parent.style.position="relative"),e.opened&&e._modal&&e.parentElement.insertBefore(e._modal,e)}bringToFront(){const e=this;if(e.parentElement){const t=e.parentElement.closest(".smart-window");if(t)return void t.bringToFront();const a=document.body.getElementsByClassName("smart-window");for(let e=0;e<a.length;e++)a[e].removeAttribute("ontop");1===a.length&&a[0]===e||e.setAttribute("ontop","")}}clear(){const e=this;e.isCompleted&&"Smart-WINDOW"===e.nodeName&&(e.$.content.innerHTML="")}detached(){super.detached();const e=this;e._windowParent.parent&&!e._windowParent.parent.querySelectorAll("smart-window, smart-dialog-window, smart-progress-window, smart-wait-window, smart-alert-window, smart-prompt-window, smart-multiline-prompt-window")&&(e._windowParent.parent.style.position=""),e._modal&&e._modal.parentElement&&e._modal.parentElement.removeChild(e._modal),e._resizeDummy&&e._resizeDummy.parentElement&&e._handleWindowResizeDummy(),e._refreshMinimizedWindowsPosition()}expand(e){var t=Math.max;const a=this;(e||a.collapsed)&&(a.collapsed=!1,a.$.fireEvent("expand"),a.maximized?"left"===a.headerPosition||"right"===a.headerPosition?a.style.width=t(a._windowParent.scrollElement.scrollWidth,a._windowParent.element.clientWidth)-a._windowParent.borderWidth+"px":a.style.height=t(a._windowParent.scrollElement.scrollHeight,a._windowParent.element.clientHeight)-a._windowParent.borderWidth+"px":"left"===a.headerPosition||"right"===a.headerPosition?a.style.width=0>a.className.indexOf("smart-window-snapped-")&&a._dragDetails?a._dragDetails.width+"px":"":a.style.height=0>a.className.indexOf("smart-window-snapped-")&&a._dragDetails?a._dragDetails.height+"px":"")}maximize(e){function t(){if(i.maximized&&i.hasAnimation){const e=i._windowParent.scrollElement.scrollHeight,o=i._windowParent.element.clientHeight,n=a(e,o);"top"===i.headerPosition||"bottom"===i.headerPosition?!i.collapsed&&(i.style.height=e>o?n-i._windowParent.borderWidth+"px":"100%"):i.style.height=e>o?n-i._windowParent.borderWidth+"px":"100%",i.removeEventListener("transitionend",t)}}var a=Math.max;const i=this;if(e||!i.maximized){i.minimized&&i._restoreFromMinimization(e),i._setDragDetails("minimize"),"none"!==i.resizeMode&&(i.$.container.className="smart-container"),i._snapDummy&&i.$.hasClass("smart-window-snapped-"+i._snapDummy._position)&&i.classList.remove("smart-window-snapped-"+i._snapDummy._position),i.maximized=!0,i.$.fireEvent("maximize"),i.style.left=i.style.top=0,i.style.maxWidth=i.style.maxHeight="none";const o=i._windowParent.scrollElement.scrollHeight,n=i._windowParent.scrollElement.scrollWidth,s=i._windowParent.element.clientHeight,d=i._windowParent.element.clientWidth,l=a(o,s),r=a(n,d);"top"===i.headerPosition||"bottom"===i.headerPosition?(i.style.width=n>d?r-i._windowParent.borderWidth+"px":"100%",!i.collapsed&&(i.style.height=o>s?l-i._windowParent.borderWidth+"px":"100%")):(!i.collapsed&&(i.style.width=n>d?r-i._windowParent.borderWidth+"px":"100%"),i.style.height=o>s?l-i._windowParent.borderWidth+"px":"100%"),"100%"!==i.style.height&&i.addEventListener("transitionend",t)}}minimize(e){const t=this;if(e||!t.minimized){t.maximized&&(t._preventEventFiring=!0,t.restore(),delete t._preventEventFiring),t._setDragDetails(),t.minimized=!0,t.$.fireEvent("minimize"),t._snapDummy&&t.$.hasClass("smart-window-snapped-"+t._snapDummy._position)&&(t.$.removeClass("smart-window-snapped-"+t._snapDummy._position),t.style.right=t.style.top=t.style.left="");const e=t._getAllMinimizedWindows(t._windowParent.element);if(0<e.length){const a=e[e.length-1];t.style.left=(a.offsetLeft+a.offsetWidth+t._dragDetails.minWidth+10>t._windowParent.element.clientWidth?a.offsetLeft:a.offsetLeft+a.offsetWidth+5)+"px",t.style.top=a.offsetTop+"px"}else t.style.left="5px",t.style.top=t._windowParent.element.clientHeight+t._windowParent.scrollElement.scrollTop-t.$.headerSection.offsetHeight-5+"px";t.style.width="",t.style.height=t.$.headerSection.offsetHeight+"px"}}_createElement(){}removeChild(e){const t=this;if(!t.isCompleted){const e=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(t,e.concat(Array.prototype.slice.call(arguments)))}return e?void t.$.content.removeChild(e):void t.error(t.localize("invalidNode",{elementType:t.nodeName.toLowerCase(),method:"removeChild",node:"node"}))}restore(e){var t=Math.min,a=Math.max;const i=this;if("maximized"===e||i.maximized?(i.maximized=!1,i.style.width=i.style.height=i.style.top=i.style.left=""):("minimized"===e||i.minimized)&&i._restoreFromMinimization(e),i._preventEventFiring||i.$.fireEvent("restore"),i.style.maxWidth=i.style.maxHeight="",i._dragDetails){if(i.style.left=a(0,t(i._dragDetails.windowX,i._windowParent.element.clientWidth-i._dragDetails.width))+"px",i.style.top=a(0,t(i._dragDetails.windowY,i._windowParent.scrollElement.scrollHeight-i._dragDetails.height))+"px",i.collapsed)return void("top"===i.headerPosition||"bottom"===i.headerPosition?i.style.width=i._dragDetails.width+"px":i.style.height=i._dragDetails.height+"px");i._dragDetails.resized&&(i.style.width=i._dragDetails.width+"px",i.style.height=i._dragDetails.height+"px")}}open(e){function t(){a.focus(),a.removeEventListener("transitionend",t)}const a=this;if(e||a.$.hasClass("smart-visibility-hidden")){if(a.isCompleted){const e=a.$.fireEvent("opening").defaultPrevented;if(e)return;a.$.removeClass("smart-visibility-hidden"),a.opened=!0,a.$.fireEvent("open")}else a.$.removeClass("smart-visibility-hidden"),a.opened=!0;a.bringToFront(),a._setModal(),a._handleActiveState(),a.hasAnimation?a.addEventListener("transitionend",t):t()}}pin(){this.pinned=!0}unpin(){this.pinned=!1}_applyLayoutTemplate(e,t){const a=this;return t?"content"in document.createElement("template")?(t instanceof HTMLTemplateElement||(t=document.getElementById(t)),null!==t&&"content"in t?void(e.innerHTML="",e.appendChild(document.importNode(t.content,!0))):void a.error(a.localize("invalidTemplate",{elementType:a.nodeName.toLowerCase(),property:e===a.$.footer?"footerTemplate":"headerTemplate"}))):void a.error(a.localize("htmlTemplateNotSuported",{elementType:a.nodeName.toLowerCase()})):(e.innerHTML="",void(e===a.$.header&&a.label&&(e.innerHTML=a.label)))}_cancelDragging(e){const t=this;if(t._dragDetails&&t._dragDetails.started&&"drag"===t._dragDetails.type){if(!e){const a=t.getBoundingClientRect();e={pageX:a.left,pageY:a.top}}t.$.fireEvent("dragEnd",{left:e.pageX,top:e.pageY}),t.removeAttribute("dragged"),t._dragDetails.started=!1,delete t._mouseManipulation}}_documentFocusInEventHandler(e){const t=this;t._changingFocus&&(!t.contains(e.target)&&t.focus(),delete t._changingFocus)}_downHandler(e){const t=this;let a=Smart.Utilities.Core.isMobile?document.elementFromPoint(e.pageX-window.pageXOffset,e.pageY-window.pageYOffset):e.originalEvent.target;if((t.shadowRoot||t.isInShadowDOM)&&(a=e.originalEvent.composedPath()[0]),e.stopPropagation(),t.disabled||!Smart.Utilities.Core.isMobile&&1!==e.which)return;if(t._tabsWindow&&(t._tabsWindow._isAutoHideWindowClicked=!0),t.hasAttribute("ontop")||t.bringToFront(),a.closest&&a.closest(".smart-buttons-container")===t.$.buttonsContainer){if(t._buttonPressed=a.closest("smart-button"),t._buttonPressed)return;}else if(a.getRootNode()&&a.getRootNode().host&&(t._buttonPressed=a.getRootNode().host,t._buttonPressed.closest(".smart-buttons-container")===t.$.buttonsContainer))return;t._isWindowContentClicked=a.closest(".smart-content");let i=t.closest("smart-docking-layout");if(t.isInShadowDOM&&!i)for(let e=t.getRootNode().host;e&&(i=e.closest("smart-docking-layout"),!i)&&!!e.getRootNode();)e=e.getRootNode().host;return t instanceof Smart.TabsWindow&&i&&i.disabled?void 0:(t._handleActiveState(),t instanceof Smart.TabsWindow&&i?void(t.$.hasClass("smart-docking-layout-auto-hide-window")&&(Smart.Utilities.Core.isMobile&&t._moveHandler(e),"none"!==t.resizeMode&&-1<t.$.container.className.indexOf("smart-window-resizing")&&(t._mouseManipulation=!0,t._setDragDetails("resize",e)))):a.closest(".smart-header-section")===t.$.headerSection&&(void 0===t._dblClickDetails&&(t._dblClickDetails={clicks:0}),clearTimeout(t._dblClickDetails.timeOut),t._dblClickDetails.clicks++,t._dblClickDetails.timeOut=setTimeout(function(){t._dblClickDetails&&(t._dblClickDetails.clicks=0)},300),2===t._dblClickDetails.clicks)?(t._headerDblCickHandler(e),void(t._dblClickDetails.clicks=0)):void(t.maximized||(Smart.Utilities.Core.isMobile&&t._moveHandler(e),!t.pinned&&!t.minimized&&0>t.$.container.className.indexOf("smart-window-resizing")&&(a=a.closest(".smart-header-section"),a&&a===t.$.headerSection&&(t._mouseManipulation=!0,t._setDragDetails("drag",e))),"none"!==t.resizeMode&&-1<t.$.container.className.indexOf("smart-window-resizing")&&(t._mouseManipulation=!0,t._setDragDetails("resize",e)))))}_documentMoveHandler(e){var t=Math.abs,a=Math.min,i=Math.max;const o=this;!o._dragDetails||!o._dragDetails.started||o.minimized||!o._mouseManipulation||5>=t(e.pageX-o._dragDetails.x)&&5>=t(e.pageY-o._dragDetails.y)||(!o.hasAttribute("dragged")&&!o.hasAttribute("resized")&&o.$.fireEvent(o._dragDetails.type+"Start",{left:e.pageX,top:e.pageY,width:o.offsetWidth,height:o.offsetHeight}),e.stopPropagation(),"drag"!==o._dragDetails.type||o.pinned?(o._dragDetails.resized=!0,o._resize(o._dragDetails.side,e),o._dragDetails.x=i(o._windowParent.offsetLeft+o._dragDetails.left,a(o._windowParent.offsetLeft+o._dragDetails.left+(-1<o._dragDetails.side.toLowerCase().indexOf("left")?0:o._dragDetails.newWidth),e.pageX)),o._dragDetails.y=i(o._windowParent.offsetTop+o._dragDetails.top,a(o._windowParent.offsetTop+o._dragDetails.top+(-1<o._dragDetails.side.toLowerCase().indexOf("top")?0:o._dragDetails.newHeight),e.pageY))):(o.setAttribute("dragged",""),o._snapDummy&&o.$.hasClass("smart-window-snapped-"+o._snapDummy._position)&&(o.$.removeClass("smart-window-snapped-"+o._snapDummy._position),o.style.right=o.style.top=o.style.left="",!o.collapsed&&(o.style.height=o._dragDetails.height+"px",o.style.width=o._dragDetails.width+"px")),o._drag(e,"both"),o._dragDetails.x=i(o._windowParent.offsetLeft+o._dragDetails.offsetX-o._windowParent.scrollElement.scrollLeft,a(o._windowParent.offsetLeft+o._windowParent.element.offsetWidth-(o._windowParent.element.offsetWidth-o.offsetLeft)+o._dragDetails.offsetX,e.pageX)),o._dragDetails.y=i(o._windowParent.offsetTop+o._dragDetails.offsetY-o._windowParent.scrollElement.scrollTop,a(o._windowParent.offsetTop+o._windowParent.element.offsetHeight-(o._windowParent.element.offsetHeight-o.offsetTop)+o._dragDetails.offsetY,e.pageY)),e.pageX>=o._windowParent.offsetLeft+o._windowParent.scrollElement.scrollWidth-1?o._handleSnapping("right"):e.pageY<=o._windowParent.offsetTop?o._handleSnapping("top"):e.pageX<=o._windowParent.offsetLeft?o._handleSnapping("left"):o._handleSnapping()))}_documentUpHandler(e){const t=this,a=t.shadowRoot||t.isInShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target;if(t.disabled)return t.removeAttribute("active"),delete t._buttonPressed,void delete t._isWindowContentClicked;if(t._dragDetails&&t._dragDetails.started&&(t.hasAttribute("resized")&&(t.$.fireEvent(t._dragDetails.type+"End",{left:e.pageX,top:e.pageY,width:t._dragDetails.newWidth,height:t._dragDetails.newHeight}),t.removeAttribute("resized"),t._handleWindowResizeDummy(),t.$.container.className="smart-container"),setTimeout(function(){t.$.removeClass("no-transition")},20),t.hasAttribute("dragged")&&(t.$.fireEvent(t._dragDetails.type+"End",{left:e.pageX,top:e.pageY}),t.removeAttribute("dragged")),t._dragDetails.started=!1,delete t._mouseManipulation),t._snapDummy&&!t._snapDummy.classList.contains("smart-visibility-hidden")){switch(t._snapDummy._position){case"left":case"top":t.style.left=t.style.top="0",t.style.right="auto";break;case"right":t.style.left="auto",t.style.top=t.style.right="0";}t.style.width="top"===t._snapDummy._position?"100%":"50%",t.style.height="100%",t.$.addClass("smart-window-snapped-"+t._snapDummy._position),t._handleSnapping()}t._modal&&a===t._modal&&!t._isWindowContentClicked&&(t.closeOnMaskClick?t.close():t.focus()),t._isWindowButton(a)&&t.focus(),delete t._isWindowContentClicked,delete t._buttonPressed;const i=t.shadowRoot&&t._windowParent.element&&t._windowParent.element.getRootNode()?t._windowParent.element.getRootNode().activeElement:document.activeElement;if(!t.hasAttribute("active")||i===t)return;if(!a.closest)return;let o=a.closest(".smart-window");for(;o&&o!==t;)o=o.parentElement.closest(".smart-window");t.opened&&o!==t&&t.removeAttribute("active")}_documentSelectStartHandler(e){const t=this;t._dragDetails&&t._dragDetails.started&&e.preventDefault()}_drag(e,t){var a=Math.min,i=Math.max;const o=this;if(!e||o.pinned||o.maximized)return;let n,s;o._dragDetails&&o._dragDetails.started||o._setDragDetails("drag",e),o.$.addClass("no-transition"),"object"==typeof e?(n=e.pageX-o._dragDetails.x,s=e.pageY-o._dragDetails.y):n=s=e;const d=i(o._windowParent.element.clientHeight,o._windowParent.scrollElement.scrollHeight),l=i(o._windowParent.element.clientWidth,o._windowParent.scrollElement.scrollWidth);"horizontal"===t?(o._dragDetails.windowX=i(0,a(o._dragDetails.windowX+n,l-o.offsetWidth)),o.style.left=o._dragDetails.windowX+"px"):"vertical"===t?(o._dragDetails.windowY=i(0,a(o._dragDetails.windowY+s,d-o.offsetHeight)),o.style.top=o._dragDetails.windowY+"px"):"both"===t?(o._dragDetails.windowX=i(0,a(o._dragDetails.windowX+n,l-o.offsetWidth)),o._dragDetails.windowY=i(0,a(o._dragDetails.windowY+s,d-o.offsetHeight)),o.style.left=o._dragDetails.windowX+"px",o.style.top=o._dragDetails.windowY+"px"):void 0;o._dragDetails.top=o.offsetTop,o._dragDetails.left=o.offsetLeft}_dragStartHandler(e){const t=this;t._dragDetails&&t._dragDetails.started&&e.preventDefault()}_focusHandler(e){const t=this;"focus"===e.type?(t.setAttribute("focus",""),t.bringToFront()):!t._buttonPressed&&(t.removeAttribute("focus"),t._dragDetails&&t._dragDetails.started&&t._handleWindowResizeDummy())}_getAllMinimizedWindows(e){const t=this;let a=[];e||(e=t._windowParent.element);const o=e.getElementsByTagName("smart-window");for(let n=0;n<o.length;n++)o[n]!==t&&o[n].hasAttribute("minimized")&&a.push(o[n]);return a.sort(function(e,t){let a=e.getBoundingClientRect(),i=t.getBoundingClientRect();return a.right-i.right}),a}_handleSnapping(e){const t=this;return e?void(t.disableSnap||t.collapsed||(!t._snapDummy&&(t._snapDummy=document.createElement("div"),t._snapDummy.addEventListener("transitionend",function(){t._snapDummy.classList.contains("smart-visibility-hidden")&&t._snapDummy.parentElement&&t._snapDummy.parentElement.removeChild(t._snapDummy)})),t._snapDummy.className="smart-window-snap-"+e+"-feedback",t._snapDummy._position=e,!t._snapDummy.parentElement&&t._windowParent.element.appendChild(t._snapDummy))):void(t._snapDummy&&t._snapDummy.parentElement&&t._snapDummy.classList.add("smart-visibility-hidden"))}_headerDblCickHandler(e){const t=this,a=t.shadowRoot||t.isInShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target;a!==t.$.headerSection&&a!==t.$.header||t.$.maximizeButton&&0===t.$.maximizeButton.offsetHeight||(t.maximized?t.restore():t.maximize())}_isWindowButton(e){const t=this;for(;e;){let a=e.closest&&e.closest(".smart-buttons-container");if(a===t.$.buttonsContainer)break;e=e.getRootNode().host}if(e){const a=/smart-(\w+[-]*\w*)-button/ig;if(e=e.closest("smart-button"),e&&e===t._buttonPressed)return e===t.$.closeButton?(t.close(),!0):e===t.$.collapseButton?(t.collapsed?t.expand():t.collapse(),!0):e===t.$.maximizeButton?(t.maximized?t.restore():t.maximize(),!0):e===t.$.minimizeButton?(t.minimized?t.restore():t.minimize(),!0):e===t.$.pinButton?(t.pinned?t.unpin():t.pin(),!0):a.test(e.className)?(t.$.fireEvent(Smart.Utilities.Core.toCamelCase(e.className.match(a).toString().replace("smart-","").replace("-button","")),{button:e}),!0):void 0}}_keyDownHandler(e){const t=this;if(delete t._changingFocus,!(t.disabled||(t.hasAttribute("dragged")||t.hasAttribute("resized"))&&t._mouseManipulation)){e.stopPropagation();const a="ArrowDown"===e.key||"ArrowRight"===e.key?10:-10,i=t.enableShadowDOM&&t._windowParent.element.getRootNode()?t._windowParent.element.getRootNode().activeElement:document.activeElement;switch(e.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":{if(t.minimized||i!==t)return;let o=-1<e.key.indexOf("Right")||-1<e.key.indexOf("Left");if(e.preventDefault(),!o&&e.altKey)return void("ArrowUp"===e.key?t.maximize():t.restore());if(t.maximized)return;if(t.$.addClass("no-transition"),e.ctrlKey&&"none"!==t.resizeMode&&!t.collapsed)return o=-1===["horizontal","vertical","both"].indexOf(t.resizeMode)?t.resizeMode:o?"right":"bottom",t.hasAttribute("dragged")&&t._cancelDragging(e),t.hasAttribute("resized")||t.$.fireEvent("resizeStart",{position:{x:e.pageX,y:e.pageY}}),void t._resize(o,a);t.pinned||(!t.hasAttribute("dragged")&&(t.setAttribute("dragged",""),t.$.fireEvent("dragStart",{left:e.pageX,top:e.pageY})),t._drag(a,o?"horizontal":"vertical")),t.$.removeClass("no-transition");break}case"Escape":-1<t.headerButtons.indexOf("close")&&i===t&&t.close();break;case"p":e.altKey&&-1<t.headerButtons.indexOf("pin")&&(t.pinned?t.unpin():t.pin());break;case"c":e.altKey&&-1<t.headerButtons.indexOf("collapse")&&(t.collapsed?t.expand():t.collapse());break;case"m":e.altKey&&-1<t.headerButtons.indexOf("minimize")&&(t.minimized?t.restore():t.minimize());break;case"Tab":t.opened&&t.modal&&(t._changingFocus=!0);break;case"Enter":case" ":{let a;if(t.shadowRoot||t.isInShadowDOM?(a=e.composedPath()[0],t._buttonPressed=a.getRootNode().host):(a=e.target.closest&&e.target.closest("smart-button"),t._buttonPressed=a),!a)return;t._isWindowButton(a),delete t._buttonPressed;break}}}}_keyUpHandler(e){const t=this;if(e.key){if("Control"===e.key&&t._dragDetails&&t.hasAttribute("resized")&&!t._mouseManipulation){if(!t._dragDetails.started)return;"drag"!==t._dragDetails.type&&(t.removeAttribute("resized"),t.$.fireEvent("resizeEnd",{left:e.pageX,top:e.pageY,width:t._dragDetails.newWidth,height:t._dragDetails.newHeight}),t._handleWindowResizeDummy()),t._dragDetails.started=!1}-1<e.key.indexOf("Arrow")&&t.hasAttribute("dragged")&&!t._mouseManipulation&&t._cancelDragging(e)}}_mouseWheelHandler(e){const t=this;return t.disabled||!(t._dragDetails&&t._dragDetails.started)?void 0:0>e.deltaY&&0>=t._windowParent.scrollElement.scrollTop+e.deltaY?void(t.style.top=Math.max(0,t._dragDetails.windowY)+"px"):void(0<e.deltaY&&(t._dragDetails.windowY+t.offsetHeight+e.deltaY>=t._windowParent.scrollElement.scrollHeight||t._windowParent.scrollElement.scrollTop+t._windowParent.element.clientHeight===t._windowParent.scrollElement.scrollHeight)||("drag"===t._dragDetails.type?(t._dragDetails.windowY+=e.deltaY,t.style.top=t._dragDetails.windowY+"px"):(t._dragDetails.height+=e.deltaY,t.style.height=t._dragDetails.height+"px")))}_moveHandler(e){const t=this;if(!(t.disabled||t.collapsed||t.maximized||t.minimized)&&(Smart.Utilities.Core.isMobile&&!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)&&t.hasAttribute("dragged")&&e.originalEvent.preventDefault(),!t._mouseManipulation)&&(-1<t.$.container.className.indexOf("smart-window-resizing")&&(t.$.container.className="smart-container"),"none"!==t.resizeMode)){const a=t.getBoundingClientRect(),i=!!(e.clientY<a.top+10),o=!!(e.clientY>a.bottom-10),n=!!(e.clientX>a.right-10),s=!!(e.clientX<a.left+10);switch(t.resizeMode){case"none":break;case"both":if(t.resizeIndicator)return void(o&&n&&t.$.container.classList.add("smart-window-resizing-bottom-right"));if(s||n)return i?void(s?t.$.container.classList.add("smart-window-resizing-top-left"):t.$.container.classList.add("smart-window-resizing-top-right")):o?void(s?t.$.container.classList.add("smart-window-resizing-bottom-left"):t.$.container.classList.add("smart-window-resizing-bottom-right")):void(s?t.$.container.classList.add("smart-window-resizing-left"):t.$.container.classList.add("smart-window-resizing-right"));if(i||o){if(n)return void(i?t.$.container.classList.add("smart-window-resizing-top-right"):t.$.container.classList.add("smart-window-resizing-bottom-right"));if(s)return void(i?t.$.container.classList.add("smart-window-resizing-top-left"):t.$.container.classList.add("smart-window-resizing-bottom-left"));i?t.$.container.classList.add("smart-window-resizing-top"):t.$.container.classList.add("smart-window-resizing-bottom")}break;case"horizontal":if(t.resizeIndicator)return void(o&&n&&t.$.container.classList.add("smart-window-resizing-right"));if(s)return void t.$.container.classList.add("smart-window-resizing-left");n&&t.$.container.classList.add("smart-window-resizing-right");break;case"vertical":if(t.resizeIndicator)return void(o&&n&&t.$.container.classList.add("smart-window-resizing-bottom"));if(i)return void t.$.container.classList.add("smart-window-resizing-top");o&&t.$.container.classList.add("smart-window-resizing-bottom");break;case"top":if(i){if(t.resizeIndicator&&!s)return;t.$.container.classList.add("smart-window-resizing-top")}break;case"bottom":if(o){if(t.resizeIndicator&&!n)return;t.$.container.classList.add("smart-window-resizing-bottom")}break;case"left":if(s){if(t.resizeIndicator&&!i)return;t.$.container.classList.add("smart-window-resizing-left")}break;case"right":if(n){if(t.resizeIndicator&&!o)return;t.$.container.classList.add("smart-window-resizing-right")}}}}_handleActiveState(){const e=this,t=document.getElementsByClassName("smart-window");for(let a=0;a<t.length;a++)t[a].contains(e)||e.contains(t[a])||(t[a].removeAttribute("active"),t[a].removeAttribute("focus"));e.setAttribute("active","")}_handleWindowResizeDummy(){const e=this;return e._resizeDummy||(e._resizeDummy=document.createElement("div"),e._resizeDummy.classList.add("smart-window-resize-feedback")),e.hasAttribute("resized")?void(e._resizeDummy.parentElement||(e._resizeDummy.style.width=e.offsetWidth+"px",e._resizeDummy.style.height=e.offsetHeight+"px",e._resizeDummy.style.top=e.offsetTop+"px",e._resizeDummy.style.left=e.offsetLeft+"px",e._windowParent.element.appendChild(e._resizeDummy))):(e._resizeDummy.parentElement&&e._resizeDummy.parentElement.removeChild(e._resizeDummy),void(!e.liveResize&&"resize"===e._dragDetails.type&&e._dragDetails.started&&(e.style.top=e._dragDetails.top+"px",e.style.left=e._dragDetails.left+"px",e.style.width=e._dragDetails.newWidth+"px",e.style.height=e._dragDetails.newHeight+"px")))}_resize(e,t){var a=Math.abs,i=Math.min,o=Math.max;const n=this;let s;if((!n._dragDetails||n._dragDetails&&"drag"===n._dragDetails.type)&&n._setDragDetails("resize"),!!n._dragDetails){n._dragDetails.started=!0,n.hasAttribute("resized")||(n.setAttribute("resized",""),n.hasAnimation&&n.$.addClass("no-transition")),n.liveResize||n._handleWindowResizeDummy();const d=n._snapDummy&&n.$.hasClass("smart-window-snapped-"+n._snapDummy._position)?"snapWindowWidth":"width";switch(e){case"left":{s="object"==typeof t?t.pageX-n._dragDetails.x:t,s=0<s?i(s,n._dragDetails[d]-n._dragDetails.minWidth):-1*i(n._dragDetails.maxWidth?n._dragDetails.maxWidth-n._dragDetails[d]:n._dragDetails.left,a(s)),n._dragDetails[d]=i(n._dragDetails[d]+n._dragDetails.left-n._windowParent.scrollElement.scrollLeft,n._dragDetails[d]-s),n._dragDetails.windowX=o(n._windowParent.scrollElement.scrollLeft,n._dragDetails.windowX+s),"object"!=typeof t&&(n._dragDetails[d]=o(n._dragDetails[d],n._dragDetails.minWidth)),n._dragDetails[d]>=n._dragDetails.minWidth&&(n._dragDetails.left=n._dragDetails.windowX,n._dragDetails.newWidth=n._dragDetails[d]);break}case"right":{const e=n._windowParent.element.clientWidth===n._windowParent.element.offsetWidth?0:n._windowParent.borderWidth,a=n._snapDummy&&n.$.hasClass("smart-window-snapped-"+n._snapDummy._position)?"snapWindowWidth":"width";s="object"==typeof t?t.pageX-n._dragDetails.x:t,0<s&&n._dragDetails.maxWidth&&(s=i(n._dragDetails.maxWidth-n._dragDetails[a],s)),n._dragDetails[a]=i(n._windowParent.element.clientWidth+n._windowParent.scrollElement.scrollLeft-n._dragDetails.left-e,o(0,n._dragDetails[a]+s)),"object"!=typeof t&&(n._dragDetails[a]=o(n._dragDetails[a],n._dragDetails.minWidth)),n._dragDetails.left=n.offsetLeft,n._dragDetails.newWidth=o(n._dragDetails.minWidth,n._dragDetails[a]);break}case"top":n._snapDummy&&n.$.hasClass("smart-window-snapped-"+n._snapDummy._position)&&(n._dragDetails.height=n._dragDetails.snapWindowHeight),s="object"==typeof t?t.pageY-n._dragDetails.y:t,s=0<s?i(s,n._dragDetails.height-n._dragDetails.minHeight):-1*i(n._dragDetails.maxHeight?n._dragDetails.maxHeight-n._dragDetails.height:n._dragDetails.top,a(s)),n._dragDetails.snapWindowHeight=n._dragDetails.height=i(n._dragDetails.height+n._dragDetails.top-n._windowParent.scrollElement.scrollTop,n._dragDetails.height-s),n._dragDetails.windowY=o(n._windowParent.scrollElement.scrollTop,n._dragDetails.windowY+s),"object"!=typeof t&&(n._dragDetails.snapWindowHeight=n._dragDetails.height=o(n._dragDetails.height,n._dragDetails.minHeight)),n._dragDetails.height>=n._dragDetails.minHeight&&(n._dragDetails.top=n._dragDetails.windowY,n._dragDetails.newHeight=n._dragDetails.height),n._dragDetails.newWidth=o(n._dragDetails[d],n._dragDetails.newWidth);break;case"bottom":n._snapDummy&&n.$.hasClass("smart-window-snapped-"+n._snapDummy._position)&&(n._dragDetails.height=n._dragDetails.snapWindowHeight),s="object"==typeof t?t.pageY-n._dragDetails.y:t,0<s&&n._dragDetails.maxHeight&&(s=i(n._dragDetails.maxHeight-n._dragDetails.height,s)),n._dragDetails.snapWindowHeight=n._dragDetails.height=i(n._windowParent.element.clientHeight+n._windowParent.scrollElement.scrollTop-n._dragDetails.top-n._windowParent.borderWidth,o(0,n._dragDetails.height+s)),"object"!=typeof t&&(n._dragDetails.snapWindowHeight=n._dragDetails.height=o(n._dragDetails.height,n._dragDetails.minHeight)),n._dragDetails.newHeight=o(n._dragDetails.minHeight,n._dragDetails.height),n._dragDetails.newWidth=o(n._dragDetails[d],n._dragDetails.newWidth);break;case"bottomLeftCorner":n._resize("bottom",t),n._resize("left",t);break;case"bottomRightCorner":n._resize("bottom",t),n._resize("right",t);break;case"topLeftCorner":n._resize("top",t),n._resize("left",t);break;case"topRightCorner":n._resize("top",t),n._resize("right",t);}const l=n.liveResize?n:n._resizeDummy;n._dragDetails.newHeight=o(n._dragDetails.snapWindowHeight,n._dragDetails.newHeight),l.style.top=n._dragDetails.top+"px",l.style.left=n._dragDetails.left+"px",l.style.width=n._dragDetails.newWidth+"px",l.style.height=n._dragDetails.newHeight+"px"}}_restoreFromMinimization(){const e=this;e.minimized=!1,e.style.width=e.style.height=e.style.top=e.style.left="",e._refreshMinimizedWindowsPosition()}_refreshMinimizedWindowsPosition(){const e=this,t=e._getAllMinimizedWindows();if(0===t.length)return;t[0].style.left="5px";let a;for(let o=1;o<t.length;o++)parseFloat(t[o-1].style.left)+t[o-1].offsetWidth+t[o].offsetWidth+10<e._windowParent.element.clientWidth?(t[o].style.left=parseFloat(t[o-1].style.left)+t[o-1].offsetWidth+5+"px",t[o].style.top=t[o-1].offsetTop+"px",a=t[o]):(t[o].style.left=parseFloat(a.style.left)+"px",t[o].style.top=a.offsetTop+"px")}_setHeaderButtons(){const e=this,t=e.headerButtons,a=e.$.buttonsContainer.children,o=function(t){const a=e.$.buttonsContainer.getElementsByClassName("smart-"+(t+"").split(/(?=[A-Z])/).join("-").toLowerCase()+"-button")[0];return a&&a.$.removeClass("smart-hidden"),a};for(let e=0;e<a.length;e++)a[e].$.addClass("smart-hidden");if(0<t.length)for(let a,n=0;n<t.length;n++)a=o(t[n]),a||(a=document.createElement("smart-button"),a.$.addClass("smart-"+(t[n]+"").split(/(?=[A-Z])/).join("-").toLowerCase()+"-button"),a.theme=e.theme),e.$.buttonsContainer.insertBefore(a,e.$.buttonsContainer.firstElementChild)}_setDragDetails(e,t){const a=this;if(a._dragDetails||(a._dragDetails={}),void 0===a._dragDetails.minWidth||void 0===a._dragDetails.minHeight||void 0===a._dragDetails.maxWidth||void 0===a._dragDetails.maxHeight){const e=getComputedStyle(a);a._dragDetails.minWidth=parseFloat(e.getPropertyValue("min-width"))||0,a._dragDetails.minHeight=parseFloat(e.getPropertyValue("min-height"))||0,a._dragDetails.maxWidth=parseFloat(e.getPropertyValue("max-width"))||0,a._dragDetails.maxHeight=parseFloat(e.getPropertyValue("max-height"))||0}a._dragDetails.windowX=a.offsetLeft,a._dragDetails.windowY=a.offsetTop;const i=a.getBoundingClientRect();if(!a._snapDummy||!a.$.hasClass("smart-window-snapped-"+a._snapDummy._position)){const o=a.parentElement===document.body?document.documentElement.getBoundingClientRect():a.parentElement.getBoundingClientRect(),n=window.scrollX||window.pageXOffset,s=window.scrollY||window.pageYOffset;a._windowParent.offsetLeft=o.left+n,a._windowParent.offsetTop=o.top+s,t&&"object"==typeof t&&(a._dragDetails.offsetX=t.clientX-i.left,a._dragDetails.offsetY=t.clientY-i.top),a.collapsed||(a.hasAnimation&&"minimize"===e?(a._dragDetails.width=a._dragDetails.width?a._dragDetails.width:a.offsetWidth,a._dragDetails.height=a._dragDetails.height?a._dragDetails.height:a.offsetHeight):(a._dragDetails.width=a.offsetWidth,a._dragDetails.height=a.offsetHeight),(a.style.width||a.style.height)&&(a._dragDetails.resized=!0))}else"right"===a.headerPosition&&a.collapsed&&(a._dragDetails.offsetX=i.left+a.offsetWidth-t.clientX);if("minimize"!==e&&e&&(a._dragDetails.type=e,a._dragDetails.started=!0,a._dragDetails.snapWindowWidth=a.offsetWidth,a._dragDetails.snapWindowHeight=a.offsetHeight,t&&"object"==typeof t?(a._dragDetails.x=t.pageX,a._dragDetails.y=t.pageY):(a._dragDetails.x=a.offsetLeft,a._dragDetails.y=a.offsetTop),"resize"===e)){if("none"===a.resizeMode)return void delete a._dragDetails;a._dragDetails.top=a.offsetTop,a._dragDetails.left=a.offsetLeft,a._dragDetails.newWidth=a._dragDetails.width,a._dragDetails.newHeight=a._dragDetails.height,a.$container.hasClass("smart-window-resizing-right")?a._dragDetails.side="right":a.$container.hasClass("smart-window-resizing-left")?a._dragDetails.side="left":a.$container.hasClass("smart-window-resizing-top")?a._dragDetails.side="top":a.$container.hasClass("smart-window-resizing-bottom")?a._dragDetails.side="bottom":a.$container.hasClass("smart-window-resizing-top-left")?a._dragDetails.side="topLeftCorner":a.$container.hasClass("smart-window-resizing-bottom-left")?a._dragDetails.side="bottomLeftCorner":a.$container.hasClass("smart-window-resizing-top-right")?a._dragDetails.side="topRightCorner":a.$container.hasClass("smart-window-resizing-bottom-right")&&(a._dragDetails.side="bottomRightCorner")}}_setElementParent(e){const t=this;if(t._windowParent.element=void 0,t._windowParent.parent&&!t._windowParent.parent.querySelectorAll("smart-window, smart-dialog-window, smart-progress-window, smart-wait-window, smart-alert-window, smart-prompt-window, smart-multiline-prompt-window")&&(t._windowParent.parent.style.position=""),e instanceof HTMLElement?t._windowParent.element=e:"string"==typeof e&&(t._windowParent.element="body"===e?document.body:document.getElementById(e)),t._windowParent.element||(t._windowParent.element=t._windowParent.initialParent.getRootNode().host||t._windowParent.initialParent.parentElement?t._windowParent.initialParent:document.body),t.parentElement!==t._windowParent.element&&t._windowParent.element.appendChild(t),t._windowParent.element===document.body)t._windowParent.element=document.documentElement,t._windowParent.scrollElement=document.scrollingElement,t._windowParent.parent=document.body,t._windowParent.borderWidth=0;else{if(t.parentElement instanceof Smart.Window&&!t.parentElement.isCompleted)return void t.parentElement.whenRendered(function(){t.parentElement.appendChild(t),t._setElementParent(t.windowParent)});t._windowParent.element instanceof Smart.Window&&(t._windowParent.element=t._windowParent.element.$.content);const e=getComputedStyle(t.parentElement),a=e.getPropertyValue("position");t._windowParent.borderWidth=2*parseInt(e.getPropertyValue("border-width")||0),t._windowParent.parent=t.parentElement,t._windowParent.scrollElement=t._windowParent.element,"relative"!==a&&(t.parentElement.style.position="relative")}t._setModal(),t.style.left&&t.offsetLeft>t._windowParent.scrollElement.scrollWidth&&(t.style.left=t._windowParent.scrollElement.scrollWidth-t.offsetWidth+"px"),t.style.top&&t.offsetTop>t._windowParent.scrollElement.scrollHeight&&(t.style.top=t._windowParent.scrollElement.scrollHeight-t.offsetHeight+"px")}_setModal(){const e=this;if(delete e._changingFocus,!!e._windowParent.element){if(!e.modal)return void(e._modal&&e._modal.parentElement&&(e._modal.parentElement.removeChild(e._modal),delete e._modal));if(e._modal||(e._modal=document.createElement("div"),e._modal.classList.add("smart-modal")),e._windowParent.parent===document.body?e._modal.removeAttribute("nested-modal"):e._modal.setAttribute("nested-modal",""),e._modal._window=e,e.opened&&!e._modal.parentElement){const t=parseInt(getComputedStyle(e).getPropertyValue("z-index"));isNaN(t)||(e._modal.style.zIndex=t-1),e.parentElement.insertBefore(e._modal,e)}else e._modal.parentElement&&e._modal.parentElement.removeChild(e._modal)}}}),Smart("smart-dialog-window",class extends Smart.Window{static get properties(){return{cancelLabel:{value:"Cancel",type:"string"},confirmLabel:{value:"Ok",type:"string"},disableSnap:{value:!0,readOnly:!0,type:"boolean"},headerButtons:{value:["close"],type:"array"},modal:{value:!0,readOnly:!0,type:"boolean",defaultReflectToAttribute:!0}}}static get listeners(){return{"footer.click":"_footerClickHandler"}}template(){return`<div id="container">
                    <div id="headerSection" class="smart-header-section">
                        <div id="header" class="smart-header">[[label]]</div>
                        <div id="buttonsContainer" class="smart-buttons-container">
                            <smart-button id="pinButton" class="smart-pin-button" animation="[[animation]]" theme="[[theme]]"></smart-button>
                            <smart-button id="collapseButton" class="smart-collapse-button" animation="[[animation]]" theme="[[theme]]"></smart-button>
                            <smart-button id="minimizeButton" class="smart-minimize-button" animation="[[animation]]" theme="[[theme]]"></smart-button>
                            <smart-button id="maximizeButton" class="smart-maximize-button" animation="[[animation]]" theme="[[theme]]"></smart-button>
                            <smart-button id="closeButton" class="smart-close-button" animation="[[animation]]" theme="[[theme]]"></smart-button>
                        </div>
                    </div>
                    <div class="smart-content">
                        <content></content>
                    </div>
                    <div id="footer" class="smart-footer">
                        <smart-button id="confirmButton" class="smart-confirm-button" animation="[[animation]]" theme="[[theme]]">[[confirmLabel]]</smart-button>
                        <smart-button id="cancelButton" class="smart-cancel-button" animation="[[animation]]" theme="[[theme]]">[[cancelLabel]]</smart-button>
                    </div>
                </div>`}_footerClickHandler(e){const t=this,a=e.target;a.closest(".smart-confirm-button")?t.$.fireEvent("confirm"):a.closest(".smart-cancel-button")&&t.$.fireEvent("cancel")}_keyDownHandler(e){const t=this;if(delete t._changingFocus,!(t.disabled||(t.hasAttribute("dragged")||t.hasAttribute("resized"))&&t._mouseManipulation)){e.stopPropagation();const a="ArrowDown"===e.key||"ArrowRight"===e.key?10:-10,i=t.enableShadowDOM&&t._windowParent.element.getRootNode()?t._windowParent.element.getRootNode().activeElement:document.activeElement;switch(e.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":{if(t.minimized||i!==t)return;const o=-1<e.key.indexOf("Right")||-1<e.key.indexOf("Left");if(e.preventDefault(),!o&&e.altKey)return void("ArrowUp"===e.key?t.maximize():t.restore());if(t.$.addClass("no-transition"),t.maximized)return;if(e.ctrlKey&&"none"!==t.resizeMode)return t.hasAttribute("dragged")&&t._cancelDragging(e),t.hasAttribute("resized")||t.$.fireEvent("resizeStart",{position:{x:e.pageX,y:e.pageY}}),void t._resize(o?"right":"bottom",a);t.pinned||(!t.hasAttribute("dragged")&&(t.setAttribute("dragged",""),t.$.fireEvent("dragStart",{left:e.pageX,top:e.pageY})),t._drag(a,o?"horizontal":"vertical")),t.$.removeClass("no-transition");break}case"Escape":-1<t.headerButtons.indexOf("close")&&i===t&&t.close();break;case"Tab":t.opened&&t.modal&&(t._changingFocus=!0);break;case"Enter":case" ":{let a;if(t.shadowRoot||t.isInShadowDOM?(a=e.composedPath()[0],t._buttonPressed=a.getRootNode().host):(a=e.target.closest&&e.target.closest("smart-button"),t._buttonPressed=a),!a)return;t._isWindowButton(a),delete t._buttonPressed;break}}}}}),Smart("smart-alert-window",class extends Smart.DialogWindow{static get properties(){return{headerButtons:{value:[],type:"array"}}}}),Smart("smart-prompt-window",class extends Smart.DialogWindow{static get properties(){return{autoComplete:{allowedValues:["none","manual","auto","inline"],type:"string",value:"manual"},confirmLabel:{value:"Ok",type:"string"},cancelLabel:{value:"Cancel",type:"string"},disableSnap:{value:!0,readOnly:!0,type:"boolean"},displayMode:{value:"default",allowedValues:["default","escaped"],type:"string"},headerButtons:{value:["close"],type:"array"},form:{value:"",type:"string"},hint:{value:null,type:"any?"},maxLength:{value:null,type:"number?"},minLength:{value:2,type:"number"},messages:{extend:!0,value:{en:{missingReference:"{{elementType}}: Missing reference to {{files}}."}},type:"object"},modal:{value:!0,readOnly:!0,type:"boolean",defaultReflectToAttribute:!0},name:{value:"",type:"string"},placeholder:{value:"",type:"string"},promptLabel:{value:"",type:"string?"},required:{value:!1,type:"boolean"},requiredMessage:{value:"",type:"string"},selectAllOnFocus:{value:!1,type:"boolean"},value:{value:"",type:"string"}}}template(){return`<div id="container">
                    <div id="headerSection" class="smart-header-section">
                        <div id="header" class="smart-header">[[label]]</div>
                        <div id="buttonsContainer" class="smart-buttons-container">
                            <smart-button id="closeButton" class="smart-close-button" animation="[[animation]]" theme="[[theme]]"></smart-button>
                        </div>
                    </div>
                    <div class="smart-content">
                        <content></content>
                        <smart-text-box id="textBox"
                            animation="[[animation]]"
                            auto-complete="[[autoComplete]]"
                            max-length="[[maxLength]]"
                            value="{{value}}"
                            form="[[form]]"
                            label="[[promptLabel]]"
                            hint="[[hint]]"
                            display-mode="[[displayMode]]"
                            max-length="[[maxLength]]"
                            placeholder="[[placeholder]]"
                            required="[[required]]"
                            required-message="[[requiredMessage]]"
                            select-all-on-focus="[[selectAllOnFocus]]"
                            theme="[[theme]]">
                        </smart-text-box>
                    </div>
                    <div id="footer" class="smart-footer">
                        <smart-button id="confirmButton" class="smart-confirm-button flat" animation="[[animation]]" theme="[[theme]]">[[confirmLabel]]</smart-button>
                        <smart-button id="cancelButton" class="smart-cancel-button flat" animation="[[animation]]" theme="[[theme]]">[[cancelLabel]]</smart-button>
                    </div>
                </div>`}static get listeners(){return{"footer.click":"_footerClickHandler"}}static get requires(){return{"Smart.TextBox":"smart.textbox.js"}}_footerClickHandler(e){const t=this,a=e.target;a.closest(".smart-confirm-button")?t.$.fireEvent("confirm",{value:t.$.textBox.value}):a.closest(".smart-cancel-button")&&t.$.fireEvent("cancel",{value:t.$.textBox.value})}_keyDownHandler(e){function t(){a._dragDetails&&(a._dragDetails.started=!1),a.$.removeClass("no-transition")}const a=this;if(delete a._changingFocus,!(a.disabled||a._dragDetails&&a._dragDetails.started)){e.stopPropagation();const i="ArrowDown"===e.key||"ArrowRight"===e.key?10:-10,o=a.enableShadowDOM&&a._windowParent.element.getRootNode()?a._windowParent.element.getRootNode().activeElement:document.activeElement;switch(a.$.removeClass("no-transition"),e.key){case"ArrowUp":case"ArrowDown":if(o!==a)return;if(e.preventDefault(),e.altKey)return"ArrowUp"===e.key?a.maximize():a.restore(),void t();if(a.$.addClass("no-transition"),e.ctrlKey)return a._resize("bottom",i),void t();a._drag(i,"vertical");break;case"ArrowLeft":case"ArrowRight":if(o!==a)return;if(e.preventDefault(),a.$.addClass("no-transition"),e.ctrlKey)return a._resize("right",i),void t();a._drag(i,"horizontal"),a.$.removeClass("no-transition");break;case"Escape":-1<a.headerButtons.indexOf("close")&&o===a&&a.close();break;case"Tab":a.opened&&a.modal&&(a._changingFocus=!0);break;case"Enter":case" ":{let t;if(a.shadowRoot||a.isInShadowDOM?(t=e.composedPath()[0],a._buttonPressed=t.getRootNode().host):(t=e.target.closest&&e.target.closest("smart-button"),a._buttonPressed=t),!t)return;a._isWindowButton(t),delete a._buttonPressed;break}}t()}}}),Smart("smart-multiline-prompt-window",class extends Smart.PromptWindow{static get properties(){return{autoCapitalize:{value:"none",allowedValues:["none","words","characters"],type:"string"},autoExpand:{value:!1,type:"boolean"},headerButtons:{value:["close"],type:"array"},horizontalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]},modal:{value:!0,readOnly:!0,type:"boolean",defaultReflectToAttribute:!0},selectionDirection:{value:"none",allowedValues:["forward","backward","none"],type:"string"},selectionEnd:{value:0,reflectToAttribute:!1,type:"number"},selectionStart:{value:0,reflectToAttribute:!1,type:"number"},spellCheck:{value:!1,type:"boolean"},verticalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]},wrap:{value:"soft",allowedValues:["hard","soft","off"],type:"string"}}}template(){return`<div id="container">
                    <div id="headerSection" class="smart-header-section">
                        <div id="header" class="smart-header">[[label]]</div>
                        <div id="buttonsContainer" class="smart-buttons-container">
                            <smart-button id="closeButton" class="smart-close-button" animation="[[animation]]" theme="[[theme]]"></smart-button>
                        </div>
                    </div>
                    <div class="smart-content">
                        <content></content>
                       <smart-multiline-text-box id="textBox"
                            animation="[[animation]]"
                            horizontal-scroll-bar-visibility= "[[horizontalScrollBarVisibility]]"
                            vertical-scroll-bar-visibility= "[[verticalScrollBarVisibility]]"
                            auto-capitalize="[[autoCapitalize]]"
                            auto-expand = "[[autoExpand]]"
                            selection-direction= "[[selectionDirection]]"
                            selection-end= "[[selectionEnd]]"
                            selection-start="[[selectionStart]]"
                            spell-check= "[[spellCheck]]"
                            wrap="[[wrap]]"
                            max-length="[[maxLength]]"
                            value="{{value}}"
                            form="[[form]]"
                            label="[[promptLabel]]"
                            hint="[[hint]]"
                            display-mode="[[displayMode]]"
                            max-length="[[maxLength]]"
                            placeholder="[[placeholder]]"
                            required="[[required]]"
                            required-message="[[requiredMessage]]"
                            select-all-on-focus="[[selectAllOnFocus]]"
                            theme="[[theme]]">
                       </smart-multiline-text-box>
                    </div>
                    <div id="footer" class="smart-footer">
                        <smart-button id="confirmButton" class="smart-confirm-button flat" animation="[[animation]]" theme="[[theme]]">[[confirmLabel]]</smart-button>
                        <smart-button id="cancelButton" class="smart-cancel-button flat" animation="[[animation]]" theme="[[theme]]">[[cancelLabel]]</smart-button>
                    </div>
                </div>`}static get listeners(){return{"footer.click":"_footerClickHandler"}}static get requires(){return{"Smart.MultilineTextBox":"smart.multilinetextbox.js"}}_footerClickHandler(e){const t=this,a=e.target;a.closest(".smart-confirm-button")?t.$.fireEvent("confirm",{value:t.$.textBox.value}):a.closest(".smart-cancel-button")&&t.$.fireEvent("cancel",{value:t.$.textBox.value})}}),Smart("smart-progress-window",class extends Smart.Window{static get properties(){return{completeLabel:{value:"Continue",type:"string"},disableSnap:{value:!0,readOnly:!0,type:"boolean"},headerButtons:{value:["close"],type:"array"},indeterminate:{value:!1,type:"boolean"},inverted:{value:!1,type:"boolean"},formatFunction:{value:null,type:"function"},max:{value:100,type:"number"},modal:{value:!0,readOnly:!0,type:"boolean",defaultReflectToAttribute:!0},min:{value:0,type:"number"},showProgressValue:{value:!1,type:"boolean"},value:{value:0,type:"number?"}}}template(){return`<div id="container">
                    <div id="headerSection" class="smart-header-section">
                        <div id="header" class="smart-header">[[label]]</div>
                        <div id="buttonsContainer" class="smart-buttons-container">
                            <smart-button id="closeButton" class="smart-close-button" animation="[[animation]]" theme="[[theme]]"></smart-button>
                        </div>
                    </div>
                    <div class="smart-content" inner-h-t-m-l="[[innerHTML]]">
                        <content></content>
                    </div>
                    <div id="footer" class="smart-footer">
                        <smart-progress-bar id="progressBar"
                            animation="[[animation]]"
                            min="[[min]]"
                            max="[[max]]"
                            indeterminate="[[inditerminate]]"
                            inverted="[[inverted]]"
                            format-function="[[formatFunction]]"
                            show-progress-value="[[showProgressValue]]"
                            theme="[[theme]]"
                            value="{{value}}">
                        </smart-progress-bar>
                        <smart-button id="completeButton" class="smart-complete-button smart-visibility-hidden" animation="[[animation]]" theme="[[theme]]">[[completeLabel]]</smart-button>
                    </div>
                </div>`}static get requires(){return{"Smart.ProgressBar":"smart.progressbar.js"}}propertyChangedHandler(e,t,a){const i=this;switch(e){case"value":i._handleCompletion();break;default:super.propertyChangedHandler(e,t,a);}}_createElement(){const e=this;e._handleCompletion()}_handleCompletion(){const e=this;e.$.completeButton&&(e.value>=e.max?(e.$completeButton.removeClass("smart-visibility-hidden"),e.$progressBar.addClass("smart-visibility-hidden")):(e.$completeButton.addClass("smart-visibility-hidden"),e.$progressBar.removeClass("smart-visibility-hidden")))}_keyDownHandler(e){function t(){a._dragDetails&&(a._dragDetails.started=!1),a.$.removeClass("no-transition")}const a=this;if(delete a._changingFocus,!(a.disabled||a._dragDetails&&a._dragDetails.started)){e.stopPropagation();const i="ArrowDown"===e.key||"ArrowRight"===e.key?10:-10,o=a.enableShadowDOM&&a._windowParent.element.getRootNode()?a._windowParent.element.getRootNode().activeElement:document.activeElement;switch(a.$.removeClass("no-transition"),e.key){case"ArrowUp":case"ArrowDown":if(o!==a)return;if(e.preventDefault(),e.altKey)return"ArrowUp"===e.key?a.maximize():a.restore(),void t();if(a.$.addClass("no-transition"),e.ctrlKey)return a._resize("bottom",i),void t();a._drag(i,"vertical"),a.$.removeClass("no-transition");break;case"ArrowLeft":case"ArrowRight":if(o!==a)return;if(e.preventDefault(),a.$.addClass("no-transition"),e.ctrlKey)return a._resize("right",i),void t();a._drag(i,"horizontal"),a.$.removeClass("no-transition");break;case"Escape":-1<a.headerButtons.indexOf("close")&&o===a&&a.close();break;case"Tab":a.opened&&a.modal&&(a._changingFocus=!0);break;case"Enter":case" ":{let t;if(a.shadowRoot||a.isInShadowDOM?(t=e.composedPath()[0],a._buttonPressed=t.getRootNode().host):(t=e.target.closest&&e.target.closest("smart-button"),a._buttonPressed=t),!t)return;a._isWindowButton(t),delete a._buttonPressed;break}}t()}}}),Smart("smart-tabs-window",class extends Smart.Window{static get properties(){return{disableSnap:{value:!0,readOnly:!0,type:"boolean"},dropPosition:{value:["all"],type:"array"},addNewTab:{value:!1,type:"boolean"},allowToggle:{value:!1,type:"boolean"},autoHide:{value:!1,type:"boolean"},autoHideWindow:{value:null,type:"any"},dataSource:{value:null,type:"array?",reflectToAttribute:!1},tabCloseButtonMode:{value:"default",allowedValues:["default","selected"],type:"string"},tabCloseButtons:{value:!1,type:"boolean"},messages:{value:{en:{ambiguousIndexes:"smart-tabs: Initially set smart-tab-item indexes are ambiguous and are ignored in favour of the HTML structure.",detailsObjectRequired:"smart-tabs: The method \"insert\" requires a details Object to be passed as a second argument.",invalidIndex:"smart-tabs: \"{{method}}\" method accepts an index of type number.",referenceNodeNotChild:"smart-tabs: Passed {{argument}} is not part of this smart-tabs element.",tabItemRequired:"smart-tabs: The method \"{{method}}\" requires a \"smart-tab-item\" element to be passed as an argument."}},type:"object",extend:!0},tabOverflow:{value:"auto",allowedValues:["auto","hidden","scroll"],type:"string"},tabReorder:{value:!1,type:"boolean"},tabResize:{value:!1,type:"boolean"},tabScrollButtonsPosition:{value:"both",allowedValues:["near","far","both"],type:"string"},selectedIndex:{value:null,type:"number?"},selectionMode:{value:"click",allowedValues:["click","dblclick","mouseenter","none"],type:"string"},collapsed:{value:!1,type:"boolean"},collapsible:{value:!1,type:"boolean"},locked:{value:!1,type:"boolean"},max:{value:"",type:"any"},min:{value:"",type:"any"},size:{value:"",type:"any"},tabLayout:{value:"scroll",allowedValues:["scroll","dropdown","wrap","shrink"],type:"string",defaultReflectToAttribute:!0},tabPosition:{value:"top",allowedValues:["top","bottom","left","right","hidden"],type:"string"},tabTextOrientation:{value:"horizontal",allowedValues:["horizontal","vertical"],type:"string"},layout:{value:null,type:"any"}}}static get listeners(){return{"tabsElement.blur":"_tabsFocusHandler","tabsElement.change":"_tabsChangeHandler","tabsElement.focus":"_tabsFocusHandler","autoHideWindow.close":"_autoHideWindowCloseHandler","autoHideWindow.open":"_autoHideWindowOpenHandler"}}template(){return`<div id="container">
                    <div id="headerSection" class="smart-header-section">
                        <div id="header" class="smart-header">[[label]]</div>
                        <div id="buttonsContainer" class="smart-buttons-container">
                            <smart-button id="minimizeButton" class="smart-minimize-button" animation="[[animation]]" theme="[[theme]]"></smart-button>
                            <smart-button id="maximizeButton" class="smart-maximize-button" animation="[[animation]]" theme="[[theme]]"></smart-button>
                            <smart-button id="closeButton" class="smart-close-button" animation="[[animation]]" theme="[[theme]]"></smart-button>
                        </div>
                    </div>
                    <div id="contentSection" class="smart-content">
                       <smart-tabs id="tabsElement"
                            animation="[[animation]]"
                            add-new-tab="[[addNewTab]]"
                            allow-toggle="[[allowToggle]]"
                            close-button-mode="[[tabCloseButtonMode]]"
                            close-buttons="[[tabCloseButtons]]"
                            disabled="[[disabled]]"
                            overflow="[[tabOverflow]]"
                            reorder="[[tabReorder]]"
                            resize="[[tabResize]]"
                            scroll-buttons-position="[[tabScrollButtonsPosition]]"
                            selected-index="{{selectedIndex}}"
                            selection-mode="[[selectionMode]]"
                            tab-layout="[[tabLayout]]"
                            tab-position="[[tabPosition]]"
                            tab-text-orientation="[[tabTextOrientation]]"
                            theme="[[theme]]">
                            <content></content>
                        </smart-tabs>
                    </div>
                    <div id="footer" class="smart-footer smart-hidden"></div>
                </div>`}static get requires(){return{"Smart.Tabs":"smart.tabs.js"}}appendChild(e){const t=this;if(!t.isCompleted||e instanceof HTMLElement&&e.classList.contains("smart-resize-trigger-container")){const e=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(t,e.concat(Array.prototype.slice.call(arguments)))}return e?void(!(e instanceof Smart.TabItem)&&t.error(t.localize("tabItemRequired",{method:"removeChild"})),t.$.tabsElement.appendChild(e)):void t.error(t.localize("invalidNode",{elementType:t.nodeName.toLowerCase(),method:"appendChild",node:"node"}))}insert(e,t){this.$.tabsElement.insert(e,t)}insertBefore(e,t){this.$.tabsElement.insertBefore(e,t)}remove(e){this.$.tabsElement.remove(e)}removeChild(e){const t=this;if(!t.isCompleted||e instanceof HTMLElement&&e.classList.contains("smart-resize-trigger-container")){const e=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(t,e.concat(Array.prototype.slice.call(arguments)))}return e?void(!(e instanceof Smart.TabItem)&&t.error(t.localize("tabItemRequired",{method:"removeChild"})),!(t.shadowRoot||t).contains(e)&&t.error(t.localize("referenceNodeNotChild",{argument:"node"})),t.$.tabsElement.removeChild(e)):void t.error(t.localize("invalidNode",{elementType:t.nodeName.toLowerCase(),method:"removeChild",node:"node"}))}refreshTabHeader(){const e=this;e.$.tabsElement&&e.$.tabsElement.isCompleted&&e.$.tabsElement.refreshTabHeader()}refreshTabs(){const e=this;e.$.tabsElement&&e.$.tabsElement.isCompleted&&e.$.tabsElement._applyTabOverflow()}select(e){this.$.tabsElement.select(e)}update(e,t,a){this.$.tabsElement.update(e,t,a)}get items(){const e=this;return e.isCompleted&&e.$.tabsElement?this.$.tabsElement._tabs:void 0}get itemLabels(){const e=this;return e.$?this.$.tabsElement._tabLabelContainers:void 0}get siblings(){const e=this;let t=[];if(!e.isCompleted)return t;const a=e.closest("smart-splitter");if(!a||!a.closest("smart-docking-layout"))return t;const i=a._items;if(!i||!i.length)return t;for(let o=0;o<i.length;o++){const n=i[o];if(n!==e.closest("smart-splitter-item")){const e=n.querySelector("smart-tabs-window");e.closest("smart-splitter")===a&&t.push(n.querySelector("smart-tabs-window"))}}return t}propertyChangedHandler(e,t,a){const i=this;switch("collapsed"!==e&&super.propertyChangedHandler(e,t,a),e){case"theme":""!==t&&(i.$.closeButton.classList.remove(t),i.$.collapseButton.classList.remove(t),i.$.maximizeButton.classList.remove(t),i.$.pinButton.classList.remove(t)),i._applyTheme(a);break;case"autoHideWindow":i._handleAutoHideWindow();break;case"autoHide":a||(null!==i.$.tabsElement.selectedIndex&&(i.$.tabsElement._tabs[i.$.tabsElement.selectedIndex]._autoHideWindowSize=void 0),i._autoHideWindow&&i._autoHideWindow.close());break;case"dataSource":i.$.tabsElement.dataSource=a;break;case"layout":i._handleLayoutProperty();break;case"collapsible":case"collapsed":case"locked":case"max":case"min":case"size":{const o=(i.isInShadowDOM?i.getRootNode().host:i||i).closest("smart-docking-layout"),n=i.closest("smart-splitter-item");if(!o)return void("collapsed"===e&&super.propertyChangedHandler(e,t,a));n&&(n[e]=a);break}}}_applyTheme(e){const t=this;if(""!==e){const a=t.$.buttonsContainer.children;for(let t=0;t<a.length;t++)a[t].classList.add(e)}}_autoHideWindowCloseHandler(){const e=this;e.allowToggle&&null!==e.$.tabsElement.selectedIndex&&e.$.tabsElement.select(e.$.tabsElement.selectedIndex),e._autoHideWindow&&e._moveContent(e._autoHideWindow.items[0],e._autoHideWindow._tab)}_autoHideWindowOpenHandler(){const e=this;e.$.tabsElement.selectedIndex&&e._handleAutoHide(e.$.tabsElement.selectedIndex)}_createElement(){const e=this;e.$.tabsElement.$.tabHeaderControls&&!e.$.tabsElement.$.tabHeaderControls.innerHTML&&e.$.tabsElement.$tabHeaderControls.addClass("smart-hidden"),e.$.tabsElement.dataSource=e.dataSource,e._applyTheme(e.theme),e._handleAutoHideWindow(),e.autoHide&&e._handleAutoHide(e.$.tabsElement.selectedIndex),e.allowToggle||e.selectedIndex||null===e.$.tabsElement.selectedIndex||(e.selectedIndex=e.$.tabsElement.selectedIndex,e.$.tabsElement.setAttribute("selected-index",e.selectedIndex)),e._handleLayoutProperty();const t=(e.isInShadowDOM?e.getRootNode().host:e||e).closest("smart-docking-layout"),a=e.closest("smart-splitter-item");t&&a&&(a.collapsible=e.collapsible,a.collapsed=e.collapsed,a.min=e.min,a.max=e.max,a.size=e.size,a.locked=e.locked)}_handleLayoutProperty(){const e=this;let t=e.closest("smart-docking-layout");if(Smart.DockingLayout){if(!e.ownerLayout&&e.getRootNode())for(let a=e.getRootNode().host;a;){if(!a.closest)return;if(a.closest("smart-docking-layout")){t=a.closest("smart-docking-layout");break}a=a.getRootNode()?a.getRootNode().host:void 0}return t?void(e.layout=t):void(e.layout instanceof Smart.DockingLayout||"string"==typeof e.layout&&(e.layout=document.getElementById(e.layout)))}}_headerDblCickHandler(e){const t=this,a=t.shadowRoot||t.isInShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target;e.ctrlKey||a!==t.$.headerSection&&a!==t.$.header||t.$.maximizeButton&&0===t.$.maximizeButton.offsetHeight||(t.maximized?t.restore():t.maximize())}_documentUpHandler(e){const t=this;let a=e.originalEvent.target.closest?e.originalEvent.target.closest(".smart-window"):e.originalEvent.target,i=a===t||a===t._autoHideWindow||t._isAutoHideWindowClicked,o=t.closest("smart-docking-layout");return((t.shadowRoot||t.isInShadowDOM)&&(a=e.originalEvent.composedPath()[0],i=a.getRootNode()===t.shadowRoot||a.closest(".smart-window")===t||a.closest(".smart-window")===t._autoHideWindow||t._isAutoHideWindowClicked),o=((t.isInShadowDOM?t.getRootNode().host:t)||t).closest("smart-docking-layout"),o&&o.disabled)?void delete t._isWindowContentClicked:void(super._documentUpHandler(e),delete t._isAutoHideWindowClicked,t.autoHide&&t._autoHideWindow&&(i&&t._autoHideWindow.opened||(t.selectedIndex=null,t._autoHideWindow.parentElement&&t._autoHideWindow.parentElement.closest(".smart-window")===t&&t._autoHideWindow.close())))}_handleAutoHide(e){const t=this;if(t.autoHide&&null!==e&&(t._autoHideWindow||t._handleAutoHideWindow(!0),!!t._autoHideWindow)){t._autoHideWindow._tabsWindow&&t._autoHideWindow._tabsWindow!==t&&(t._autoHideWindow._tabsWindow.selectedIndex=null);const a=t.$.tabsElement._tabs[e];t._autoHideWindow._tab!==a&&t._moveContent(t._autoHideWindow.items[0],t._autoHideWindow._tab),t._autoHideWindow.label=a.label,t._autoHideWindow.draggable=a.draggable,t._autoHideWindow.floatable=a.floatable,t._autoHideWindow._tab=a,t._moveContent(t._autoHideWindow._tab,t._autoHideWindow.items[0]),t._autoHideWindow.bringToFront(),t._setAutoHideWindowSize(e),t._autoHideWindow.open(),t._autoHideWindow._tabsWindow=t}}_moveHandler(e){const t=this,a=t.closest("smart-docking-layout");if(a){const e=a.items;if(-1<e.indexOf(t))return}Smart.Utilities.Core.isMobile&&!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)&&t.layout instanceof Smart.DockingLayout&&t.layout.hasAttribute("dragged")&&e.originalEvent.preventDefault(),super._moveHandler(e)}_setAutoHideWindowSize(e){var t=Math.min;const a=this;if(a._autoHideWindow){a._autoHideWindow.$.addClass("no-transition"),a._autoHideWindow.style.maxWidth=a._autoHideWindow.style.maxHeight="";const i=a.$.tabsElement._tabs[e],o=(a._autoHideWindow.isInShadowDOM?a._autoHideWindow.getRootNode().host:a._autoHideWindow).closest("smart-docking-layout")||a._autoHideWindow.parentElement,n=o.getBoundingClientRect(),s=a.$.tabsElement.getBoundingClientRect();if(i){if("top"===a.tabPosition||"bottom"===a.tabPosition){a._autoHideWindow.resizeMode="top"===a.tabPosition?"bottom":"top",a._autoHideWindow.style.width=a.$.tabsElement.offsetWidth+"px";let e=i._autoHideWindowSize?parseFloat(i._autoHideWindowSize)||"":"";Smart.DockingLayout&&o instanceof Smart.DockingLayout&&(e&&(e=t(o.$.itemsContainer.offsetHeight,e)+"px"),a._autoHideWindow.style.maxHeight=o.$.itemsContainer.offsetHeight+"px"),a._autoHideWindow.style.height=e,a._autoHideWindow.style.left=s.left-n.left+"px",a._autoHideWindow&&("top"===a.tabPosition?a._autoHideWindow.style.top=s.top+-n.top+s.height+"px":a._autoHideWindow.style.top=s.top-n.top-a._autoHideWindow.offsetHeight+"px")}else{a._autoHideWindow.resizeMode="left"===a.tabPosition?"right":"left",a._autoHideWindow.style.height=a.$.tabsElement.offsetHeight+"px";let e=i._autoHideWindowSize?parseFloat(i._autoHideWindowSize)||"":"";o instanceof Smart.DockingLayout&&(e&&(e=t(o.$.itemsContainer.offsetWidth,e)+"px"),a._autoHideWindow.style.maxWidth=o.$.itemsContainer.offsetWidth+"px"),a._autoHideWindow.style.width=e,a._autoHideWindow.style.top=s.top-n.top+"px",a._autoHideWindow.style.left="left"===a.tabPosition?s.left-n.left+a.$.tabsElement.offsetWidth+"px":s.left-n.left-a._autoHideWindow.offsetWidth+"px"}a._autoHideWindow._dragDetails&&(a._autoHideWindow._dragDetails.maxWidth=void 0),a._autoHideWindow._setDragDetails("resize"),a._autoHideWindow._dragDetails.started=!1,a._autoHideWindow.$.removeClass("no-transition")}}}_handleAutoHideWindow(e){const t=this;if(t.autoHideWindow){if(t._autoHideWindow&&t._autoHideWindow.parentElement.removeChild(t._autoHideWindow),"string"==typeof t.autoHideWindow)return void(t._autoHideWindow=document.getElementById(t.autoHideWindow));if(t.autoHideWindow instanceof Smart.Window)return void(t._autoHideWindow=t.autoHideWindow)}if(!(!e||t._autoHideWindow||2===t.$.contentSection.children.length&&t.$.contentSection.children[1]instanceof Smart.Window)){const e=document.createElement("smart-window");e.$=Smart.Utilities.Extend(e),e.disableSnap=e.pinned=!0,e.headerButtons=["close"],t.$.contentSection.appendChild(e),t._autoHideWindow=e}}_moveContent(e,t){if(e&&t){const a=[].slice.call(e.$.content.childNodes);for(let e=0;e<a.length;e++)t.appendChild(a[e])}}_tabsChangeHandler(e){const t=this;if(e.target===t.$.tabsElement&&t.autoHide){if(t._autoHideWindow||t._handleAutoHideWindow(!0),null!==e.detail.oldIndex&&t._autoHideWindow.opened){const a=t.$.tabsElement._tabs[e.detail.oldIndex];a._autoHideWindowSize=t._autoHideWindow.style["right"===t.$.tabsElement.tabPosition||"left"===t.$.tabsElement.tabPosition?"width":"height"]}return t.autoHide&&null!==e.detail.index&&void 0!==e.detail.index?void t._handleAutoHide(e.detail.index):(t._autoHideWindow.setAttribute("active",""),void t._autoHideWindow.close())}}_tabsFocusHandler(e){const t=this;"focus"===e.type?(t.bringToFront(),t.setAttribute("focus","")):t.removeAttribute("focus")}}),Smart("smart-wait-window",class extends Smart.ProgressWindow{static get properties(){return{headerButtons:{value:[],type:"array"},disableSnap:{value:!0,readOnly:!0,type:"boolean"},modal:{value:!0,readOnly:!0,type:"boolean",defaultReflectToAttribute:!0},pinned:{value:!0,type:"boolean",readOnly:!0}}}template(){return`<div id="container">
                    <div id="headerSection" class="smart-header-section">
                        <div id="header" class="smart-header">[[label]]</div>
                        <div id="buttonsContainer" class="smart-buttons-container">
                            <smart-button id="closeButton" class="smart-close-button" animation="[[animation]]" theme="[[theme]]"></smart-button>
                        </div>
                    </div>
                    <div class="smart-content">
                        <content></content>
                        <smart-progress-bar id="progressBar" animation="[[animation]]" indeterminate theme="[[theme]]"></smart-progress-bar>
                    </div>
                    <div id="footer" class="smart-footer"></div>
                </div>`}_keyDownHandler(e){function t(){a._dragDetails&&(a._dragDetails.started=!1),a.$.removeClass("no-transition")}const a=this;if(delete a._changingFocus,!(a.disabled||a._dragDetails&&a._dragDetails.started)){const i=a.shadowRoot||a._windowParent.element.getRootNode()?a._windowParent.element.getRootNode().activeElement:document.activeElement;e.stopPropagation();const o="ArrowDown"===e.key||"ArrowRight"===e.key?10:-10;switch(a.$.removeClass("no-transition"),e.key){case"ArrowUp":case"ArrowDown":if(i!==a)return;if(e.preventDefault(),e.altKey)return"ArrowUp"===e.key?a.maximize():a.restore(),void t();if(a.$.addClass("no-transition"),e.ctrlKey)return a._resize("bottom",o),void t();a._drag(o,"vertical");break;case"ArrowLeft":case"ArrowRight":if(i!==a)return;if(e.preventDefault(),a.$.addClass("no-transition"),e.ctrlKey)return a._resize("right",o),void t();a._drag(o,"horizontal");break;case"Tab":a.opened&&a.modal&&(a._changingFocus=!0);break;case"Enter":case" ":{let t;if(a.shadowRoot||a.isInShadowDOM?(t=e.composedPath()[0],a._buttonPressed=t.getRootNode().host):(t=e.target.closest&&e.target.closest("smart-button"),a._buttonPressed=t),!t)return;a._isWindowButton(t),delete a._buttonPressed;break}}t()}}});