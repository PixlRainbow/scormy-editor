
/* Smart HTML Elements v4.6.0 (2019-Oct) 
Copyright (c) 2011-2019 jQWidgets. 
License: https://htmlelements.com/license/ */

Smart("smart-grid",class extends Smart.ScrollViewer{static get properties(){return{appearance:{value:{allowColumnFixing:{value:!1,type:"boolean"},alternationStart:{value:0,type:"int"},alternationEnd:{value:0,type:"int"},alternationCount:{value:0,type:"int"},allowHover:{value:!1,type:"boolean",defaultReflectToAttribute:!0},allowHeaderHover:{value:!0,type:"boolean",defaultReflectToAttribute:!0},allowRowToggleAnimation:{value:!1,type:"boolean"},allowRowDetailToggleAnimation:{value:!1,type:"boolean"},allowSortAnimation:{value:!1,type:"boolean"},allowColumnLabelAnimation:{value:!0,type:"boolean"},allowCheckBoxesSelectionAnimation:{value:!0,type:"boolean"},allowColumnMenuAnimation:{value:!0,type:"boolean"},allowColumnSortButtonAnimation:{value:!0,type:"boolean"},allowColumnActionButtonAnimation:{value:!0,type:"boolean"},allowColumnFilterButtonAnimation:{value:!0,type:"boolean"},allowColumnStickyPosition:{value:!1,type:"boolean"},autoShowColumnSortButton:{value:!0,type:"boolean"},autoShowColumnActionButton:{value:!0,type:"boolean"},autoGenerateRowLabelMode:{value:"number",type:"string"},autoGenerateColumnLabelMode:{value:"letter",type:"string"},autoShowColumnFilterButton:{value:!0,type:"boolean"},displayLoadingIndicator:{value:!1,type:"boolean"},loadingIndicatorPlaceholder:{value:"Loading...",type:"string"},placeholder:{value:"No Rows",type:"string"},sortAnimationDuration:{value:500,type:"number"},showRowHeader:{value:!1,type:"boolean"},showRowHeaderNumber:{value:!1,type:"boolean"},showRowHeaderEditIcon:{value:!0,type:"boolean",defaultReflectToAttribute:!0},showRowHeaderSelectIcon:{value:!1,type:"boolean"},showRowHeaderFocusIcon:{value:!1,type:"boolean"},showColumnHeaderLines:{value:!0,type:"boolean",defaultReflectToAttribute:!0},showColumnLines:{value:!0,type:"boolean",defaultReflectToAttribute:!0},showRowLines:{value:!0,type:"boolean",defaultReflectToAttribute:!0},showFilterColumnBackground:{value:!0,type:"boolean"},showSortColumnBackground:{value:!0,type:"boolean"},showFrozenColumnBackground:{value:!0,type:"boolean"},showFrozenRowBackground:{value:!0,type:"boolean"},showColumnSortButton:{value:!0,type:"boolean"},showColumnFilterButton:{value:!0,type:"boolean"},showColumnDescriptionButton:{value:!1,type:"boolean"},showColumnIcon:{value:!1,type:"boolean"},showColumnCustomButton:{value:!1,type:"boolean"},showColumnActionButton:{value:!0,type:"boolean"},showTooltips:{value:!1,type:"boolean"},showResizeTooltips:{value:!0,type:"boolean"},showHorizontalScrollBarOnFixedColumns:{value:!1,type:"boolean"},showVerticalScrollBarOnFixedColumns:{value:!1,type:"boolean"}},type:"object"},behavior:{value:{allowColumnAutoSizeOnDoubleClick:{value:!0,type:"boolean"},allowRowAutoSizeOnDoubleClick:{value:!0,type:"boolean"},allowColumnReorder:{value:!1,type:"boolean"},allowRowReorder:{value:!1,type:"boolean"},doubleClickTimingDelay:{value:300,type:"number"},columnResizeMode:{value:"none",type:"string",allowedValues:["none","split","growAndShrink"]},rowResizeMode:{value:"none",type:"string",allowedValues:["none","split","growAndShrink"]}},type:"object"},layout:{value:{allowCellsWrap:{value:!1,type:"boolean"},autoGenerateColumnWidth:{value:null,type:"number?"},columnWidth:{value:null,type:"any",reflectToAttribute:!1},columnHeight:{value:null,type:"any",reflectToAttribute:!1},columnMinHeight:{value:30,type:"any",reflectToAttribute:!1},loadingIndicatorPosition:{value:"center",allowedValues:["bottom","center","top"],type:"string"},rowMinHeight:{value:30,type:"number"},rowHeight:{value:null,type:"any",reflectToAttribute:!1}},type:"object"},dataExport:{value:{header:{value:!0,type:"boolean"},filterBy:{value:null,type:"object"},groupBy:{value:null,type:"object"},style:{value:null,type:"object"},fileName:{value:"smartGrid",type:"string"},pageOrientation:{value:"portrait",type:"string"},expandChar:{value:"+",type:"string"},collapseChar:{value:"-",type:"string"},view:{value:!1,type:"boolean"}},type:"object"},clipboard:{value:{enabled:{value:!0,type:"boolean"},autoFillMode:{value:"copy",allowedValues:["none","copy","fillSeries"],type:"string"},onPasteValue:{value:null,type:"any"}},type:"object"},columns:{value:[],type:"any",reflectToAttribute:!1},columnChooser:{value:{allowSearch:{value:!1,type:"boolean"},visible:{value:!1,type:"boolean"},label:{value:"Column Chooser",type:"string"},mode:{value:"dragAndDrop",type:"string",allowedValues:["select","dragAndDrop"]},placeholder:{value:"Drag a column here to hide it",type:"string"},width:{value:250,type:"number"},height:{value:200,type:"number"}},type:"object"},columnMenu:{value:{autoClose:{value:!0,type:"boolean"},dataSource:{value:{columnMenuCustomizeType:{command:"customizeTypeCommand",enabled:!0,visible:!1,icon:"smart-icon-customize",label:"{{messages}}"},columnMenuItemRename:{command:"renameCommand",enabled:!0,visible:!1,icon:"smart-icon-rename",label:"{{messages}}"},columnMenuItemEditDescription:{command:"editDescriptionCommand",enabled:!0,visible:!1,icon:"smart-icon-info-circled",label:"{{messages}}"},columnMenuItemDuplicate:{command:"duplicateCommand",visible:!1,enabled:!0,icon:"smart-icon-duplicate",label:"{{messages}}"},columnMenuItemInsertLeft:{command:"insertLeftCommand",visible:!1,enabled:!0,icon:"smart-icon-insert-left",label:"{{messages}}"},columnMenuItemInsertRight:{command:"insertRightCommand",visible:!1,enabled:!0,icon:"smart-icon-insert-right",label:"{{messages}}"},columnMenuItemSortAsc:{command:"sortAscCommand",visible:"auto",enabled:!0,iconAlt:"smart-icon-sort-number-up",icon:"smart-icon-sort-name-up",label:"{{messages}}"},columnMenuItemSortDesc:{command:"sortDescCommand",visible:"auto",enabled:!0,iconAlt:"smart-icon-sort-number-down",icon:"smart-icon-sort-name-down",label:"{{messages}}"},columnMenuItemRemoveSort:{command:"removeSortCommand",visible:"auto",enabled:!0,icon:"smart-icon-cancel-circled",label:"{{messages}}"},columnMenuItemFilter:{command:"addFilterCommand",visible:"auto",enabled:!0,icon:"smart-icon-add-filter",label:"{{messages}}"},columnMenuItemRemoveFilter:{command:"removeFilterCommand",enabled:!0,visible:"auto",icon:"smart-icon-cancel-circled-outline",label:"{{messages}}"},columnMenuItemGroupBy:{command:"groupByCommand",enabled:!0,visible:"auto",icon:"smart-icon-object-group",label:"{{messages}}"},columnMenuItemRemoveGroupBy:{command:"removeGroupByCommand",visible:"auto",enabled:!0,icon:"smart-icon-object-ungroup",label:"{{messages}}"},columnMenuItemHide:{command:"hideColumnCommand",enabled:!0,visible:!1,icon:"smart-icon-hide",label:"{{messages}}"},columnMenuItemDelete:{command:"deleteColumnCommand",enabled:!0,visible:!1,icon:"smart-icon-delete",label:"{{messages}}"}},type:"object"},visible:{value:!1,type:"boolean"},width:{value:250,type:"number"},height:{value:null,type:"number?"}},type:"object"},columnGroups:{value:[],type:"array",reflectToAttribute:!1},charting:{value:{appendTo:{value:null,type:"any"},enabled:{value:!1,type:"boolean"},colorScheme:{value:"scheme01",type:"string"},description:{value:"",type:"string"},dialog:{value:{header:{value:"{{message}}",type:"string"},height:{value:400,type:"any"},width:{value:400,type:"any"},left:{value:"center",type:"any"},top:{value:"center",type:"any"},enabled:{value:!0,type:"boolean"},visible:{value:!1,type:"boolean"}},type:"object"},formatSettings:{value:{},type:"object"}},type:"object"},dataSource:{value:null,type:"object",reflectToAttribute:!1},grouping:{value:{enabled:{value:!1,type:"boolean",reflectToAttribute:!1},allowCollapse:{value:!1,type:"boolean",reflectToAttribute:!1},autoExpandAll:{value:!1,type:"boolean",reflectToAttribute:!1},expandMode:{value:"buttonClick",type:"string",allowedValues:["buttonClick","rowClick"],reflectToAttribute:!1},groupRowHeight:{value:50,type:"any",reflectToAttribute:!1},toggleButtonIndent:{value:16,type:"number",reflectToAttribute:!1},groupIndent:{value:16,type:"number",reflectToAttribute:!1},groupBar:{value:{visible:{value:!1,type:"boolean",reflectToAttribute:!1},allowColumnDragDrop:{value:!1,type:"boolean",reflectToAttribute:!1},allowColumnCloseButtons:{value:!0,type:"boolean",reflectToAttribute:!1}},type:"object"},groupPanel:{value:{visible:{value:!1,type:"boolean",reflectToAttribute:!1}},type:"object"},summaryRow:{value:{inline:{value:!0,type:"boolean"},visible:{value:!0,type:"boolean"}},type:"object"}},type:"object"},messages:{extend:!0,value:{en:{invalidColumnProperty:"{{elementType}}: Invalid property name \"{{propertyName}}\" set for Column: \"{{type}}\"",invalidRowProperty:"{{elementType}}: Invalid property name \"{{propertyName}}\" set for Row\"",frozenColumns:"{{elementType}}: To Pin/Freeze a column group, all columns within it should be frozen.",frozenRows:"{{elementType}}: To Pin/Freeze a special cell, all rows within it should be frozen.",columnGroups:"{{elementType}}: Please, check the initialization of the smartGrid's columns array. The columns in a column group are expected to be siblings in the columns array.",min:"Min: {{value}}",max:"Max: {{value}} ",sum:"Sum: {{value}} ",avg:"Avg: {{value}} ",count:"Count: {{value}} ",pagerFirstButton:"First",pagerLastButton:"Last",pagerPreviousButton:"Previous",pagerNextButton:"Next",pagerNavigateToLabel:"Go to:",pagerPageSizeLabel:"Show:",pagerNavigateToInputPlaceholder:"",pagerEllipsis:"...",pagerSummaryString:"of",pagerSummaryPrefix:"of",pagerSummarySuffix:"",columnMenuCustomizeType:"Customize type",columnMenuItemRename:"Rename",columnMenuItemEditDescription:"Edit description",columnMenuItemDuplicate:"Duplicate",columnMenuItemInsertLeft:"Insert left",columnMenuItemInsertRight:"Insert right",columnMenuItemSortAsc:"Sort {{mode}}",columnMenuItemSortDesc:"Sort {{mode}}",columnMenuItemRemoveSort:"Remove Sort",columnMenuItemFilter:"Filter",columnMenuItemRemoveFilter:"Remove Filter",columnMenuItemGroupBy:"Group by this column",columnMenuItemRemoveGroupBy:"Remove Group",columnMenuItemHide:"Hide",columnMenuItemDelete:"Delete",columnResizeTooltip:"width: {{value}}px",rowResizeTooltip:"height: {{value}}px",commandBarAddRow:"Add",commandBarDeleteRow:"Delete",commandBarBatchRevert:"Revert",commandBarBatchSave:"Save",commandColumnEdit:"Edit",commandColumnDelete:"Delete",commandColumnCancel:"Cancel",commandColumnUpdate:"Update",commandColumnMenu:"",addNewRow:"Click here to add a new row",dialogChartHeader:"{{value}} Chart",dialogRowDetailHeader:"Row Id: {{value}}",dialogRowDetailButtonConfirm:"OK",dialogRowDetailButtonCancel:"CANCEL",dialogEditHeader:"Edit {{value}}",dialogAddButtonConfirm:"ADD",dialogAddButtonCancel:"CANCEL",dialogEditButtonConfirm:"OK",dialogEditButtonCancel:"CANCEL",dialogDeleteButtonConfirm:"DELETE",dialogDeleteButtonCancel:"CANCEL",dialogAddHeader:"Add Row",dialogDeleteHeader:"Delete Row",dialogDeleteContent:"Are you sure you want to delete this row?"}},type:"object"},onCellValue:{value:null,type:"any",reflectToAttribute:!1},onBeforeInit:{value:null,type:"any",reflectToAttribute:!1},onInit:{value:null,type:"any",reflectToAttribute:!1},onAfterInit:{value:null,type:"any",reflectToAttribute:!1},onKey:{value:null,type:"any",reflectToAttribute:!1},onRender:{value:null,type:"any",reflectToAttribute:!1},onChartInit:{value:null,type:"any",reflectToAttribute:!1},onRowInit:{value:null,type:"any",reflectToAttribute:!1},onRowDetailInit:{value:null,type:"any",reflectToAttribute:!1},onRowDetailUpdated:{value:null,type:"any",reflectToAttribute:!1},onRowInserted:{value:null,type:"any",reflectToAttribute:!1},onRowRemoved:{value:null,type:"any",reflectToAttribute:!1},onRowUpdated:{value:null,type:"any",reflectToAttribute:!1},onColumnInit:{value:null,type:"any",reflectToAttribute:!1},onColumnInserted:{value:null,type:"any",reflectToAttribute:!1},onColumnRemoved:{value:null,type:"any",reflectToAttribute:!1},onColumnUpdated:{value:null,type:"any",reflectToAttribute:!1},onCommand:{value:null,reflectToAttribute:!1,type:"any"},filtering:{value:{enabled:{value:!1,type:"boolean"},filter:{value:[],type:"array",reflectToAttribute:!1},filterRow:{value:{visible:{value:!1,type:"boolean"},menuVisible:{value:!1,type:"boolean"},applyMode:{value:"auto",type:"string",allowedValues:["auto","click"]},autoApplyModeDelay:{value:300,type:"number"}},type:"object"},filterMenu:{value:{visible:{value:!0,type:"boolean"},buttons:{value:["cancel","clear","filter"],type:"array"},dataSource:{value:null,type:"any"},width:{value:250,type:"number"},height:{value:200,type:"number"}},type:"object"},filterBuilder:{value:{visible:{value:!1,type:"boolean"},height:{value:null,type:"number?"}},type:"object"}},type:"object"},editing:{value:{allowRowHeaderEdit:{value:!1,type:"any"},allowColumnHeaderEdit:{value:!1,type:"any"},active:{value:!1,readonly:!0,type:"boolean"},enabled:{value:!1,type:"boolean"},batch:{value:!1,type:"any"},action:{value:"click",type:"string",allowedValues:["none","click","doubleClick"]},commandKeys:{value:{commandKeyEdit:{value:{command:"commandKeyEditCommand",key:"F2"},type:"object"},commandKeyCancel:{value:{command:"commandKeyCancelCommand",key:"Escape"},type:"object"},commandKeyUpdate:{value:{command:"commandKeyUpdateCommand",key:"Enter | Tab"},type:"object"}},type:"object"},commandBar:{value:{visible:{value:!1,type:"boolean"},position:{value:"near",allowedValues:["near","far","both"],type:"string"},displayMode:{value:"labelAndIcon",allowedValues:["label","icon","labelAndIcon"],type:"string"},dataSource:{value:{commandBarAddRow:{value:{command:{value:"commandBarAddRowCommand",type:"any"},icon:{value:"smart-icon-plus",type:"string"},label:{value:"{{messages}}",type:"string"},visible:{value:!1,type:"any"}},type:"object"},commandBarDeleteRow:{value:{command:{value:"commandBarDeleteRowCommand",type:"any"},icon:{value:"smart-icon-delete",type:"string"},label:{value:"{{messages}}",type:"string"},visible:{value:!1,type:"any"}},type:"object"},commandBarBatchSave:{value:{command:{value:"commandBarBatchSaveCommand",type:"any"},icon:{value:"smart-icon-ok-squared",type:"string"},label:{value:"{{messages}}",type:"string"},visible:{value:!0,type:"any"}},type:"object"},commandBarBatchRevert:{value:{command:{value:"commandBarBatchRevertCommand",type:"any"},icon:{value:"smart-icon-ccw",type:"string"},label:{value:"{{messages}}",type:"string"},visible:{value:!0,type:"any"}},type:"object"}},type:"object"}},type:"object"},commandColumn:{value:{visible:{value:!1,type:"boolean"},inline:{value:!1,type:"boolean"},position:{value:"far",allowedValues:["near","far"],type:"string"},displayMode:{value:"icon",allowedValues:["label","icon","labelAndIcon"],type:"string"},dataSource:{value:{commandColumnMenu:{value:{command:{value:"commandColumnMenuCommand",type:"any"},icon:{value:"smart-icon-menu",type:"string"},label:{value:"{{messages}}",type:"string"},visible:{value:!1,type:"any"}},type:"object"},commandColumnEdit:{value:{command:{value:"commandColumnEditCommand",type:"any"},icon:{value:"smart-icon-rename",type:"string"},label:{value:"{{messages}}",type:"string"},visible:{value:"auto",type:"any"}},type:"object"},commandColumnDelete:{value:{command:{value:"commandColumnDeleteCommand",type:"any"},icon:{value:"smart-icon-delete",type:"string"},label:{value:"{{messages}}",type:"string"},visible:{value:!0,type:"any"}},type:"object"},commandColumnUpdate:{value:{command:{value:"commandColumnUpdateCommand",type:"any"},icon:{value:"smart-icon-ok-squared",type:"string"},label:{value:"{{messages}}",type:"string"},visible:{value:"auto",type:"any"}},type:"object"},commandColumnCancel:{value:{command:{value:"commandColumnCancelCommand",type:"any"},icon:{value:"smart-icon-cancel-circled",type:"string"},label:{value:"{{messages}}",type:"string"},visible:{value:"auto",type:"any"}},type:"object"},commandColumnRowMenu:{value:{command:{value:"commandColumnRowMenuCommand",type:"any",reflectToAttribute:!1},icon:{value:"smart-icon-ellipsis-vert",type:"string"},label:{value:"{{messages}}",type:"string"},visible:{value:!1,type:"any"}},type:"object"},commandColumnCustom:{value:{command:{value:"",type:"any"},icon:{value:"smart-icon-ellipsis-vert",type:"string"},label:{value:"",type:"string"},visible:{value:!1,type:"any"}},type:"object"}},type:"object"},width:{value:null,type:"number?"}},reflectToAttribute:!1,type:"object"},mode:{value:"cell",allowedValues:["cell","row"],type:"string"},addNewRow:{value:{position:{value:"both",allowedValues:["near","far","both"],type:"string"},visible:{value:!1,type:"boolean"},autoCreate:{value:!1,type:"boolean"},autoSave:{value:!0,type:"boolean"},label:{value:"{{message}}",type:"string"},displayMode:{value:"row",allowedValues:["row","button"],type:"string"}},type:"object"},dialog:{value:{header:{value:"{{message}}",type:"string"},height:{value:"auto",type:"any"},width:{value:"auto",type:"any"},left:{value:"center",type:"any"},top:{value:"center",type:"any"},enabled:{value:!1,type:"boolean"},visible:{value:!1,type:"boolean"}},type:"object"},addDialog:{value:{header:{value:"{{message}}",type:"string"},height:{value:"auto",type:"any"},width:{value:"auto",type:"any"},left:{value:"center",type:"any"},top:{value:"center",type:"any"},enabled:{value:!1,type:"boolean"},visible:{value:!1,type:"boolean"}},type:"object"},deleteDialog:{value:{header:{value:"{{message}}",type:"string"},height:{value:"auto",type:"any"},width:{value:"auto",type:"any"},left:{value:"center",type:"any"},top:{value:"center",type:"any"},enabled:{value:!1,type:"boolean"},visible:{value:!1,type:"boolean"}},type:"object"}},type:"object"},paging:{value:{enabled:{value:!1,type:"boolean"},spinner:{value:{enabled:{value:!1,type:"boolean"},step:{value:1,type:"number"}},type:"object"},pageSize:{value:10,type:"int",validator:"pageSizeValidator"},pageIndex:{value:0,type:"int",validator:"pageIndexValidator"}},type:"object"},pager:{value:{autoEllipsis:{value:"both",allowedValues:["none","before","after","both"],type:"string"},position:{value:"far",allowedValues:["near","far","both"],type:"string"},template:{value:"",type:"string"},pageSizeSelector:{value:{visible:{value:!1,type:"boolean"},dataSource:{value:[10,20,50],type:"object"},position:{value:"far",allowedValues:["near","far"],type:"string"}},type:"object"},summary:{value:{position:{value:"far",allowedValues:["near","far"],type:"string"},visible:{value:!1,type:"boolean"}},type:"object"},navigationButtons:{value:{position:{value:"both",allowedValues:["near","far","both"],type:"string"},prevNextButtons:{value:{visible:{value:!0,type:"boolean"}},type:"object"},firstLastButtons:{value:{visible:{value:!0,type:"boolean"}},type:"object"},labels:{value:{visible:{value:!1,type:"boolean"}},type:"object"}},type:"object"},navigationInput:{value:{position:{value:"far",allowedValues:["near","far"],type:"string"},visible:{value:!1,type:"boolean"}},type:"object"},pageIndexSelectors:{value:{visible:{value:!0,type:"boolean"},dataSource:{value:10,type:"any"}},type:"object"},visible:{value:!1,type:"boolean"}},type:"object",reflectToAttribute:!1},rowDetail:{value:{enabled:{value:!1,type:"boolean"},height:{value:200,type:"number"},position:{value:"near",allowedValues:["near","far"],type:"string"},template:{value:"",type:"any",reflectToAttribute:!1},visible:{value:!0,type:"boolean"},dialog:{value:{header:{value:"{{message}}",type:"string"},height:{value:300,type:"any"},width:{value:360,type:"any"},left:{value:"center",type:"any"},top:{value:"center",type:"any"},enabled:{value:!1,type:"boolean"},visible:{value:!1,type:"boolean"}},type:"object"}},type:"object"},summaryRow:{value:{position:{value:"far",allowedValues:["near","far"],type:"string"},visible:{value:!1,type:"boolean"},template:{value:"",type:"string"}},type:"object"},scrolling:{value:"physical",allowedValues:["physical","virtual","infinite","deferred"],type:"string"},columnHeader:{value:{visible:{value:!0,type:"boolean"}},type:"object"},groupHeader:{value:{visible:{value:!1,type:"boolean"},template:{value:"",type:"string"}},type:"object"},header:{value:{visible:{value:!1,type:"boolean"},template:{value:"",type:"string"}},type:"object"},footer:{value:{visible:{value:!1,type:"boolean"},template:{value:"",type:"string"}},type:"object"},checkBoxes:{value:{visible:{value:!1,type:"boolean"},hasThreeStates:{value:!1,type:"boolean"}},type:"object"},selection:{value:{enabled:{value:!1,type:"boolean"},allowRowHeaderSelection:{value:!1,type:"boolean"},allowColumnHeaderSelection:{value:!1,type:"boolean"},allowRowSelection:{value:!0,type:"boolean"},allowCellSelection:{value:!1,type:"boolean"},allowDragSelection:{value:!0,type:"boolean"},allowDragSelectionAutoScroll:{value:!0,type:"boolean"},allowCellDragSelectionHandle:{value:!0,type:"boolean"},allowCellDragDropSelectionHandle:{value:!0,type:"boolean"},allowCellDragSelectionAutoFill:{value:!0,type:"boolean"},selectAllMode:{value:"page",allowedValues:["none","page","all"],type:"string"},mode:{value:"many",type:"string",allowedValues:["one","many","extended"]},action:{value:"click",type:"string",allowedValues:["none","click","doubleClick"]},checkBoxes:{value:{enabled:{value:!1,type:"boolean"},autoShow:{value:!1,type:"boolean"},action:{value:"click",type:"string",allowedValues:["none","click","doubleClick"]},selectAllMode:{value:"page",allowedValues:["none","page","all"],type:"string"},position:{value:"near",allowedValues:["near","far"],type:"string"}},type:"object"},selected:{value:"",type:"string"}},type:"object"},sorting:{value:{enabled:{value:!1,type:"boolean"},sort:{value:[],type:"array"},mode:{value:"one",allowedValues:["one","many"],type:"string"},sortToggleThreeStates:{value:!0,type:"boolean"}},type:"object"}}}static get requires(){return{}}static get styleUrls(){return["smart.grid.css","smart.textbox.css"]}template(){return`<div class=\'smart-container\'id=\'container\' disabled=\'[[disabled]]\' role=\'grid\'>
                <div id=\'header\' class=\'smart-grid-header smart-hidden\' ></div>
                <div id=\'groupHeader\' class=\'smart-grid-group-header smart-hidden\'></div>
                <div id=\'headerPager\' top class=\'smart-grid-pager smart-hidden\'></div>
                <div id=\'headerCommandBar\' header top class=\'smart-grid-header smart-grid-command-bar smart-hidden\'></div>
                 <div id=\'content\' class=\'smart-grid-content\'>
                    <div id=\'placeholder\' class =\'smart-hidden smart-placeholder smart-grid-placeholder\'></div>
                    <div id=\'columnHeader\' class=\'smart-grid-column-header\'>
                        <div id=\'columnNearContainer\' class=\'near smart-hidden smart-grid-column-header-cell-container\'>
                       </div>
                       <div id=\'columnContainer\' class=\'center smart-grid-column-header-cell-container\'>
                       </div>
                        <div id=\'columnFarContainer\' class=\'far smart-hidden smart-grid-column-header-cell-container\'>
                       </div>
                    </div>
                    <div id=\'scrollView' class =\'smart-grid-scroll-view\'>
                        <div id=\'rowNearContainer\' class=\'near smart-hidden smart-grid-row-container\'>
                        </div>
                         <div id=\'rowContainer\' class=\'center smart-grid-row-container\'>
                        </div>
                        <div id=\'rowFarContainer\' class=\'far smart-hidden smart-grid-row-container\'>
                        </div>
                        <smart-scroll-bar id=\'verticalScrollBar\' class=\'smart-grid-scroll-bar\' wait disabled=\'[[disabled]]\' orientation=\'vertical\'></smart-scroll-bar>
                        <smart-scroll-bar id=\'horizontalScrollBar\' class=\'smart-grid-scroll-bar\' wait disabled=\'[[disabled]]\'></smart-scroll-bar>
                    </div>
                  <div id=\'filterFooter\' class=\'smart-grid-filter-footer smart-hidden\'></div>
                </div>
                <div id=\'loadingIndicatorContainer\' class=\'smart-loader-container\'>
                    <span id=\'loadingIndicator\' class=\'smart-grid-loader smart-loader\'></span>
                    <span id=\'loadingIndicatorPlaceholder\' class =\'smart-loader-label smart-hidden\'></span>
                </div>
                <div id=\'footerCommandBar\' footer class=\'smart-grid-footer smart-grid-command-bar smart-hidden\'></div>
                <div id=\'footerPager\' class=\'smart-grid-pager smart-hidden\'></div>
                <div id=\'footer\' class=\'smart-grid-footer smart-hidden\'></div>
            </div>`}static get listeners(){return{focus:"_focusHandler",blur:"_blurHandler",wheel:"_mouseWheelHandler","document.up":"_upHandler","document.move":"_moveHandler","document.scroll":"_scrollHandler",keydown:"_keyDownHandler",keyup:"_keyUpHandler",resize:"_resizeHandler","columnHeader.down":"_columnDownHandler","columnHeader.move":"_columnMoveHandler","columnHeader.mouseleave":"_columnMouseLeaveHandler","rowNearContainer.down":"_rowDownHandler","rowContainer.down":"_rowDownHandler","rowFarContainer.down":"_rowDownHandler","container.selectstart":"_selectStartHandler",styleChanged:"_styleChangedHandler",swipeleft:"_swipeLeftHandler",swiperight:"_swipeRightHandler"}}pageSizeValidator(e,t){const o=this;return 0>t?0:o.dataSource&&t>o.dataSource.length?o.dataSource.length:void 0}pageIndexValidator(e,t){const o=this;if(0>t)return 0;if(o.dataSource){const e=Math.ceil(o.dataSource.length/o.paging.pageSize);if(t>e-1)return e-1}}_offsetTop(e){const t=this;return e?e.offsetTop+t._offsetTop(e.offsetParent):0}_offsetLeft(e){const t=this;return e?e.offsetLeft+t._offsetLeft(e.offsetParent):0}offset(e){return{left:this._offsetLeft(e),top:this._offsetTop(e)}}getBoundingRect(e){const t=this;let o=window.pageXOffset,l=window.pageYOffset,n=e.getBoundingClientRect();if(e!==document.body)for(let n=e.parentNode;n!==document.body;)o+=n.scrollLeft,l+=n.scrollTop,n=n.parentNode,t.enableShadowDOM&&n===t.shadowRoot?n=t:t.isInShadowDOM&&n===t.getRootNode()&&(n=t.getRootNode().host);return{bottom:n.bottom+l,height:n.height,left:n.left+o,right:n.right+o,top:n.top+l,width:n.width}}_upHandler(e){const t=this,o=t.getBoundingRect(t);if(t._tapTimer&&clearTimeout(t._tapTimer),(e.pageX<o.left||e.pageX>o.right||e.pageY<o.top||e.pageY>o.bottom)&&(t._inputOverlay&&(t._inputOverlay.classList.remove("smart-input-overlay-on"),setTimeout(()=>{t._inputOverlay&&(t._inputOverlay.parentNode&&t._inputOverlay.parentNode.removeChild(t._inputOverlay),t._inputOverlay=null)},t.behavior.doubleClickTimingDelay)),t.editing.isEditing&&!t.editing.dialog.enabled&&setTimeout(()=>{e.defaultPrevented||t.editing.editCell&&t.editing.editCell.editor.instance&&(t.editing.editCell.editor.instance.blur(e),e.defaultPrevented)||t.endEdit()},50),t.menu)){let o,l,n,i;if(t.enableShadowDOM||t.isInShadowDOM?(o=e.originalEvent.composedPath()[0],l=function(){for(let e=o.getRootNode().host;e;){if(e===t)return e;e=e.getRootNode().host}}(),n=t.menu.contains(o)||t.menu.firstElementChild.shadowRoot.contains(o),i=t.menu.firstElementChild.shadowRoot):(o=e.originalEvent.target,l=t.contains(o),n=t.menu.contains(o),i=t.menu),!l&&!n){const e=i.querySelectorAll("smart-drop-down-list"),l=i.querySelectorAll("smart-date-time-picker");for(let t=0;t<e.length;t++){const l=e[t],n=l.$.dropDownContainer;if(n.contains(o))return}for(let e=0;e<l.length;e++){const t=l[e],n=t.$.dropDownContainer;if(n.contains(o))return}return void t.closeMenu()}}t._dragSelectionEnd(),t._endResize()}_nextColumn(e){const t=this;for(let o=0;o<t.viewColumns.length;o++){const l=t.viewColumns[o];if(l.visibleIndex===e.visibleIndex+1)return l}return null}_nextRow(e){const t=this,o=t._recyclingRows,l=o.indexOf(e);return 0<=l?o[l+1]:null}_moveHandler(e){const t=this;t.isInitialized&&t._selection&&(t.selection.enabled&&t.selection.allowDragSelection&&!t.editing.isEditing&&(!t._selection.selectionRect||t._selection.selectionRect&&!t._selection.selectionRect.captured)&&(t._dragSelection(e),Smart.Utilities.Core.isMobile&&e.originalEvent.preventDefault()),t.isScrolling||("none"!==t.behavior.columnResizeMode&&!t.classList.contains("smart-grid-row-resize-mode")&&t._columnMoveResizeHandler(e),"none"!==t.behavior.rowResizeMode&&!t.classList.contains("smart-grid-column-resize-mode")&&t._rowMoveResizeHandler(e)))}_columnMouseLeaveHandler(){const e=this;for(let t=0;t<e._columnElements.length;t++){const o=e._columnElements[t],l=o.column;l&&l.autoShowActionButton&&o._hideActionButton()}}_columnMoveHandler(e){const t=this;if(t.isInitialized&&!(t._columnResizeStartLine||t._rowResizeStartLine))for(let o=0;o<t._columnElements.length;o++){const l=t._columnElements[o],n=l.column;if(n&&n.autoShowActionButton){const o=l.getBoundingClientRect(),i=t.offset(l);if(!(i.left<=e.pageX&&i.left+o.width-6>=e.pageX))l._hideActionButton();else if(i.top<=e.pageY&&i.top+o.height>=e.pageY){if(!t.hasColumnMenu(n))continue;l._showActionButton()}else l._hideActionButton()}}}_columnDownHandler(e){const t=this,o=(t.enableShadowDOM?t.shadowRoot:t.getRootNode()).elementsFromPoint(e.clientX,e.clientY);let l=null,n=null;const i=new Date-t._clickTime<t.behavior.doubleClickTimingDelay;t._doubleClickHandler(e);for(let t=0;t<o.length;t++){const e=o[t];if(e.classList.contains("smart-action-button"))return;if(e.getAttribute("data-field")){l=e.getAttribute("data-field"),n=e;break}}if(l){const o=n.column;if(!o)return;if("_commandColumn"===l)return void t._applyCommand(t.editing.commandColumn.dataSource.commandColumnMenu.command);const a=function(n){const i=o.selectionColumn?t.selection.checkBoxes.action===n&&t.selection.enabled:t.selection.action===n&&t.selection.enabled;if(i){if(t.editing.enabled&&t.editing.editColumn===o)return;if(t._dragSelectionStartDataField=e.shiftKey||e.ctrlKey?null:l,"_checkBoxColumn"===l)return void t._toggleColumnSelection(o);t._setSelection(null,o.dataField,e),t.$.fireEvent("change")}};if(t.editing.isEditing&&t.endEdit(),t.$.fireEvent("columnClick",{column:o}),a("click"),i&&(t.$.fireEvent("columnDoubleClick",{column:o}),a("doubleClick"),t._onColumnDoubleClick(o,e)),t._columnToResizeElement&&!t._columnResizeLine)return void t._columnDownResizeHandler(e);Smart.Utilities.Core.isMobile?(i&&o.allowSortToggleOnClick&&t.sorting.enabled&&t.sortBy(l),t._columnMoveHandler(e),e.originalEvent.preventDefault()):o.allowSortToggleOnClick&&t.sorting.enabled&&t.sortBy(l)}t.closeMenu(),t._clickTime=new Date}addTransformMoveStyle(e,t,o,l,n,i){e.style.opacity=i,e.style["transition-duration"]=t,e.style.transform="translate3d("+o+"px,"+l+"px,"+n+"px)"}removeTransformMoveStyle(e){e.style.opacity="",e.style["transition-duration"]="",e.style.transform=""}_rowDownHandler(e){const t=this;if(t._inputOverlay&&t._inputOverlay.classList.remove("smart-input-overlay-on"),t._doubleClickHandler(e),t.closeMenu(),t._rowResizeHandler(e),t._toggledRow&&t.appearance.allowRowToggleAnimation)return;let o=e.clientX,l=e.clientY;e.touches&&(o=e.touches[0].clientX,l=e.touches[0].clientY);const n=(t.enableShadowDOM?t.shadowRoot:t.getRootNode()).elementsFromPoint(o,l);let a=null,r=null,d=null,s=null;t._lastPointerDownTime=new Date;for(let t=0;t<n.length;t++){const e=n[t];if(e.hasAttribute("toggle-button")&&(r=e),e.hasAttribute("checkbox")&&(d=e),s||"smart-grid-cell"!==e.nodeName.toLowerCase()||(s=e),!a&&"smart-grid-row"===e.nodeName.toLowerCase()){a=e;break}}if(a&&s){const o=s?s.cell:null;if(r&&o&&!o.column.rowDetailColumn){const e=a.row;e.toggle()}else if(t.rowDetail.enabled&&t.rowDetail.visible&&r&&o&&o.column.rowDetailColumn){const e=a.row;e.showDetail?t.hideDetail(e.id):t.showDetail(e.id)}else{const o=a.row,l=s?s.cell:null;l.column._treeColumn&&d&&(o.checked=!o.checked),t.$.fireEvent("rowClick",{row:o,originalEvent:e.originalEvent}),t.$.fireEvent("cellClick",{cell:l,originalEvent:e.originalEvent}),t._tapTimer&&clearTimeout(t._tapTimer),t._tapTimer=setTimeout(function(){t._clickedRow===a&&t.$.fireEvent("rowTap",{row:o,originalEvent:e.originalEvent}),t._clickedCell===s&&t.$.fireEvent("cellTap",{cell:l,originalEvent:e.originalEvent})},t.behavior.doubleClickTimingDelay);const n=function(n){if(t.selection.enabled&&!o.autoGenerated){const i=t.editing.isEditing;if(!(i&&t.editing.editCell&&t.editing.editCell.row.id===o.id&&t.editing.editCell.column.dataField===l.column.dataField)&&!(i&&t.editing.editRow&&t.editing.editRow.id===o.id))if(t.selection.action===n){if(t._dragSelectionStartRow=e.shiftKey||e.ctrlKey?null:!t.selection.allowRowHeaderSelection&&l.column.autoGenerated?null:a.row,t._dragSelectionStartDataField=e.shiftKey||e.ctrlKey?null:l.column.dataField,l.column.rowHeaderColumn&&!t.selection.allowRowHeaderSelection)return void(t._dragSelectionStartRow=null);t._setSelection(o.id,l.column.dataField,e),t.$.fireEvent("change")}else l.column.selectionColumn&&t.selection.checkBoxes.enabled&&t.selection.checkBoxes.action===n&&(t._setSelection(o.id,l.column.dataField,e),t.$.fireEvent("change"))}},i=l.selected,r=t._clickedCell===s&&new Date-t._clickTime<t.behavior.doubleClickTimingDelay;n("click"),o.autoGenerated||l.column.autoGenerated||l.template?(t._onRowClick(o.index,o,e),t._onCellClick(l,e)):t.selection.enabled?t.selection.allowCellSelection?"extended"===t.selection.mode?!0===i&&i===l.selected&&!t.selection.isDragging&&r&&(t._onRowClick(o.index,o,e),t._onCellClick(l,e)):r&&(t._onRowClick(o.index,o,e),t._onCellClick(l,e)):t.selection.allowRowSelection?"extended"===t.selection.mode?!0===i&&i===l.selected&&!t.selection.isDragging&&r&&(t._onRowClick(o.index,o,e),t._onCellClick(l,e)):r&&(t._onRowClick(o.index,o,e),t._onCellClick(l,e)):(t._onRowClick(o.index,o,e),t._onCellClick(l,e)):(t._onRowClick(o.index,o,e),t._onCellClick(l,e)),new Date-t._clickTime<t.behavior.doubleClickTimingDelay&&(t._clickedRow===a&&(t._onRowDoubleClick(o.index,o,e,e),t.$.fireEvent("rowDoubleClick",{row:o,originalEvent:e.originalEvent}),n("doubleClick")),t._clickedCell===s&&(t._onCellDoubleClick(l,e),t.$.fireEvent("cellDoubleClick",{cell:l,originalEvent:e.originalEvent}))),t._clickedRow=a,t._clickedCell=s,t._clickTime=new Date}}}showDetail(e){const t=this,o=t.rowById[e];o&&(o.showDetail=!0)}hideDetail(e){const t=this,o=t.rowById[e];o&&(o.showDetail=!1)}_focusHandler(){const e=this;e._focused=!0}_blurHandler(){const e=this;e._focused=!1}_notify(e,t,o){const l=this;if(l.notifyFn)for(let n=0;n<l.notifyFn.length;n++)l.notifyFn[n](e,t,o)}notify(e){const t=this;e&&(!t.notifyFn&&(t.notifyFn=[]),t.notifyFn.push(e))}_applyTemplate(e,t){let o=null;if(null===e||""===e)return void(t.innerHTML="");if((e.startsWith("#")||e.startsWith("."))&&(o=document.querySelector(e)),o)t.innerHTML="",t.appendChild(o.content.cloneNode(!0).firstElementChild);else{const o=function(e){const t=document.createElement("template");return e=e.trim(),t.innerHTML=e,t.content.firstChild},l=o(e);l&&(t.innerHTML="",t.appendChild(l))}}propertyChangedHandler(e,t,o){const l=this;if(l.isInitialized){switch(l._notify(e,t,o),e){case"appearance_displayLoadingIndicator":return;case"appearance_showColumnHeaderLines":case"appearance_showColumnLines":case"appearance_showRowLines":return void l._recycle();case"appearance_allowColumnStickyPosition":{o?l._stickHeader():l._unstickHeader();break}case"appearance_showColumnIcon":{for(let e=0;e<l.columns.length;e++){const t=l.columns[e];t.setProperty("showIcon",l.appearance.showColumnIcon)}l._recycle();break}case"appearance_showRowHeaderNumber":case"appearance_showRowHeader":{l._initializeRowNumberColumn();const e=l._frozenNearColumns[0];e.rowHeaderColumn&&e.element&&!e.element.parentNode&&l.$.columnNearContainer.appendChild(e.element),l.refresh();break}case"header_template":{l._applyTemplate(o,l.$.header);break}case"footer_template":{l._applyTemplate(o,l.$.footer);break}case"columnWidth":{l.columns.canNotify=!1;let e=parseInt(o);if(isNaN(e)&&(e=null),30<=e||null===e)for(let t=0;t<l.columns.length;t++){const o=l.columns[t];o.width=e}l.columns.canNotify=!0,l.refresh();break}case"checkBoxes_visible":return void l._recycle();case"checkBoxes_hasThreeStates":return l.rows.canNotify=!1,l._applyThreeStates(l.rowHierarchy),l.rows.canNotify=!0,void l._recycle();case"columnHeader_visible":{l.__columnHeaderHeight=null,l.refresh();break}case"selection_checkBoxes_enabled":{l._selectionColumn.visible=o;break}case"selection_checkBoxes_autoShow":{l._selectionColumn.element&&(o?l._selectionColumn.element.setAttribute("auto-show",""):l._selectionColumn.element.removeAttribute("auto-show"));break}case"selection_checkBoxes_position":{let e=l.viewColumns.indexOf(l._selectionColumn);l.viewColumns.canNotify=!1,l.viewColumns.splice(e,1);const t=l._frozenNearColumns.indexOf(l._selectionColumn),n=l._frozenFarColumns.indexOf(l._selectionColumn);if(0<=t&&l._frozenNearColumns.splice(t,1),0<=n&&l._frozenFarColumns.splice(n,1),"far"===o)l._selectionColumn.canNotify=!1,l._selectionColumn.freeze="far",l._selectionColumn.canNotify=!0,l._frozenFarColumns.splice(0,0,l._selectionColumn),l.viewColumns.push(l._selectionColumn),l.$.columnFarContainer.appendChild(l._selectionColumn.element);else{let e=0,t=0;for(let o=0;o<l.viewColumns.length&&(l.viewColumns[o].autoGenerated||l.viewColumns[o].dataField!==l.columns[t++].dataField);o++)l.viewColumns[o].autoGenerated&&e++;l._selectionColumn.canNotify=!1,l._selectionColumn.freeze="near",l._selectionColumn.canNotify=!0,l._frozenNearColumns.splice(e,0,l._selectionColumn),l.viewColumns.splice(e,0,l._selectionColumn),l.$.columnNearContainer.appendChild(l._selectionColumn.element)}l.viewColumns.canNotify=!0;break}case"filtering_enabled":return void(o&&l._createFilterPanels());case"filtering_filter":for(let e=0;e<l.columns.length;e++){const t=l.columns[e];t.canNotify=!1,t.setProperty("filter",null),t.canNotify=!0}for(let e=0;e<l.filtering.filter.length;e++){const t=l.filtering.filter[e];if(t){const e=t[0],o=t.splice(1);let n=null;if(o instanceof Smart.FilterGroup)n=o;else{const t=l.columnByDataField[e];t&&(n=l.dataSource._createFilter(t.dataType,o))}n&&l.addFilter(e,n,!1)}}return void l.refreshFilters();case"paging_spinner_enabled":{l._refresh();break}case"pager_visible":return l._renderPagers(),void l._refreshPaging(!1);case"paging_pageIndex":case"pager_position":case"paging_enabled":return void l._refreshPaging(!0);case"paging_pageSize":return void l._refreshPaging(!1);case"columns":return void l._renderColumns();case"dataSource":return void l.dataBind();case"rowDetail_dialog_width":case"rowDetail_dialog_height":case"rowDetail_dialog_enabled":case"rowDetail_dialog_visible":return;case"rowDetail_height":case"rowDetail_enabled":{l.beginUpdate(),l.rows.canNotify=!1;const e=l.appearance.allowRowDetailToggleAnimation;l.appearance.allowRowDetailToggleAnimation=!1;for(let e=0;e<l._recyclingRows.length;e++){const t=l._recyclingRows[e];t.height=null,t.setProperty("showDetail",!1),t.detailHeight=l.rowDetail.height}if(l.rows.canNotify=!0,!l.rowDetail.enabled)for(let e=0;e<l.viewColumns.length;e++){const t=l.viewColumns[e];if(t.rowDetailColumn){t.visible=!1;break}}return l.appearance.allowRowDetailToggleAnimation=e,void l.endUpdate()}case"rowDetail_visible":{for(let e=0;e<l.viewColumns.length;e++){const t=l.viewColumns[e];if(t.rowDetailColumn){t.visible=o;break}}return}case"displayLoadingIndicator":return void l._setLoadingIndicatorVisibility();case"filterable":return void l._refreshLayout();case"selectionMode":return;case"editing_addNewRow_visible":{l._renderAddNewRow(),l.refresh();break}case"editing_addNewRow_position":return l._renderAddNewRow(),void l.refresh();case"editing_dialog_visible":return;case"editing_commandColumn_visible":return void l.refresh(!0);}l.refresh()}}ready(){super.ready();const e=this,t=e._scrollView.vScrollBar,o=e._scrollView.hScrollBar;t.hasStyleObserver=!1,o.hasStyleObserver=!1,t.hasResizeObserver=!1,o.hasResizeObserver=!1,t.wait=!1,o.wait=!1,t.onChange=e._verticalScrollbarHandler.bind(e),o.onChange=e._horizontalScrollbarHandler.bind(e),e.setFocusable(!0),e.$.loadingIndicatorPlaceholder.innerHTML=e.appearance.loadingIndicatorPlaceholder,e.$.placeholder.innerHTML=e.appearance.placeholder,e._setLoadingIndicatorVisibility(),e._cellsMerge=[],e.checkLicense()}checkLicense(e){const t=this;(t.grouping.enabled||t.selection.enabled&&t.selection.allowCellSelection||t.rowDetail.enabled||t.charting.enabled||t.editing.enabled&&t.editing.batch||t.editing.enabled&&"row"===t.editing.mode||t.editing.enabled&&t.editing.addNewRow.visible||t.editing.enabled&&t.editing.commandColumn.visible||"virtual"===t.scrolling||t.sorting.enabled&&"many"===t.sorting.mode||!0===e)&&super.checkLicense()}_createFilterPanels(){const e=this;if(!e._filterPanels)e._filterPanels=[];else if(0<e._filterPanels.length)return;e.filtering.enabled&&0===e._filterPanels.length&&requestAnimationFrame(()=>{const t=document.createElement("smart-filter-panel"),o=document.createElement("smart-filter-panel"),l=document.createElement("smart-filter-panel"),n=document.createElement("smart-filter-panel");for(let i in o.filterType="boolean",l.filterType="numeric",n.filterType="date",e._filterPanels.bool=o,e._filterPanels.date=n,e._filterPanels.numeric=l,e._filterPanels.string=t,e._filterPanels){const t=e._filterPanels[i];t.classList.add("smart-hidden"),e.$.content.appendChild(t),t.parentNode.removeChild(t)}})}_applyScrolling(){const e=this,t=e._scrollView.vScrollBar;requestAnimationFrame(()=>{switch(t.largeStep=e.$.scrollView.offsetHeight,e.scrolling){case"physical":case"infinite":case"virtual":t.step=10,t.mechanicalAction="switchWhileDragging";break;case"deferred":t.step=10,t.mechanicalAction="switchWhenReleased";break;case"logical":t.step=e.layout.rowMinHeight,t.mechanicalAction="switchWhileDragging";}})}get _autoRowHeight(){var e=Math.max;const t=this;if(t.__autoRowHeight)return t.__autoRowHeight;const o=new Smart.Grid.Row({index:0,grid:t}),l=o.createElement();let n=t.layout.rowMinHeight;t.$.scrollView.appendChild(l),t.removeAttribute("grouped"),t.removeAttribute("tree"),t.grouping.enabled&&t.dataSource.groupBy&&0<t.dataSource.groupBy.length?t.setAttribute("grouped",""):t.dataSource.boundHierarchy&&t.setAttribute("tree","");const a={};for(let e=0;e<t.dataSource.dataFields.length;e++){const o=t.dataSource.dataFields[e];a[o.name]="ABCDEFHIJLMNOPQRSTUVWXYZ1234567910|"}o.data=a,o.render(),l.style.height="",l.style.lineHeight="",n=e(l.offsetHeight,n);for(let e=0;e<l.children.length;e++)l.children[e].style.height="";for(let a=0;a<l.children[1].children.length;a++){l.children[1].children[a].style.height="auto";const i=o.getCell(t.columns[0].dataField);i.render(),n=e(n,8+l.children[1].children[a].offsetHeight);break}return t.$.scrollView.removeChild(l),t.__autoRowHeight=n,n}get _scrollHeight(){const e=this;let t=e._recyclingRows,o=0,l=e._autoRowHeight,n=0,a=0;if(e.__scrollHeight)return e.__scrollHeight;if(0===t.length||0===e.columns.length)return 0;e.rows.canNotify=!1;const r=t.length;for(let d,s=0;s<r;s++){if(d=t[s],!d.visible||!1===d.filtered){d.height=0,d.cellHeight=0,d.top=o;continue}let i=!d.height||!d.cellHeight||d.showDetail||"auto"===d.height||"auto"===d._height||"auto"===e.layout.rowHeight;if(i&&!d.expandHeight){if(d.detailHeight||(d.detailHeight=200),!e.layout.rowHeight){if("auto"===d.height||"auto"===d._height){d.element=e._rowElements[1];const t=d.data&&e.isRendered?d._autoSize(d):l;d.height=t,d._height="auto"}else d.height=l;void 0===d.label||d.summaryRow||(d.height=e.grouping.groupRowHeight),d.computedHeight&&(d.height=d.computedHeight),d.cellHeight=d.height,e.rowDetail.enabled&&d.showDetail&&!e.rowDetail.dialog.enabled&&(d.height+=d.detailHeight)}else if(e.layout.rowHeight)if("number"==typeof e.layout.rowHeight)e.layout.rowHeight<e.layout.rowMinHeight&&(e.layout.rowHeight=e.layout.rowMinHeight),d.height=e.layout.rowHeight,d.computedHeight&&(d.height=d.computedHeight),void 0!==d.label&&(d.height=e.grouping.groupRowHeight),d.cellHeight=d.height,e.rowDetail.enabled&&d.showDetail&&!e.rowDetail.dialog.enabled&&(d.height+=d.detailHeight);else if("auto"===e.layout.rowHeight){e.layout.rowHeight<e.layout.rowMinHeight&&(e.layout.rowHeight=e.layout.rowMinHeight),d.element=e._rowElements[1];const t=d.data&&e.isRendered?d._autoSize(d):l;d.height=t,d.computedHeight&&(d.height=d.computedHeight),void 0!==d.label&&(d.height=e.grouping.groupRowHeight),d.cellHeight=d.height,e.rowDetail.enabled&&d.showDetail&&!e.rowDetail.dialog.enabled&&(d.height+=d.detailHeight)}else e.layout.rowHeight(s,d),d.height||(d.height=l),d.cellHeight=d.height,e.rowDetail.enabled&&d.showDetail&&!e.rowDetail.dialog.enabled&&(d.height+=d.detailHeight);e._rowGap&&s<e.rows.length-1&&(d.height+=e._rowGap)}if(!0===d.freeze||"near"===d.freeze?n+=d.height:"far"===d.freeze&&(a+=d.height),d.freeze){d.top=o;continue}d.top!==o&&(d.top=o),o+=d.expandHeight?d.cellHeight:d.height}return e.__scrollHeight=o,e.__frozenNearHeight=n,e.__frozenFarHeight=a,e._scrollView.scrollHeight=o-e.$.scrollView.offsetHeight+n+a,o=e.__scrollHeight+n+a,e.grouping.enabled&&0<e.dataSource.groupBy.length&&0<e.grouping.groupIndent&&(o+=parseInt(e.grouping.groupIndent/2)),e.__scrollHeight=o,e.rows.canNotify=!0,o}_measureColumnHeight(){const e=this;if(e.__measuredColumnHeight)return e.__measuredColumnHeight;const t=document.createElement("smart-grid-column");t.style.height="auto",t.style.position="static";const o=document.createElement("div");o.classList.add("smart-label"),o.innerHTML="aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRwWxXyYzZ1234567890",t.appendChild(o),e.$.columnHeader.appendChild(t);let l=e.$.columnHeader.offsetHeight;return e.$.columnHeader.removeChild(t),e._columnHeights&&1<e._columnHeights.length&&(l=e._columnHeights[0]),l<e.columnMinHeight&&(l=e.columnMinHeight),e.__measuredColumnHeight=l,l}_initializeColumnGroupsHierarchy(){const e=this;let t=0;if(e.$.columnContainer.innerHTML="",0<e.columnGroups.length){for(let t=0;t<e.columnGroups.length;t++)e.columnGroups[t].parent=null,e.columnGroups[t].groups=null;for(let t=0;t<e.viewColumns.length;t++)e.viewColumns[t].parent=null,e.viewColumns[t].groups=null;const o=function(t){for(let o,l=0;l<e.columnGroups.length;l++)if(o=e.columnGroups[l],o.name===t)return o;return null},l=function(e){let t=[];if(e.columnGroup&&t.push(e),e.groups)for(let o=0;o<e.groups.length;o++)if(e.groups[o].columnGroup)t.push(e.groups[o]);else if(e.groups[o].groups){let n=l(e.groups[o]);for(let e=0;e<n.length;e++)t.push(n[e])}return t};for(let t,l=0;l<e.columnGroups.length;l++)if(t=e.columnGroups[l],t.groups||(t.groups=null),t.parentGroup){let e=o(t.parentGroup);e&&(t.parent=e,!e.groups&&(e.groups=[]),-1===e.groups.indexOf(t)&&e.groups.push(t))}for(let t,l=0;l<e.viewColumns.length;l++)if(t=e.viewColumns[l],t.columnGroup){let e=o(t.columnGroup);e&&(!e.groups&&(e.groups=[]),t.parent=e,-1===e.groups.indexOf(t)&&e.groups.push(t))}for(let o=0;o<e.viewColumns.length;o++){const l=e.viewColumns[o];let n=l;for(l.level=0;n.parent;)n=n.parent,l.level++;n=l;let i=l.level;for(t=Math.max(t,l.level);n.parent;)n=n.parent,n&&(n.level=--i)}for(let t=0;t<e.columnGroups.length;t++){const o=e.columnGroups[t],n=l(o);o.columns=n;let i=[],a=0,r="near";0===n.length&&(a=-1,o.visible=!1);for(let t=0;t<n.length;t++)i.push(e.viewColumns.indexOf(n[t])),n[t].freeze&&("far"===n[t].freeze&&(r="far"),a++);a===n.length?o.freeze=r:0<a&&a<n.length&&e.error(e.localize("frozenColumns",{elementType:"Grid"})),i.sort(function(e,t){return e=parseInt(e),t=parseInt(t),e<t?-1:e>t?1:0});for(let t=1;t<i.length;t++)i[t]!==i[t-1]+1&&e.error(e.localize("columnGroups",{elementType:"Grid"}))}}e._columnGroupsLevel=1+t}_refreshColumnHeights(){const e=this;e._viewColumnsHeight=e._measureColumnHeight(),e._columnHeights=[];let t=0;for(let o,l=0;l<e._columnGroupsLevel;l++)o=e._viewColumnsHeight,e.columnHeight&&("number"==typeof e.columnHeight?o=e.columnHeight?e.columnHeight:e._viewColumnsHeight:o=e.columnHeight?e.columnHeight(l):e._viewColumnsHeight),o<e.columnMinHeight&&(o=e.columnMinHeight),o?(e._columnHeights.push(o),t+=o):(t+=e._viewColumnsHeight,e._columnHeights.push(e._viewColumnsHeight));e._columnHeaderHeight=e._columnGroupsLevel*e._viewColumnsHeight,e._columnHeaderHeight=t,e.$.columnHeader.style.height=e._columnHeaderHeight+"px";const o=function(t){let o=0;for(let l=0;l<t.level;l++)o+=e._columnHeights[l];return o},l=function(t){let l=o(t),n=e._columnHeaderHeight-l;for(let o=t.level+1;o<e._columnHeights.length;o++){const l=o;for(let o=0;o<e.viewColumns.length;o++){const i=e.viewColumns[o];let a=!1;if(i.level===l){for(let o=i;o.parent;){if(o.parent===t){n=e._columnHeights[l],a=!0;break}o=o.parent}if(a)break}}}return n};for(let t=0;t<e.viewColumns.length;t++){const n=e.viewColumns[t],i=l(n);n.computedHeight=i,n.top=o(n)}for(let t=0;t<e._columnGroupsLevel-1;t++)for(let n=0;n<e.columnGroups.length;n++){const i=e.columnGroups[n],a=i.level;if(a!==t)continue;if(i.groups){const e=l(i),t=o(i);i.top=t,i.computedHeight=e}const r=i.element;r&&(r.style.width=i.computedWidth+"px",r.style.left=i.left+"px",r.style.top=i.top+"px",r.style.height=i.computedHeight+"px",r.style.lineHeight=i.computedHeight+"px")}}_refreshColumnWidths(){const e=this;e.__clientSize=null;const t=0<e.$.verticalScrollBar.offsetWidth?e.$.verticalScrollBar.offsetWidth:0,o=e.dataSource.groupBy||[];let l=e.grouping.enabled?e.grouping.groupIndent*(1+o.length):0,n=0;e.selection.checkBoxes.enabled&&(n=e._selectionColumn.computedWidth?e._selectionColumn.computedWidth:e._selectionColumn.minWidth);const a=e._clientSize.width-t-l;let r=0,d=[],s=0,u=0,c=0;if(e.editing.enabled&&!e.editing.commandColumn.inline){const t=function(){const t=document.createElement("div"),o=document.createElement("div"),l=e.editing.commandColumn.dataSource;let n=0,i="",a=0;for(let t in o.classList.add("smart-label"),l){const o=l[t];let n=!1;if("commandColumnMenu"==t)continue;let r=!1;if(n||(!0===o.visible?(a++,r=!0):"auto"===o.visible&&((e.editing.editRow||e.editing.editCell)&&!e.editing.dialog.enabled||"commandColumnEdit"!=t?(e.editing.editRow||e.editing.editCell)&&!e.editing.dialog.enabled&&("commandColumnUpdate"==t?(a++,r=!0):"commandColumnCancel"==t&&(a++,r=!0)):(a++,r=!0)),n=!0),r&&"icon"!==e.editing.commandColumn.displayMode){const l="{{messages}}"===o.label?e.localize(t):o.label;i+="<span>"+l+"</span>"}}return o.innerHTML="<span>"+i+"</span>",t.appendChild(o),t.style.width="auto",t.style.position="static",e.$.columnHeader.appendChild(t),n=10+o.firstChild.offsetWidth,e.$.columnHeader.removeChild(t),"icon"===e.editing.commandColumn.displayMode?n=20+20*a:"labelAndIcon"===e.editing.commandColumn.displayMode?n+=25*a:n+=10*a,n};if(e._commandColumn.visible=e.editing.commandColumn.visible,e.editing.commandColumn.visible){const o=e.editing.commandColumn.width?e.editing.commandColumn.width:t();e.columns.canNotify=!1,e._commandColumn.width=o,e.columns.canNotify=!0}}for(let t=0;t<e.viewColumns.length;t++){const o=e.viewColumns[t],l=o;let i;"number"==typeof l.width?i=l.width:l.width&&0<=l.width.toString().indexOf("%")?(i=parseFloat(l.width)/100,i*=a-n):l.width&&(0<=l.width.toString().indexOf("em")||0<=l.width.toString().indexOf("pt")||0<=l.width.toString().indexOf("fr"))?(i=parseFloat(l.width),i*=16):"auto"===l.width?i=l._autoSize():l.visible&&(d.push(l),i=0),l.overflowWidth&&(i-=l.overflowWidth),l.visible&&(r+=i),i<l.minWidth&&(i=l.minWidth),l.computedWidth=i}if(d){let e=a-r,t=0;0>e&&(e=60*d.length);for(let o=0;o<d.length;o++){const l=d[o];let n;n=e/d.length,o==d.length-1&&(n=e-t),l.overflowWidth&&(n-=l.overflowWidth),n<l.minWidth&&(n=l.minWidth),l.computedWidth=n,t+=n}}for(let t=0;t<e.viewColumns.length;t++){const o=e.viewColumns[t];let n=o;n.visible&&(0<l&&!n.autoGenerated&&(n.computedWidth+=l,l=0),n.freeze?!0===n.freeze||"near"===n.freeze?(n.left=s,c+=n.computedWidth,s+=n.computedWidth):"far"===n.freeze&&(n.left=u,u+=n.computedWidth):(n.left=c,c+=n.computedWidth))}for(let t=0;t<e._columnGroupsLevel-1;t++)for(let o=0;o<e.columnGroups.length;o++){const l=e.columnGroups[o],n=l.level;if(n!==t)continue;let i=99999;if(l.groups){const e=function(t){let o=0;for(let l,n=0;n<t.groups.length;n++)l=t.groups[n],l.groups?o+=e(l):!l.hidden&&(i=Math.min(l.left,i),o+=l.computedWidth);return o};l.computedWidth=e(l),l.left=i}}}_createColumnHeaderCellElements(){const e=this,t=e.$.columnContainer,o=document.createDocumentFragment();let l=0;e._columnElements=[],e.$.columnContainer.innerHTML="",e.$.columnNearContainer.innerHTML="",e.$.columnFarContainer.innerHTML="";for(let t=0;t<e._frozenNearColumns.length;t++){const o=e._frozenNearColumns[t];o.createElement()}for(let t=0;t<e._frozenFarColumns.length;t++){const o=e._frozenFarColumns[t];o.createElement()}for(let t=0;t<e.viewColumns.length;t++){const n=e.viewColumns[t];if(n.freeze)continue;const i=n.createElement();if(n.computedWidth===void 0){e._columnElements.push(i),o.appendChild(i);continue}l+=n.computedWidth,e._columnElements.push(i),l<2*e._clientSize.width&&o.appendChild(i)}for(let t=0;t<e.columnGroups.length;t++){const l=e.columnGroups[t],n=new Smart.Grid.Column({visible:!(l.visible!==void 0)||l.visible,allowSelect:!1,grid:e,dataField:l.name,label:l.label,align:l.align,verticalAlign:l.verticalAlign});l.column=n;const i=n.createElement();i.style.width=l.computedWidth+"px",i.style.left=l.left+"px",i.style.top=l.top+"px",i.style.height=l.computedHeight+"px",i.style.lineHeight=l.computedHeight+"px",o.appendChild(i),l.element=i,l.grid=this}e.htmlColumnLastChild||(e.htmlColumnLastChild=document.createElement("smart-grid-column"),e.htmlColumnLastChild.classList.add("top-far-corner"),e.htmlColumnLastChild.onpointerdown=e=>{e.stopPropagation(),e.preventDefault()},e.$.columnHeader.appendChild(e.htmlColumnLastChild)),t.appendChild(o),t.style.width=e._computedColumnsWidth+"px",e._refreshFrozenColumns()}_refreshFrozenColumns(){const e=this;e.$.columnNearContainer.style.width=e._frozenColumnsNearWidth+"px",e.$.columnFarContainer.style.width=e._frozenColumnsFarWidth+"px";for(let t=0;t<e.columnGroups.length;t++){const o=e.columnGroups[t];o.freeze&&o.element&&(!0===o.freeze||"near"===o.freeze?e.$.columnNearContainer.appendChild(o.element):"far"===o.freeze&&e.$.columnFarContainer.appendChild(o.element))}for(let t=0;t<e.viewColumns.length;t++){const o=e.viewColumns[t];o.freeze&&o.element&&(!0===o.freeze||"near"===o.freeze?e.$.columnNearContainer.appendChild(o.element):"far"===o.freeze&&e.$.columnFarContainer.appendChild(o.element))}}get _clientSize(){const e=this;if(e.__clientSize)return e.__clientSize;const t=getComputedStyle(e.$.container),o=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),l=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),n=parseFloat(t.borderLeftWidth)+parseFloat(t.borderRightWidth),i=parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth);return e.__clientSize={width:e.$.container.offsetWidth-o-n,height:e.$.container.offsetHeight-l-i},e.__clientSize}_initializeRowElements(){const e=this;if(!e.rows)return;e.rows.canNotify=!1;let t=0,o=e._clientSize.height;e.$.rowNearContainer.innerHTML="",e.$.rowFarContainer.innerHTML="",e.$.rowContainer.innerHTML="",e._rowElements=[],e._overflowOffset=Math.max(o,300);const l=e.offsetHeight;e.$.container.classList.add("smart-hidden");const n=e.offsetHeight;e.$.container.classList.remove("smart-hidden"),("hidden"===e.verticalScrollBarVisibility||l!==n)&&(o=e._scrollHeight);const i=function(){const l=document.createDocumentFragment();if(!(e.rows&&0===e.rows.length)){for(let n=0;n<e.rows.length;n++){const i=e.rows[n];if(i.freeze)continue;const a=i.createElement();if(l.appendChild(a),t+=e.layout.rowMinHeight,t>e._overflowOffset+o)break}e.$.rowContainer.appendChild(l);const n=e.$.rowContainer.children;for(let t=0;t<n.length;t++){const o=n[t];e.rows[t]&&(e.rows[t].element=o),e._rowElements[t]=o}}};for(let t=0;t<e._frozenNearRows.length;t++){const o=e._frozenNearRows[t],l=o.createElement();o.element=l,e.$.rowNearContainer.appendChild(l)}for(let t=0;t<e._frozenFarRows.length;t++){const o=e._frozenFarRows[t],l=o.createElement();o.element=l,e.$.rowFarContainer.appendChild(l)}i();for(let e=0;t<1.5*o&&50>++e;)i();e.rows.canNotify=!0}_initializeRows(){var e=Math.ceil;const t=this;let o=0;t._frozenNearDefaultRows=[],t._frozenFarDefaultRows=[],t.rows=[],t.rowById=[],t._frozenFarRows=[],t._frozenNearRows=[];const l=function(){let e=[],o=!1;for(let l=0;l<t.columns.length;l++){const n=t.columns[l];let i={};n.summary&&0<n.summary.length&&(o=!0),i[n.dataField]=n.summary,e.push(i)}return o?void(t._summaryItems=t.dataSource.summarize(e)):void(t._summaryItems=[])},n=function(e,l){const n=e.grid?e:new Smart.Grid.Row({data:e,index:l,grid:t});if(t.onRowInit)for(let e in t.onRowInit(l,n),n)-1!==n.properties.indexOf(e)||e.startsWith("_")||t.error(t.localize("invalidRowProperty",{elementType:"Grid",propertyName:e}));if(n.selected&&(t._selection.rows[n.id]=!0),!n.freeze)t.rows[l]?t.rows.splice(l,0,n):t.rows.push(n);else if(!0===n.freeze||"near"===n.freeze){t.rows.splice(o++,0,n);const e=t.rows[o-1];-1===t._frozenNearRows.indexOf(e)&&t._frozenNearRows.push(e)}else if("far"===n.freeze){t.rows.push(n);const e=t.rows[t.rows.length-1];-1===t._frozenFarRows.indexOf(e)&&t._frozenFarRows.push(e)}"virtual"===t.scrolling||t.paging.enabled&&t.dataSource&&t.dataSource.virtualDataSource||t.onRowInserted&&t.onRowInserted(l,n)},i=function(){const e=t.rows[t.rows.length-1];t.rows.pop(),t.onRowRemoved&&t.onRowRemoved(t.rows.length,e)},a=function(e){const o=t.rows[e];t.rows.splice(e,1),t.onRowRemoved&&t.onRowRemoved(e,o)};t._add=n,t._removeLastRow=i,t._removeAt=a,t._rowHeight=t._autoRowHeight;const r=t.dataSource.length;for(let e=0;e<t.dataSource.length;e++){const o=t.dataSource[e];n(o,e)}for(let e=0;e<t._frozenFarRows.length;e++){const o=t._frozenFarRows[e];t.rows.splice(t.rows.indexOf(o),1),t.rows.push(o)}if(l(),t.dataSource.notify(function(o){if(!t.dataSource._updating){const d=o.data;switch(t.rows.canNotify=!1,o.action){case"add":if(d.length)for(let e=0;e<d.length;e++)n(d[e],t.dataSource.length-d.length+e);else n(d,t.dataSource.length-1);break;case"update":if(d.length)for(let e=0;e<d.length;e++){const l=o.index[e];if(!t.rows[l]){n(d[e],t.dataSource.length-1);continue}t.rows[l].data=d[e],t.onRowUpdated&&t.onRowUpdated(l,t.rows[l])}else{const e=o.index;t.rows[e]?t.rows[e].data=d:n(d,t.dataSource.length-1),t.onRowUpdated&&t.onRowUpdated(e,t.rows[e])}break;case"insert":n(d,o.index);for(let e=0;e<t.rows.length;e++){const o=t.rows[e];o.index=e}break;case"remove":a(o.index);break;case"removeLast":i();break;case"bindingComplete":t.dataSource&&t.dataSource.url&&(t.appearance.displayLoadingIndicator=!1,t._setLoadingIndicatorVisibility(),t._toggledRow=null,t.dataSource.length!==r&&(t.paging.enabled&&(t.$.headerPager.querySelector("smart-pager").pagesCount=e(t.dataSource.length/t.paging.pageSize),t.$.footerPager.querySelector("smart-pager").pagesCount=e(t.dataSource.length/t.paging.pageSize)),t._initializeRows(),t._initializeRowElements(),t.refresh()),t._recycle());}l(),"update"!==o.action&&t._refreshLayout(),t._recycle(),t.rows.canNotify=!0}}),t._observeRows(),t.summaryRow.visible)for(let e=0;e<t._summaryRowCount;e++){const o=new Smart.Grid.Row({freeze:"near",visible:"near"===t.summaryRow.position,summaryRowIndex:e,summaryRow:!0}),l=new Smart.Grid.Row({freeze:"far",visible:"far"===t.summaryRow.position,summaryRowIndex:e,summaryRow:!0});t._frozenNearRows.splice(0,0,o),t._frozenFarRows.push(l)}if(t.filtering.enabled&&t.filtering.filterRow.visible){const e=new Smart.Grid.Row({freeze:"near",filterRow:!0});t._frozenNearRows.splice(0,0,e)}t._renderAddNewRow()}_observeRows(){const e=this;e._frozenNearRows=[],e._frozenFarRows=[],e.rows=new Smart.ObservableArray(e.rows,null,{allowToggle:!0,allowResize:!0,allowCheck:!0,expanded:!0,selected:!0,checked:!0,visible:!0,enabled:!0,minHeight:!0,height:!0,freeze:!0,showDetail:!0,data:!0,visibleIndex:!0,index:!0});for(let t=0;t<e.rows.length;t++){const o=e.rows[t];!0===o.freeze||"near"===o.freeze?e._frozenNearRows.push(o):"far"===o.freeze&&e._frozenFarRows.push(o),e.rowById[e.rows[t].id]=o}const t=function(e,t,o,l){e.propertyChanged(t,o,l)};e.rows.notify(function(o){if(e.rows.canNotify){const l=o.action;if("length"!==l){if(o.path)return e.rows.canNotify=!1,t(e.rows[o.index],o.propertyName,o.oldValue,o.newValue),void(e.rows.canNotify=!0);if(e.rows.canNotify=!1,!!e.dataSource){switch(e.dataSource.canNotify=!1,l){case"add":{const t=function(t){let l=e.rows[t];if(!1==l instanceof Smart.Grid.Row){l=new Smart.Grid.Row(l);const n=e.rows.canNotify;e.rows.canNotify=!1,o.object[t]=l,l=o.object[t],e.rows.canNotify=n}t<e.dataSource.length?e.dataSource.insert(t,e.rows[t].data):e.dataSource.add(e.rows[t].data),l.grid=e,l.data=e.dataSource[t],e.rowById[l.id]=l,l.selected&&(e._selection.rows[l.id]=!0),l.freeze&&(!0===l.freeze||"near"===l.freeze?e._frozenNearRows.push(l):"far"===l.freeze&&e._frozenFarRows.push(l))};for(let e=0;e<o.addedCount;e++)t(o.index+e);break}case"update":{e.dataSource.update(o.index,e.rows[o.index]);break}case"remove":{const t=o.removed;delete e.rowById[t.id],e.dataSource.remove(o.index);break}}if(e.dataSource.canNotify=!0,e.rows.canNotify=!0,!!l){const t=e.isInitialized&&e._rowElements&&e._rowElements.length<e.rows.length;t&&e._initializeRowElements(),e.refresh(),e._refreshPagesCount()}}}}})}render(){const e=this,t=()=>0===e.offsetWidth||0===e.offsetHeight;return t()?void requestAnimationFrame(()=>{e.isInitialized||t()||e._render()}):void(e._render(),super.render())}_renderColumns(e){const t=this;t._initializeColumns(),t._initializeColumnGroupsHierarchy(),t._refreshColumnsResponsiveVisibility(),t._createColumnHeaderCellElements(),t._renderColumnGroupHeaders(),!1!==e&&t._refresh()}_renderRows(e){const t=this;t._initializeRows(),t._initializeRowElements(),!1!==e&&t._refresh()}_render(){const e=this;if(e.isInitialized||(e.onBeforeInit&&e.onBeforeInit(),e.$.fireEvent("beforeInit",{grid:e})),null===e.dataSource&&(e.dataSource=new Smart.DataAdapter),e._selection={rows:[],columns:[],cells:[]},e.dataSource&&e.dataSource.url&&(e.appearance.displayLoadingIndicator=!0,e._setLoadingIndicatorVisibility(),e.dataSource.data={sorting:e.getSortedColumns(),filtering:e.getFilteredColumns(),grouping:[]}),e._renderColumns(!1),e._renderRows(!1),e._renderPagers(),e._renderCommandBar(),e.appearance.allowColumnStickyPosition&&e._stickHeader(),!e.isInitialized){for(let t=0;t<e.viewColumns.length;t++){const o=e.viewColumns[t];if(!o.allowSort||!o.sortOrder)continue;const l=e.appearance.allowSortAnimation;e.appearance.allowSortAnimation=!1,e.sortBy(o.dataField,o.sortOrder),e.appearance.allowSortAnimation=l}if(0<e.filtering.filter.length){for(let t=0;t<e.filtering.filter.length;t++){const o=e.filtering.filter[t];if(o){const t=o[0],l=o.splice(1);let n=null;if(l instanceof Smart.FilterGroup)n=l;else{const o=e.columnByDataField[t];o&&(n=e.dataSource._createFilter(o.dataType,l))}n&&e.addFilter(t,n,!1)}}e.refreshFilters()}}else e.refreshFilters();e.viewColumns.canNotify=!0;const t=!e.isInitialized;t&&(e.onInit&&e.onInit(),e.$.fireEvent("init",{grid:e})),e.isInitialized=!0,"virtual"===e.scrolling||e.paging.enabled&&e.dataSource&&e.dataSource.virtualDataSource?e._virtualDataRequest("dataBind"):e.dataSource&&e.dataSource.virtualDataSource&&e._virtualDataRequest("dataBind"),""!==e.header.template&&e._applyTemplate(e.header.template,e.$.header),""!==e.footer.template&&e._applyTemplate(e.footer.template,e.$.footer),e._createFilterPanels(),e._refresh(),e._applyScrolling(),e.onRender&&e.onRender(),e.isRendered=!0,"auto"===e.layout.rowHeight&&(e._refreshLayout(),e._recycle()),t&&(e.onAfterInit&&e.onAfterInit(),e.$.fireEvent("afterInit",{grid:e}))}get _viewRows(){const e=this;if(e.__viewRows)return e.__viewRows;e._nearRowsAdded||(e._nearRowsAdded=[],e._farRowsAdded=[]);const t=e.rowHierarchy?e.rowHierarchy:e.rows.toArray(),o=[].concat(e._frozenNearDefaultRows,e._nearRowsAdded,t,e._farRowsAdded,e._frozenFarDefaultRows);return e.__viewRows=o,o}_stickHeader(){const e=this;e._stickyHeaderHandler=function(){e._handleStickyHeader()},e.$.columnHeader.style.top="",e.$.columnHeader.classList.remove("smart-columns-sticky");let t=e.parentNode;for(e.isInShadowDOM&&t===e.getRootNode()&&(t=e.getRootNode().host);t!==document&&t;)t.addEventListener("scroll",e._stickyHeaderHandler),t=t.parentNode,e.isInShadowDOM&&t===e.getRootNode()&&(t=e.getRootNode().host);try{null!==window.top&&window.top!==window.self&&window.top.document.addEventListener("scroll",e._stickyHeaderHandler)}catch(e){}e._handleStickyHeader()}_unstickHeader(){const e=this;e.$.columnHeader.style.top="",e.$.columnHeader.classList.remove("smart-columns-sticky");for(let t=e.parentNode;t!==document.body;)t.removeEventListener("scroll",e._stickyHeaderHandler),t=t.parentNode,e.isInShadowDOM&&t===e.getRootNode()&&(t=e.getRootNode().host);try{(""!==document.referrer||window.frameElement)&&null!==window.top&&window.top!==window.self&&window.top.document.removeEventListener("scroll",e._stickyHeaderHandler)}catch(e){}}_handleStickyHeader(){const e=this;if(e.appearance.allowColumnStickyPosition)if(e.$.columnHeader.classList.add("smart-columns-sticky"),0===document.scrollTop&&0===e.parentElement.scrollTop)e.$.columnHeader.style.top="";else{let t=e.parentNode,o=0;for(;t!==document.body;)o+=parseInt(t.scrollTop),t=t.parentNode,e.isInShadowDOM&&t===e.getRootNode()&&(t=e.getRootNode().host);const l=parseInt(e.clientTop+o);e.$.columnHeader.style.top=l+"px";let n=0;window.top!==window.self&&parseInt(window.top.scrollY)>parseInt(e._offsetTop(window.frameElement))&&(n=parseInt(window.top.scrollY)-parseInt(e._offsetTop(window.frameElement))),window.scrollY+n>e.offsetTop&&(e.$.columnHeader.style.top=parseInt(window.scrollY)-parseInt(e.offsetTop)+l+n+"px")}}_scrollHandler(){const e=this;e._handleStickyHeader()}_initializeRowNumberColumn(){const e=this;if(e._frozenNearColumns&&0<e._frozenNearColumns.length&&e._frozenNearColumns[0].rowHeaderColumn)return void(e._frozenNearColumns[0].visible=e.appearance.showRowHeaderNumber||e.appearance.showRowHeader);const t=new Smart.Grid.Column({dataField:"_rowHeaderColumn",label:"",allowSelect:!1,freeze:!0,visible:!0,grid:e,autoGenerated:!0,rowHeaderColumn:!0,cellsAlign:"center"}),o=e.rows?e.rows.length:e.dataSource?e.dataSource.length:0;let l=e.appearance.showRowHeaderNumber?t._measureSize(o):30;e.appearance.autoGenerateColumnWidth&&(l=e.appearance.autoGenerateColumnWidth),t.width=l,t.createElement();const n=new Smart.Observable(t,t.observables);e.viewColumns.splice(0,0,n),e._frozenNearColumns.splice(0,0,n)}_initializeColumns(){const e=this;if("number"==typeof e.columns){const t=[];let o="",l=0;for(let n,a=0;a<e.columns;a++){n=a+1;const i=String.fromCharCode(65+l);l++;const r=o+i;"number"!==e.appearance.autoGenerateColumnLabelMode&&(n=o+i),t.push({align:"center",label:n,dataField:r,width:100}),26<=l&&(l=0,o+="A")}e._boundColumns=t}else e._boundColumns=Array.isArray(e.columns)?e.columns.splice(0):e.columns.toArray().splice(0);e.columnByDataField=[],e.viewColumns=[],e.columns=new Smart.ObservableArray,e._frozenFarColumns=[],e._frozenNearColumns=[],e._summaryRowCount=0;let t=0;const o=function(t){if(e.dataSource.dataFields){const o=e.dataSource.dataFields.find(e=>{if(e.name===t.dataField)return e}),l=o?o.dataType||"string":"string";t.dataType=l}};if(0===e._boundColumns.length&&e.dataSource&&e.dataSource[0]){const t=e.dataSource[0];for(let l in t){if(l.startsWith("_")||"$"==l)continue;const t=e._boundColumns.length,n={index:t,visibleIndex:t,label:l,dataField:l};o(n),e._boundColumns.push(n)}}for(let l,n=0;n<e._boundColumns.length;n++){if(l=e._boundColumns[n],"string"!=typeof l)o(l);else if(e.dataSource.dataFields){const t=e.dataSource.dataFields.find(e=>{if(e.name===l)return e});l={label:l,dataField:l,dataType:t?t.dataType||"string":"string"}}l.visibleIndex=n,l.index=n,l.grid=e;const i=new Smart.Grid.Column(l);for(let t in e.onColumnInit&&e.onColumnInit(n,i),i)-1!==i.properties.indexOf(t)||t.startsWith("_")||e.error(e.localize("invalidColumnProperty",{elementType:"Grid",propertyName:t,type:i.dataField||"Column"}));i.grid=e,e.columns.push(i);const a=e.columns[e.columns.length-1];e._summaryRowCount=Math.max(e._summaryRowCount,i.summary.length),i.freeze?!0===i.freeze||"near"===i.freeze?(e.viewColumns.splice(t++,0,a),e._frozenNearColumns.push(a)):"far"===i.freeze&&e._frozenFarColumns.push(a):e.viewColumns.push(a),e.columnByDataField[i.dataField]?(a.parent=e.columnByDataField[i.dataField],!e.columnByDataField[i.dataField].children&&(e.columnByDataField[i.dataField].children=[]),e.columnByDataField[i.dataField].children.push(a)):e.columnByDataField[i.dataField]=a,e.onColumnInserted&&e.onColumnInserted(n,i)}e.viewColumns=e.viewColumns.concat(e._frozenFarColumns);let l=0;if((e.appearance.showRowHeaderNumber||e.appearance.showRowHeader)&&(e._initializeRowNumberColumn(),l++),e.rowDetail.enabled){const t=new Smart.Grid.Column({dataField:"_rowDetailColumn",allowSelect:!1,visible:e.rowDetail.visible,label:"",grid:e,freeze:!0,rowDetailColumn:!0,autoGenerated:!0,cellsAlign:"center",width:30}),o=new Smart.Observable(t,t.observables);"near"===e.rowDetail.position?(t.freeze="near",o.freeze="near",e.viewColumns.splice(l,0,o),e._frozenNearColumns.splice(l,0,o)):(e.viewColumns.push(o),e._frozenFarColumns.splice(0,0,o)),l++}const n=new Smart.Grid.Column({dataField:"_adaptiveColumn",allowSelect:!1,visible:!1,label:"",grid:e,freeze:"far",adaptiveColumn:!0,autoGenerated:!0,cellsAlign:"center",width:30}),i=new Smart.Observable(n,n.observables);i.canNotify=!1,e.viewColumns.push(i),e._frozenFarColumns.splice(0,0,i);const a=new Smart.Grid.Column({dataField:"_commandColumn",allowSelect:!1,visible:e.editing.enabled&&e.editing.commandColumn.visible&&!e.editing.commandColumn.inline,label:"",grid:e,freeze:"far",commandColumn:!0,autoGenerated:!0,align:"center",cellsAlign:"center",width:""}),r=new Smart.Observable(a,a.observables);r.canNotify=!1,"near"===e.editing.commandColumn.position?(a.freeze="near",r.freeze="near",e.viewColumns.splice(l,0,r),e._frozenNearColumns.splice(l,0,r)):(e.viewColumns.push(r),e._frozenFarColumns.splice(0,0,r)),e._commandColumn=r;const d=new Smart.Grid.Column({allowSelect:!1,visible:e.selection.enabled&&e.selection.checkBoxes.enabled,dataField:"_checkBoxColumn",label:"",freeze:e.selection.checkBoxes.position,grid:e,selectionColumn:!0,autoGenerated:!0,cellsAlign:"center",width:32}),s=new Smart.Observable(d,d.observables);"near"===d.freeze?(e.viewColumns.splice(l,0,s),e._frozenNearColumns.splice(l,0,s)):(e.viewColumns.push(s),e._frozenFarColumns.splice(0,0,s)),e._selectionColumn=s,e._selectionColumn.canNotify=!1,e._observeColumns(),e._templateColumns()}get styleProperties(){return["grid-template-columns"]}_templateColumns(){const e=this,t=getComputedStyle(e),o=t.getPropertyValue("--smart-grid-template-columns").trim(),l=t.getPropertyValue("--smart-grid-column-gap").trim(),n=t.getPropertyValue("--smart-grid-row-gap").trim();if(e._rowGap=parseInt(n),e._columnGap=parseInt(l),e._maxHeight=parseInt(t.maxHeight),e._minHeight=parseInt(t.minHeight),"none"!==o){let t=0;for(let o=0;o<e.viewColumns.length;o++)e.viewColumns[o].autoGenerated&&(t+=e.viewColumns[o].visible?e.viewColumns[o].width:0);let l=[];const n=document.createElement("div");n.style.display="grid",n.style.gridTemplateColumns=o;for(let t=0;t<e.columns.length;t++)n.innerHTML+="<div></div>";n.style.width=e.clientWidth-t+"px",e.$.root.appendChild(n);const a=o.split(" ");for(let t=0;t<e.columns.length;t++)l[t]=n.children[t].offsetWidth,"auto"===a[t]&&(l[t]=null);n.parentNode.removeChild(n);let r=0;for(let t=0;t<e.viewColumns.length;t++){const o=e.viewColumns[t];o.autoGenerated||l[r]&&(o.width=o.templateWidth=l[r++])}}else for(let t=0;t<e.viewColumns.length;t++){const o=e.viewColumns[t];o.autoGenerated||o.templateWidth&&(o.width=o.templateWidth=null)}}onDetached(){const e=this;e._dialogRowDetail&&(e._dialogRowDetail.close(),e._dialogRowDetail=null)}_observeColumns(){const e=this,t=function(e,t,o,l){e.propertyChanged(t,o,l)};for(let o=0;o<e.viewColumns.length;o++){const l=e.viewColumns[o];l.onAction=function(){e._openMenu(this)},l.autoGenerated&&l.notify(function(e){l.canNotify=!1,t(l,e.propertyName,e.oldValue,e.newValue),l.canNotify=!0})}e.columns.notify(function(o){let l=null;if(o.path)return e.columns.canNotify=!1,t(o.target,o.propertyName,o.oldValue,o.newValue),void(e.columns.canNotify=!0);e.columns.canNotify=!1;const n=o.action;let a=0;switch(n){case"length":return void(e.columns.canNotify=!0);case"add":{const t=function(t){if(l=o.object[t],!1==l instanceof Smart.Grid.Column){l=new Smart.Grid.Column(l);const n=e.columns.canNotify;e.columns.canNotify=!1,o.object[t]=l,l=o.object[t],e.columns.canNotify=n}l.grid=e,l.freeze?e._frozenNearColumns.push(l):"far"===l.freeze&&e._frozenFarColumns.push(l);let n=e.viewColumns.length-e._frozenFarColumns.length;if(t<e.columns.length?e.viewColumns.splice(t+e._frozenNearColumns.length,0,l):e.viewColumns.splice(n,0,l),!e.columnByDataField[l.dataField])e.columnByDataField[l.dataField]=l;else{e.columnByDataField[l.dataField].children.push(l),l.parent=e.columnByDataField[l.dataField],l.valueField=l.dataField;const t=l.dataField+"_"+l.parent.children.length;e.columnByDataField[t]=l,l.dataField=t}e.onColumnInserted&&e.onColumnInserted(t,l)};for(let e=0;e<o.addedCount;e++)t(o.index+e);break}case"update":{l=o.object[o.index],!1==l instanceof Smart.Grid.Column&&(l=new Smart.Grid.Column(l)),l.grid=e;for(let t=0;t<o.index;t++)e.viewColumns[t].autoGenerated&&a++;e.viewColumns[a+o.index]=l,e.columnByDataField[l.dataField]=l,e.onColumnUpdated&&e.onColumnUpdated(o.index,l);break}case"remove":{l=o.removed[0];let t=o.index;for(let o=0;o<=t;o++)e.viewColumns[o].autoGenerated&&a++;e.viewColumns.splice(a+t,1),delete e.columnByDataField[l.dataField],e.onColumnRemoved&&e.onColumnRemoved(o.index,l);break}}e._initializeColumnGroupsHierarchy(),e._refreshColumnsResponsiveVisibility(),e._createColumnHeaderCellElements(),e._templateColumns(),e.refresh(),e.columns.canNotify=!0})}get _scrollWidth(){const e=this;if(e.__scrollWidth)return e.__scrollWidth;let t=0;for(let o=0;o<e.viewColumns.length;o++){const l=e.viewColumns[o];l.visible&&(t+=l.computedWidth)}return t=parseInt(t),e.__scrollWidth=t,e._scrollView.scrollWidth=t-e._clientSize.width,e.__scrollWidth}_horizontalScrollbarHandler(){const e=this;e.closeMenu(),e.isScrolling=!0,requestAnimationFrame(()=>{e._recycle(),e.isScrolling=!1})}_mouseWheelHandler(e){const t=this;t._scrollView.hScrollBar.$.hasClass("smart-hidden")&&t._scrollView.vScrollBar.$.hasClass("smart-hidden")||!t.disabled&&!t._scrollView.vScrollBar.$.hasClass("smart-hidden")&&(e.stopPropagation(),e.preventDefault(),t._scrollView.scrollTo(t._scrollView.scrollTop+t._getScrollCoefficient(e,t._clientSize.height)))}_refresh(){const e=this;if(e._isUpdating)return;const t=e.$.verticalScrollBar.offsetWidth;e.removeAttribute("grouped"),e.removeAttribute("tree");let o=!0;e.__autoHeightRows&&(e.__autoHeightRows=null,e._refreshColumnsResponsiveVisibility(),e._recycle(),o=!1),e.grouping.enabled&&e.dataSource.groupBy&&0<e.dataSource.groupBy.length?e.setAttribute("grouped",""):e.dataSource.boundHierarchy&&e.setAttribute("tree",""),(e.isInitialized||o)&&e._refreshColumnsResponsiveVisibility(),e._refreshLayout(),t!==e.$.verticalScrollBar.offsetWidth&&(e.__scrollWidth=null,e._refreshColumnsResponsiveVisibility(),e._refreshScrollBars()),e._refreshSelection(),e._recycle(),requestAnimationFrame(()=>{e._width=e.offsetWidth,e._height=e.offsetHeight})}_resizeHandler(e){const t=this,o=t.enableShadowDOM?e.composedPath()[0]:e.target;if(o===t&&!t._isUpdatingScrollBars){if(!t.isInitialized)return void t._render();t._isUpdatingScrollBars=!0,t._autoHeight=!1,t.$.content&&t.$.content.classList.remove("auto-height"),t.refresh(),t._isUpdatingScrollBars=!1}}_refreshColumnsResponsiveVisibility(){const e=this,t=1+e.$.scrollView.offsetWidth,o=e.$.columnContainer,l=e.$.columnNearContainer,n=e.$.columnFarContainer;let a=0,r=0,d=0,s=!1;for(let t=0;t<e.viewColumns.length;t++){const o=e.viewColumns[t];o._treeColumn=!1,!o.visible||o.autoGenerated||s||(o._treeColumn=!0,s=!0)}e._refreshColumnWidths();let u=0,c=0;for(let t=0;t<e.viewColumns.length;t++){const o=e.viewColumns[t];o.visible&&(o.freeze&&(!0===o.freeze||"near"===o.freeze?(a+=o.computedWidth,o.autoGenerated&&(u+=o.computedWidth)):"far"===o.freeze&&(r+=o.computedWidth,o.autoGenerated&&(c+=o.computedWidth))),d+=o.computedWidth)}o.style.width=d+"px",l.style.width=a+"px",n.style.width=r+"px",n.classList.remove("smart-hidden"),l.classList.remove("smart-hidden"),0===r&&n.classList.add("smart-hidden"),0===a&&l.classList.add("smart-hidden"),n.classList.remove("border-collapse"),r===c&&n.classList.add("border-collapse"),e._autoGeneratedColumnsNearWidth=u,e._autoGeneratedColumnsFarWidth=c,e._computedColumnsWidth=d,e._frozenColumnsNearWidth=a,e._frozenColumnsFarWidth=r}_selectStartHandler(e){const t=this;t.isScrolling||t.editing.isEditing||e.preventDefault()}setFocusable(e){const t=this;return t.disabled||!e?void t.removeAttribute("tabindex"):void(t.tabIndex=0)}_setLoadingIndicatorVisibility(){const e=this;return e.appearance.displayLoadingIndicator?void e.$.loadingIndicatorContainer.classList.remove("smart-visibility-hidden"):void e.$.loadingIndicatorContainer.classList.add("smart-visibility-hidden")}_refreshElementsVisibility(){const e=this,t=function(e,t){t?e.classList.remove("smart-hidden"):e.classList.add("smart-hidden")};if(t(e.$.placeholder,!e.rows||e.rows&&0===e.rows.length||0===e.columns.length),t(e.$.footer,e.footer.visible),t(e.$.header,e.header.visible),t(e.$.groupHeader,e.groupHeader.visible),t(e.$.columnHeader,e.columnHeader.visible&&0<e.columns.length),t(e.$.headerCommandBar,e.editing.commandBar.visible&&e.editing.enabled&&"far"!==e.editing.commandBar.position),t(e.$.footerCommandBar,e.editing.commandBar.visible&&e.editing.enabled&&"near"!==e.editing.commandBar.position),e.htmlColumnLastChild.classList.add("smart-visibility-hidden"),e.pager&&e.pager.visible&&e.paging.enabled)switch(e.pager.position){case"near":t(e.$.headerPager,!0),t(e.$.footerPager,!1);break;case"far":t(e.$.headerPager,!1),t(e.$.footerPager,!0);break;case"both":t(e.$.headerPager,!0),t(e.$.footerPager,!0);}else t(e.$.footerPager,!1),t(e.$.headerPager,!1);e._refreshRowHierarchy()}_refreshRowHierarchy(){const e=this;if((e.rowHierarchy=null,!(!e.grouping.enabled&&e.dataSource.groupBy&&0<e.dataSource.groupBy.length))&&e.dataSource.boundHierarchy){const t=e.dataSource.reservedNames,o=function(t){const o=new Smart.Grid.Row({data:t,index:e.rows.length});return e.rowById[o.id]=o,o},l=function(n,a){for(let r=0;r<n.length;r++){const i=n[r];let d=e.rowById[i.$.id];d||(d=o(i)),d.data=i,d.leaf=i[t.leaf]||!1,d.level=i[t.level],d.groupDataField=i.groupDataField,d.label=i.label,d.children=[],d.data&&(d.filtered=void 0===d.data.$.filtered||d.data.$.filtered),i.summaryRow&&(d.summaryRow=!0),(null===e._toggledRow||e._toggledRow&&e._toggledRow.id!==d.id)&&(d.expandHeight=0),i.parent?(d.parent=e.rowById[i.parent.$.id],d.parentId=i.parent.$.id):(d.parent=null,d.parentId=null);const s=d.expanded;if(!0===d.visible&&!1!==d.filtered)if(s||i[t.leaf]){if(a.push(d),i.children&&0<i.children.length){const e=l(i.children,[]);0===e.length&&(d.leaf=!0);for(let o=0;o<e.length;o++)a.push(e[o]);d.children=e}}else if(a.push(d),i.children&&0<i.children.length){const e=l(i.children,[]);0===e.length&&(d.leaf=!0),d.children=e}}return a};let n=e.dataSource.boundHierarchy;if(e.paging.enabled&&(n=n.slice(e.paging.pageIndex*e.paging.pageSize,(e.paging.pageIndex+1)*e.paging.pageSize)),e.rowHierarchy=l(n,[]),e._rowElements.length<e.rowHierarchy.length&&!e._toggledRow&&e._initializeRowElements(),e.grouping.summaryRow.visible&&!e.grouping.summaryRow.inline){const t=function(e,o,l,n){if(0!==e&&0<o.length&&o[o.length-1]&&!o[o.length-1].summaryRow){let t={label:" ",boundSource:[],groupDataField:l.data.groupDataField,$:{},summaryRow:!0,leaf:!0,level:e,expandHeight:0,siblings:o};t.$.id="SubRow"+n+"_"+l.data.$.id,l&&(t.parent=l.data,t.parentId=l.data.$.id),t.data=Object.assign(t),o.push(t)}for(let a=0;a<o.length;a++)o[a]&&o[a].data&&o[a].data.children&&t(e+1,o[a].data.children,o[a],a)};t(0,e.rowHierarchy,null,0)}}}applyContent(){}_refreshContentHeight(){const e=this;let t=e._clientSize.height;const o=window.scrollY,l=e.offsetHeight;e.$.container.classList.add("smart-hidden");const n=e.offsetHeight;return e.$.container.classList.remove("smart-hidden"),window.scrollY!==o&&window.scrollTo(window.scrollX,o),"hidden"===e.verticalScrollBarVisibility||l!==n||e._minHeight&&e._minHeight===l?(t=e._scrollHeight+e.$.columnHeader.offsetHeight+e.$.filterFooter.offsetHeight,e.$.content.style.height=t+"px",e._contentHeight=t,void(e._maxHeight<t?(e._autoHeight=!1,e.$.content.classList.remove("auto-height"),e.$.content.style.height=e._maxHeight+"px",e._contentHeight=e._maxHeight):(e._autoHeight=!0,e.$.content.classList.add("auto-height")))):void(e.header.visible&&(t-=e.$.header.offsetHeight),e.groupHeader.visible&&(t-=e.$.groupHeader.offsetHeight),e.footer.visible&&(t-=e.$.footer.offsetHeight),e.pager.visible&&(t-=e.$.headerPager.offsetHeight,t-=e.$.footerPager.offsetHeight),e.editing.enabled&&e.editing.commandBar.visible&&(t-=e.$.headerCommandBar.offsetHeight,t-=e.$.footerCommandBar.offsetHeight),e.$.content.style.height=t+"px",e._contentHeight=t)}appendChild(){const e=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(this,e.concat(Array.prototype.slice.call(arguments)))}removeChild(){const e=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(this,e.concat(Array.prototype.slice.call(arguments)))}get _contentBorder(){const e=this;if(e.__contentBorder)return e.__contentBorder;const t=getComputedStyle(e.$.content),o=parseFloat(t.borderLeftWidth)+parseFloat(t.borderRightWidth),l=parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),n={left:o,top:l};return e.__contentBorder=n,n}_refreshLayout(){const e=this,t=e.rows;if(!e._layoutSuspended){if(e._visibleRows=null,e.__viewRows=null,e.__clientSize=null,e.__scrollHeight=null,e.__scrollWidth=null,e.__parentCells=null,e.$.columnFarContainer.classList.remove("vscroll"),e.$.scrollView.classList.remove("hscroll"),e.$.scrollView.classList.remove("vscroll"),e._refreshElementsVisibility(),e._refreshColumnHeights(),e._refreshContentHeight(),!(t&&t.url)&&(!t||null===t||0===t.length||0===e.columns.length))return e.$.placeholder.classList.remove("smart-hidden"),e.scrollWidth=0,void(e.scrollHeight=0);e.__columnHeaderHeight||(e.__columnHeaderHeight=e.$.columnHeader.offsetHeight),e.__filterFooterOffsetHeight||(e.__filterFooterOffsetHeight=e.$.filterFooter.classList.contains("smart-hidden")?0:e.$.filterFooter.offsetHeight);const o=e._contentHeight-e.__filterFooterOffsetHeight-e.__columnHeaderHeight;if(e.$.scrollView.style.height=o+"px",e.htmlColumnLastChild.style.height=e.__columnHeaderHeight+"px",e.paging.spinner.enabled&&e.paging.enabled){if(!e.pageScroll){const t=document.createElement("smart-scroll-bar");t.orientation="vertical",t.style.height="100%",t.style.width="100%",t.max=Math.ceil(e.dataSource.length/e.paging.pageSize),t.step=e.paging.spinner.step,t.largeStep=e.paging.spinner.step,t.setAttribute("spinner",""),t.setAttribute("smart-id","spinner"),t.ownerElement=e,e.addPropertyBinding("[[paging_spinner_step]]","step",t,e.$.columnHeader),t.addEventListener("change",function(t){e.paging.pageIndex=t.detail.value}),e.pageScroll=t}e.htmlColumnLastChild.appendChild(e.pageScroll)}else e.htmlColumnLastChild.innerHTML="";e._refreshScrollBars()}}_refreshScrollBars(){const e=this,t=e._scrollView.vScrollBar,o=e._scrollView.hScrollBar,l=e._contentHeight-e.__filterFooterOffsetHeight-e.__columnHeaderHeight,n=e.$.scrollView.offsetWidth,i=e._scrollWidth-n-e._contentBorder.left,a=e._scrollHeight-l-e._contentBorder.top,r=e._columnNearContainerComputedStyle?e._columnNearContainerComputedStyle:getComputedStyle(e.$.columnNearContainer),d=e._columnFarContainerComputedStyle?e._columnFarContainerComputedStyle:getComputedStyle(e.$.columnFarContainer),s=parseInt(e.$.columnNearContainer.style.width)+parseInt(r.borderRightWidth),u=parseInt(e.$.columnFarContainer.style.width)+parseInt(d.borderLeftWidth);if(e.__frozenNearWidth=s,e.__frozenFarWidth=u,e._columnNearContainerComputedStyle=r,e._columnFarContainerComputedStyle=d,e._refreshHorizontalScrollBarVisibility(i),e._refreshVerticalScrollBarVisibility(a),t.style.height=l+"px",e.computedVerticalScrollBarVisibility&&(!e.__scrollBarSize&&(e.__scrollBarSize=t.offsetWidth),e.__scrollWidth+=e.__scrollBarSize,e._refreshHorizontalScrollBarVisibility(e._scrollWidth-n-1),e.$.columnFarContainer.classList.add("vscroll"),e.htmlColumnLastChild.classList.remove("smart-visibility-hidden")),o.style.width=n+"px",o.style.left="0px",e.computedVerticalScrollBarVisibility&&e.computedHorizontalScrollBarVisibility&&(o.style.width=n-t.offsetWidth+"px",t.style.height=l-o.offsetHeight+"px"),e.computedHorizontalScrollBarVisibility?(e.$.scrollView.classList.add("hscroll"),e._autoHeight?(e.$.content.style.height="auto",e.$.scrollView.style.height="auto",e.$.scrollView.style.paddingBottom=o.offsetHeight+"px"):e.$.scrollView.style.paddingBottom=""):e.$.scrollView.classList.remove("hscroll"),(0<e.__frozenNearHeight||e._frozenNearRows&&0<e._frozenNearRows.length)&&!e.appearance.showVerticalScrollBarOnFixedColumns){const o=getComputedStyle(e.$.rowNearContainer),l=e.__frozenNearHeight+parseInt(o.borderBottomWidth);t.style.height=parseInt(t.style.height)-l+"px",t.style.top=l+"px",t.style.setProperty("--smart-scroll-bar-near-size",l+"px")}else e.appearance.showVerticalScrollBarOnFixedColumns&&(t.style.top="0px");if((0<e.__frozenFarHeight||e._frozenFarRows&&0<e._frozenFarRows.length)&&!e.appearance.showVerticalScrollBarOnFixedColumns){const o=getComputedStyle(e.$.rowFarContainer),l=-2+e.__frozenFarHeight+parseInt(o.borderTopWidth);t.style.height=parseInt(t.style.height)-l+"px",t.style.setProperty("--smart-scroll-bar-far-size",l+"px"),0===e.__frozenNearHeight&&(t.style.top="0px")}(0<s||0<u)&&!e.appearance.showHorizontalScrollBarOnFixedColumns&&(o.style.width=parseInt(o.style.width)-s-u+"px",o.style.left=s+"px",o.style.setProperty("--smart-scroll-bar-near-size",s+parseInt(r.borderRightWidth)+"px"),o.style.setProperty("--smart-scroll-bar-far-size",u+parseInt(r.borderLeftWidth)+"px"),e.computedVerticalScrollBarVisibility&&(!e.__scrollBarSize&&(e.__scrollBarSize=t.offsetWidth),o.style.setProperty("--smart-scroll-bar-far-size",u+e.__scrollBarSize+"px"))),t.refresh(),o.refresh()}_refreshHorizontalScrollBarVisibility(e){const t=this;t.scrollWidth=e,t.computedHorizontalScrollBarVisibility||(t.scrollLeft=0)}_refreshVerticalScrollBarVisibility(e){const t=this;return t._autoHeight?(t.scrollTop=0,void(t.scrollHeight=0)):void(t.computedHorizontalScrollBarVisibility&&(e+=t.$.horizontalScrollBar.offsetHeight),t.scrollHeight=e,t.paging.enabled&&t.paging.spinner.visible&&t.$.verticalScrollBarVisibility.classList.remove("smart-hidden"),!t.computedVerticalScrollBarVisibility&&(t.scrollTop=0))}_styleChangedHandler(e){const t=this;return e.detail.styleProperties.overflow||t.classList.contains("smart-grid-resize-mode")?void 0:e.detail.styleProperties["grid-template-columns"]?(t._templateColumns(),void t.refresh()):void(t.offsetWidth&&0<t.offsetHeight&&(t._resetCachedLayout(),t._refreshLayout(),t._recycle()))}_resetCachedLayout(){const e=this;e.__cellsCommandTemplate=null,e.__autoRowHeight=null,e.__autoHeightRows=null,e.__measuredColumnHeight=null,e.__columnHeaderHeight=null,e.__filterFooterOffsetHeight=null}_swipeLeftHandler(){}_swipeRightHandler(){}_getRowIndexByPosition(e){const t=this,o=(o=>{let l=0,n=o.length-1;if(0>=e)return 0;const i=o[o.length-1];if(-1!==i.top&&i.top<=e)return o.length-1;for(;!0;){const i=Math.floor((l+n)/2),a=o[i];if(t._isRowInPosition(a,e))return i;a.top<e?l=i+1:a.top>e?n=i-1:l=i+1}})(t._recyclingRows);return o}getViewRows(){const e=this;if(e.rowHierarchy)return e.rowHierarchy;let t=e.getVisibleRows();return t}get _recyclingRows(){const e=this;if(e.rowHierarchy)return e.rowHierarchy;let t=e.getVisibleRows();return e.paging.enabled&&(t=t.slice(e.paging.pageIndex*e.paging.pageSize,(e.paging.pageIndex+1)*e.paging.pageSize)),t}_isRowInPosition(e,t){const o=e.top,l=e.top+e.height;return 0!==e.height&&o<=t&&l>t}_renderColumnGroupHeaders(){const e=this;for(let t=0;t<e.columnGroups.length;t++){const o=e.columnGroups[t];o.column.render()}}_isLastVisibleColumn(e){const t=this;for(let o=t.viewColumns.length-1;0<=o;o--){const l=t.viewColumns[o];if(l.visible)return l===e}return!1}_recycle(e,t){var o=Math.max;const l=this;if(l._layoutSuspended)return;if(l._isUpdating)return;l.editing.isEditing&&l.endEdit(),l._inputOverlay&&(l._inputOverlay.parentNode&&l._inputOverlay.parentNode.removeChild(l._inputOverlay),l._inputOverlay=null),l._selection.selectionRect&&l._refreshCellSelectionRect();const n=l._scrollView.scrollTop;let i,a=l._getRowIndexByPosition(n),r=l._recyclingRows,d=r[a],s=d?d.top:0,u=0,c=0,m=0,p=0;for(let c=0;c<l._cellsMerge.length;c++){const e=l._cellsMerge[c],t=r.indexOf(e.row);if(a>t&&a<=t+e.rowSpan&&(a=t,d=e.row,m=o(m,s-d.top),s=d.top,l.$.rowContainer.style.top=l.__frozenNearHeight-n+s+"px"),1<e.colSpan)for(let t=0;t<l.viewColumns.length;t++){const n=l.viewColumns[t];let i=n.autoGenerated?n:l.columnByDataField[n.dataField];if(i.visible&&i.left+i.computedWidth-l._scrollView.scrollLeft>=u&&i.left-i.computedWidth-l._scrollView.scrollLeft<l._clientSize.width){let t=l.columnByDataField[e.column.dataField];p=o(p,i.left-t.left+i.computedWidth);break}}}if(!1!==e||0<l._cellsMerge.length){for(let e=0;e<l._columnElements.length;e++){const t=l._columnElements[e];if(!t.parentNode)break;t.set("column",null,!1),t.classList.add("smart-visibility-hidden")}for(let e=0;e<l.columnGroups.length;e++){const t=l.columnGroups[e],o=t.element;o.style.left=t.left+"px",o.style.width=t.computedWidth+"px"}l._firstVisibleColumn=null,l._lastVisibleColumn=null;for(let e=0;e<l.viewColumns.length;e++){const t=l.viewColumns[e];let o=t;if(o.visible&&(!l._firstVisibleColumn&&(l._firstVisibleColumn=o),l._lastVisibleColumn=o),o.element&&(o===l._firstVisibleColumn?o.element.classList.add("smart-grid-column-border-collapse"):o.element.classList.remove("smart-grid-column-border-collapse")),o.freeze){(!0===o.freeze||"near"===o.freeze)&&o.visible&&(u+=o.computedWidth),o.visible?(o.element.classList.remove("smart-visibility-hidden"),o.render()):o.element.classList.add("smart-visibility-hidden");continue}if(o.visible&&o.left+o.computedWidth-l._scrollView.scrollLeft>=u-p&&o.left-o.computedWidth-l._scrollView.scrollLeft<l._clientSize.width){const e=l._columnElements[c++];e.set("column",o,!1),e.parentNode||l.$.columnContainer.appendChild(e),o.element=e,o.render(),void 0===i&&(i=o.left)}}}if((void 0===i&&(i=0),l.$.columnContainer.style.left=-l._scrollView.scrollLeft+"px",l.$.rowContainer.style.top=l.__frozenNearHeight-n+s+"px",!1!==t)&&l._rowElements){if(0<=a){c=0;let e=o(l._clientSize.height,l._overflowOffset);for(let t=a;t<r.length;t++){const o=r[t];if(0===o.height||!o.visible||!1===o.filtered||o.freeze)continue;const i=o.height;if(o.expandHeight&&(e+=l.offsetHeight+o.expandHeight),s+i>=n-m&&s<=n+e||l._autoHeight){const e=l._rowElements[c++];if(!e)break;o.element=e,o.grid=l,o.render()}else break;s+=i}}if(l._renderFrozenRows(),c<l._rowElements.length)for(let e=c;e<l._rowElements.length;e++){const e=l._rowElements[c++];e.classList.add("smart-hidden")}}}_renderFrozenRows(){const e=this;let t=!1,o=!1;0===e._frozenNearRows.length?e.$.rowNearContainer.classList.add("smart-hidden"):e.$.rowNearContainer.classList.remove("smart-hidden");for(let o=0;o<e._frozenNearRows.length;o++){const l=e._frozenNearRows[o];l.visible&&l.filtered&&(t=!0,l.element=e.$.rowNearContainer.children[o],!l.element&&(l.element=l.createElement(),e.$.rowNearContainer.appendChild(l.element)),l.render())}t||e.$.rowNearContainer.classList.add("smart-hidden"),0===e._frozenFarRows.length?e.$.rowFarContainer.classList.add("smart-hidden"):e.$.rowFarContainer.classList.remove("smart-hidden");for(let t=0;t<e._frozenFarRows.length;t++){const l=e._frozenFarRows[t];l.visible&&(o=!0),l.element=e.$.rowFarContainer.children[t],l.element||(l.element=l.createElement(),e.$.rowFarContainer.appendChild(l.element)),l.render()}o||e.$.rowFarContainer.classList.add("smart-hidden")}_recycleRotate(e,t,o,l,n){const i=t.getBoundingClientRect(),a=e.getBoundingClientRect(),r=4;let d=0,s=0;return 0===a.width?(e.innerHTML=n,!1):(i.left>a.left&&(d=a.left-i.left),i.top<a.top&&(s=a.top-i.top),("left"===o||""===o)&&(d=r),"center"===o&&(d+=a.width/2-i.width/2),"right"===o&&(d+=a.width-i.width-r),("top"===l||""===l)&&(s=r),("center"===l||"middle"===l)&&(s+=a.height/2-i.height/2),"bottom"===l&&(s+=a.height-i.height-r),t.style.left=d+"px",t.style.top=s+"px",!0)}_virtualDataRequest(e){var t=Math.ceil;const o=this;let l=-1,n=-1;if(!o._rowElements&&"infinite"!==o.scrolling)return;if("virtual"===o.scrolling)for(let e=0;e<o._rowElements.length;e++){const t=o._rowElements[e],i=t.row,a=0==e?i.visibleIndex:l+e;t.classList.contains("smart-hidden")||(-1===l&&(l=a),-1!==a)&&(n=1+a)}else"infinite"===o.scrolling?(l=1/0,n=1/0):(l=0,n=o.dataSource.length);o.paging.enabled&&(l=o.paging.pageIndex*o.paging.pageSize,n=l+o.paging.pageSize),n!==1/0&&(n=Math.min(n,o.dataSource.length)),o.appearance.displayLoadingIndicator=!0,o._setLoadingIndicatorVisibility();const i={first:l,last:n,sorting:o.getSortedColumns(),filtering:o.getFilteredColumns(),grouping:[],row:o._toggledRow?o._toggledRow.data:null,action:e},a=o.dataSource.length;o.dataSource.onVirtualDataSourceRequested(function(){o.appearance.displayLoadingIndicator=!1,o._setLoadingIndicatorVisibility(),o._toggledRow=null,o.dataSource.length===a?o.dataSource.virtualDataSourceOnExpand&&o.refresh():(o.paging.enabled&&(o.$.headerPager.querySelector("smart-pager").pagesCount=t(o.dataSource.length/o.paging.pageSize),o.$.footerPager.querySelector("smart-pager").pagesCount=t(o.dataSource.length/o.paging.pageSize)),o._initializeRows(),o._initializeRowElements(),o.refresh(),o._refreshPagesCount()),o._recycle()},i)}_verticalScrollbarHandler(e){const t=this;t.menu&&t.menu.column&&t.closeMenu(),t.isScrolling=!0,t._scrollTimer&&clearTimeout(t._scrollTimer);t._layoutSuspended||(t._scrollTimer=setTimeout(()=>(t._recycle(!1),t.isScrolling=!1,e.max===e.value&&(t.$.fireEvent("scrollBottomReached"),"infinite"===t.scrolling)?void t._virtualDataRequest("scroll"):void("virtual"===t.scrolling&&t._virtualDataRequest("scroll"),e.min===e.value&&t.$.fireEvent("scrollTopReached")))))}clearRows(){const e=this;e.dataSource=[],e.clearSelection()}dataBind(){const e=this;e._renderRows(),"virtual"===e.scrolling||e.paging.enabled&&e.dataSource&&e.dataSource.virtualDataSource?e._virtualDataRequest("dataBind"):e.dataSource&&e.dataSource.virtualDataSource&&e._virtualDataRequest("dataBind")}refresh(e){const t=this;t.isInitialized&&(e&&(t._initializeRows(),t._initializeRowElements()),t._refresh())}refreshView(){const e=this;e._recycle()}beginUpdate(){const e=this;e._isUpdating||(e._isUpdating=0),e._isUpdating++}endUpdate(e){const t=this;t._isUpdating--,0>t._isUpdating&&(t._isUpdating=0),!1===e?t.refreshView():t.refresh()}}),function(){"use strict";Smart.Grid.Extend=function(e){if(e){const t=Object.getOwnPropertyNames(e.prototype);for(let o in t){const l=t[o];"constructor"!==l&&(Smart.Grid.prototype[l]=e.prototype[l])}}},Smart.Grid.Extend(Smart.Utilities.Grid.Resize),Smart.Grid.Extend(Smart.Utilities.Grid.Pager),Smart.Grid.Extend(Smart.Utilities.Grid.Filter),Smart.Grid.Extend(Smart.Utilities.Grid.Sort),Smart.Grid.Extend(Smart.Utilities.Grid.Menu),Smart.Grid.Extend(Smart.Utilities.Grid.Select),Smart.Grid.Extend(Smart.Utilities.Grid.Edit),Smart.Grid.Extend(Smart.Utilities.Grid.Group),Smart.Grid.Extend(Smart.Utilities.Grid.Tree),Smart.Grid.Extend(Smart.Utilities.Grid.Export),Smart.Grid.Extend(Smart.Utilities.Grid.Chart),Smart.Grid.Cell=Smart.Utilities.Grid.Cell,Smart.Grid.Row=Smart.Utilities.Grid.Row,Smart.Grid.Column=Smart.Utilities.Grid.Column}();